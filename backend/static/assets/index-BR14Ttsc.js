var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertyNames,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(t,s,n)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,o=(e,t)=>{for(var s in t||(t={}))a.call(t,s)&&i(e,s,t[s]);if(r)for(var s of r(t))l.call(t,s)&&i(e,s,t[s]);return e},c=(e,n)=>t(e,s(n)),d=e=>"symbol"==typeof e?e:e+"",u=(e,t)=>{var s={};for(var n in e)a.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&r)for(var n of r(e))t.indexOf(n)<0&&l.call(e,n)&&(s[n]=e[n]);return s},m=(e,t,s)=>i(e,"symbol"!=typeof t?t+"":t,s),h=(e,t,s)=>new Promise((n,r)=>{var a=e=>{try{i(s.next(e))}catch(t){r(t)}},l=e=>{try{i(s.throw(e))}catch(t){r(t)}},i=e=>e.done?n(e.value):Promise.resolve(e.value).then(a,l);i((s=s.apply(e,t)).next())});import{j as x,S as f,P as p,R as g,C as v,a as j,T as y,D as b,b as N,O as _,c as w,d as S,u as k,e as C,f as M,g as E,A as F,h as P,i as D,k as A,l as R,m as I,n as T,o as L,p as z,q as O,r as V,s as U,L as B,t as $,v as H,I as q,w as G,x as W,G as K,y as Q,z as Y,B as X,E as J,F as Z,H as ee,J as te,K as se,M as ne,N as re,Q as ae,U as le,W as ie,V as oe,X as ce,Y as de}from"./ui-CuBDl7sJ.js";import{c as ue,r as me,b as he,N as xe,L as fe,u as pe,a as ge,d as ve,e as je,B as ye,f as be,g as Ne}from"./router-C5BecJ4l.js";import{r as _e,a as we,g as Se}from"./vendor-dQk0gtQ5.js";var ke,Ce,Me=(ke={"assets/index-BR14Ttsc.js"(e){!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t,s,n,r,a={exports:{}},l={},i={exports:{}},ke={};function Ce(){return s||(s=1,i.exports=(t||(t=1,function(e){function t(e,t){var s=e.length;e.push(t);e:for(;0<s;){var n=s-1>>>1,a=e[n];if(!(0<r(a,t)))break e;e[n]=t,e[s]=a,s=n}}function s(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var n=0,a=e.length,l=a>>>1;n<l;){var i=2*(n+1)-1,o=e[i],c=i+1,d=e[c];if(0>r(o,s))c<a&&0>r(d,o)?(e[n]=d,e[c]=s,n=c):(e[n]=o,e[i]=s,n=i);else{if(!(c<a&&0>r(d,s)))break e;e[n]=d,e[c]=s,n=c}}}return t}function r(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,i=l.now();e.unstable_now=function(){return l.now()-i}}var o=[],c=[],d=1,u=null,m=3,h=!1,x=!1,f=!1,p=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,j="undefined"!=typeof setImmediate?setImmediate:null;function y(e){for(var r=s(c);null!==r;){if(null===r.callback)n(c);else{if(!(r.startTime<=e))break;n(c),r.sortIndex=r.expirationTime,t(o,r)}r=s(c)}}function b(e){if(f=!1,y(e),!x)if(null!==s(o))x=!0,_||(_=!0,N());else{var t=s(c);null!==t&&P(b,t.startTime-e)}}var N,_=!1,w=-1,S=5,k=-1;function C(){return!(!p&&e.unstable_now()-k<S)}function M(){if(p=!1,_){var t=e.unstable_now();k=t;var r=!0;try{e:{x=!1,f&&(f=!1,v(w),w=-1),h=!0;var a=m;try{t:{for(y(t),u=s(o);null!==u&&!(u.expirationTime>t&&C());){var l=u.callback;if("function"==typeof l){u.callback=null,m=u.priorityLevel;var i=l(u.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof i){u.callback=i,y(t),r=!0;break t}u===s(o)&&n(o),y(t)}else n(o);u=s(o)}if(null!==u)r=!0;else{var d=s(c);null!==d&&P(b,d.startTime-t),r=!1}}break e}finally{u=null,m=a,h=!1}r=void 0}}finally{r?N():_=!1}}}if("function"==typeof j)N=function(){j(M)};else if("undefined"!=typeof MessageChannel){var E=new MessageChannel,F=E.port2;E.port1.onmessage=M,N=function(){F.postMessage(null)}}else N=function(){g(M,0)};function P(t,s){w=g(function(){t(e.unstable_now())},s)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var s=m;m=t;try{return e()}finally{m=s}},e.unstable_requestPaint=function(){p=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=m;m=e;try{return t()}finally{m=s}},e.unstable_scheduleCallback=function(n,r,a){var l=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?l+a:l,n){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return n={id:d++,callback:r,priorityLevel:n,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>l?(n.sortIndex=a,t(c,n),null===s(o)&&n===s(c)&&(f?(v(w),w=-1):f=!0,P(b,a-l))):(n.sortIndex=i,t(o,n),x||h||(x=!0,_||(_=!0,N()))),n},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=m;return function(){var s=m;m=t;try{return e.apply(this,arguments)}finally{m=s}}}}(ke)),ke)),i.exports}
/**
     * @license React
     * react-dom-client.production.js
     *
     * Copyright (c) Meta Platforms, Inc. and affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */function Me(){if(n)return l;n=1;var e=Ce(),t=_e(),s=we();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function o(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function c(e){if(i(e)!==e)throw Error(r(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var u=Object.assign,m=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function E(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=M&&e[M]||e["@@iterator"])?e:null}var F=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===F?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case f:return"Fragment";case g:return"Profiler";case p:return"StrictMode";case N:return"Suspense";case _:return"SuspenseList";case k:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case x:return"Portal";case y:return(e.displayName||"Context")+".Provider";case j:return(e._context.displayName||"Context")+".Consumer";case b:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return P(e(t))}catch(s){}}return null}var D=Array.isArray,A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},T=[],L=-1;function z(e){return{current:e}}function O(e){0>L||(e.current=T[L],T[L]=null,L--)}function V(e,t){L++,T[L]=e.current,e.current=t}var U=z(null),B=z(null),$=z(null),H=z(null);function q(e,t){switch(V($,t),V(B,e),V(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?lu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=iu(t=lu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(U),V(U,e)}function G(){O(U),O(B),O($)}function W(e){null!==e.memoizedState&&V(H,e);var t=U.current,s=iu(t,e.type);t!==s&&(V(B,e),V(U,s))}function K(e){B.current===e&&(O(U),O(B)),H.current===e&&(O(H),Yu._currentValue=I)}var Q=Object.prototype.hasOwnProperty,Y=e.unstable_scheduleCallback,X=e.unstable_cancelCallback,J=e.unstable_shouldYield,Z=e.unstable_requestPaint,ee=e.unstable_now,te=e.unstable_getCurrentPriorityLevel,se=e.unstable_ImmediatePriority,ne=e.unstable_UserBlockingPriority,re=e.unstable_NormalPriority,ae=e.unstable_LowPriority,le=e.unstable_IdlePriority,ie=e.log,oe=e.unstable_setDisableYieldValue,ce=null,de=null;function ue(e){if("function"==typeof ie&&oe(e),de&&"function"==typeof de.setStrictMode)try{de.setStrictMode(ce,e)}catch(t){}}var me=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(he(e)/xe|0)|0},he=Math.log,xe=Math.LN2,fe=256,pe=4194304;function ge(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ve(e,t,s){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var i=134217727&n;return 0!==i?0!==(n=i&~a)?r=ge(n):0!==(l&=i)?r=ge(l):s||0!==(s=i&~e)&&(r=ge(s)):0!==(i=n&~a)?r=ge(i):0!==l?r=ge(l):s||0!==(s=n&~e)&&(r=ge(s)),0===r?0:0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||32===a&&4194048&s)?t:r}function je(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ye(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function be(){var e=fe;return!(4194048&(fe<<=1))&&(fe=256),e}function Ne(){var e=pe;return!(62914560&(pe<<=1))&&(pe=4194304),e}function Se(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ke(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Me(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-me(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|4194090&s}function Ee(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-me(s),r=1<<n;r&t|e[n]&t&&(e[n]|=t),s&=~r}}function Fe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function De(){var e=R.p;return 0!==e?e:void 0===(e=window.event)?32:um(e.type)}var Ae=Math.random().toString(36).slice(2),Re="__reactFiber$"+Ae,Ie="__reactProps$"+Ae,Te="__reactContainer$"+Ae,Le="__reactEvents$"+Ae,ze="__reactListeners$"+Ae,Oe="__reactHandles$"+Ae,Ve="__reactResources$"+Ae,Ue="__reactMarker$"+Ae;function Be(e){delete e[Re],delete e[Ie],delete e[Le],delete e[ze],delete e[Oe]}function $e(e){var t=e[Re];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Te]||s[Re]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=bu(e);null!==e;){if(s=e[Re])return s;e=bu(e)}return t}s=(e=s).parentNode}return null}function He(e){if(e=e[Re]||e[Te]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function Ge(e){var t=e[Ve];return t||(t=e[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Ue]=!0}var Ke=new Set,Qe={};function Ye(e,t){Xe(e,t),Xe(e+"Capture",t)}function Xe(e,t){for(Qe[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Je,Ze,et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},st={};function nt(e,t,s){if(r=t,Q.call(st,r)||!Q.call(tt,r)&&(et.test(r)?st[r]=!0:(tt[r]=!0,0)))if(null===s)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+s)}var r}function rt(e,t,s){if(null===s)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+s)}}function at(e,t,s,n){if(null===n)e.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(s)}e.setAttributeNS(t,s,""+n)}}function lt(e){if(void 0===Je)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Je=t&&t[1]||"",Ze=-1<s.stack.indexOf("\n    at")?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Je+e+Ze}var it=!1;function ot(e,t){if(!e||it)return"";it=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(s,[])}catch(r){var n=r}Reflect.construct(e,[],s)}else{try{s.call()}catch(a){n=a}e.call(s.prototype)}}else{try{throw Error()}catch(l){n=l}(s=e())&&"function"==typeof s.catch&&s.catch(function(){})}}catch(i){if(i&&n&&"string"==typeof i.stack)return[i.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),l=a[0],i=a[1];if(l&&i){var o=l.split("\n"),c=i.split("\n");for(r=n=0;n<o.length&&!o[n].includes("DetermineComponentFrameRoot");)n++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(n===o.length||r===c.length)for(n=o.length-1,r=c.length-1;1<=n&&0<=r&&o[n]!==c[r];)r--;for(;1<=n&&0<=r;n--,r--)if(o[n]!==c[r]){if(1!==n||1!==r)do{if(n--,0>--r||o[n]!==c[r]){var d="\n"+o[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=n&&0<=r);break}}}finally{it=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?lt(s):""}function ct(e){switch(e.tag){case 26:case 27:case 5:return lt(e.type);case 16:return lt("Lazy");case 13:return lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return lt("Activity");default:return""}}function dt(e){try{var t="";do{t+=ct(e),e=e.return}while(e);return t}catch(s){return"\nError generating stack: "+s.message+"\n"+s.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function mt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=mt(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==s&&"function"==typeof s.get&&"function"==typeof s.set){var r=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function xt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=mt(e)?e.checked?"true":"false":e.value),(e=n)!==s&&(t.setValue(e),!0)}function ft(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,s,n,r,a,l,i){e.name="",null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?yt(e,l,ut(t)):null!=s?yt(e,l,ut(s)):null!=n&&e.removeAttribute("value"),null==r&&null!=a&&(e.defaultChecked=!!a),null!=r&&(e.checked=r&&"function"!=typeof r&&"symbol"!=typeof r),null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.name=""+ut(i):e.removeAttribute("name")}function jt(e,t,s,n,r,a,l,i){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=s){if(("submit"===a||"reset"===a)&&null==t)return;s=null!=s?""+ut(s):"",t=null!=t?""+ut(t):s,i||t===e.value||(e.value=t),e.defaultValue=t}n="function"!=typeof(n=null!=n?n:r)&&"symbol"!=typeof n&&!!n,e.checked=i?e.checked:!!n,e.defaultChecked=!!n,null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l&&(e.name=l)}function yt(e,t,s){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function bt(e,t,s,n){if(e=e.options,t){t={};for(var r=0;r<s.length;r++)t["$"+s[r]]=!0;for(s=0;s<e.length;s++)r=t.hasOwnProperty("$"+e[s].value),e[s].selected!==r&&(e[s].selected=r),r&&n&&(e[s].defaultSelected=!0)}else{for(s=""+ut(s),t=null,r=0;r<e.length;r++){if(e[r].value===s)return e[r].selected=!0,void(n&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Nt(e,t,s){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=s)?e.defaultValue=null!=s?""+ut(s):"":e.defaultValue!==t&&(e.defaultValue=t)}function _t(e,t,s,n){if(null==t){if(null!=n){if(null!=s)throw Error(r(92));if(D(n)){if(1<n.length)throw Error(r(93));n=n[0]}s=n}null==s&&(s=""),t=s}s=ut(t),e.defaultValue=s,(n=e.textContent)===s&&""!==n&&null!==n&&(e.value=n)}function wt(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,s){var n=0===t.indexOf("--");null==s||"boolean"==typeof s||""===s?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,s):"number"!=typeof s||0===s||St.has(t)?"float"===t?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function Ct(e,t,s){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=s){for(var n in s)!s.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&s[a]!==n&&kt(e,a,n)}else for(var l in t)t.hasOwnProperty(l)&&kt(e,l,t[l])}function Mt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ft=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Ft.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Dt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,It=null;function Tt(e){var t=He(e);if(t&&(e=t.stateNode)){var s=e[Ie]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=n[Ie]||null;if(!a)throw Error(r(90));vt(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<s.length;t++)(n=s[t]).form===e.form&&xt(n)}break e;case"textarea":Nt(e,s.value,s.defaultValue);break e;case"select":null!=(t=s.value)&&bt(e,!!s.multiple,t,!1)}}}var Lt=!1;function zt(e,t,s){if(Lt)return e(t,s);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Rt||null!==It)&&($c(),Rt&&(t=Rt,e=It,It=Rt=null,Tt(t),e)))for(t=0;t<e.length;t++)Tt(e[t])}}function Ot(e,t){var s=e.stateNode;if(null===s)return null;var n=s[Ie]||null;if(null===n)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(s&&"function"!=typeof s)throw Error(r(231,t,typeof s));return s}var Vt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Ut=!1;if(Vt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Im){Ut=!1}var $t=null,Ht=null,qt=null;function Gt(){if(qt)return qt;var e,t,s=Ht,n=s.length,r="value"in $t?$t.value:$t.textContent,a=r.length;for(e=0;e<n&&s[e]===r[e];e++);var l=n-e;for(t=1;t<=l&&s[n-t]===r[a-t];t++);return qt=r.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Qt(){return!1}function Yt(e){function t(t,s,n,r,a){for(var l in this._reactName=t,this._targetInst=n,this.type=s,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(r):r[l]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Kt:Qt,this.isPropagationStopped=Qt,this}return u(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Xt,Jt,Zt,es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=Yt(es),ss=u({},es,{view:0,detail:0}),ns=Yt(ss),rs=u({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Xt=e.screenX-Zt.screenX,Jt=e.screenY-Zt.screenY):Jt=Xt=0,Zt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),as=Yt(rs),ls=Yt(u({},rs,{dataTransfer:0})),is=Yt(u({},ss,{relatedTarget:0})),os=Yt(u({},es,{animationName:0,elapsedTime:0,pseudoElement:0})),cs=Yt(u({},es,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ds=Yt(u({},es,{data:0})),us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ms={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xs(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hs[e])&&!!t[e]}function fs(){return xs}var ps=Yt(u({},ss,{key:function(e){if(e.key){var t=us[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ms[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gs=Yt(u({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vs=Yt(u({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs})),js=Yt(u({},es,{propertyName:0,elapsedTime:0,pseudoElement:0})),ys=Yt(u({},rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bs=Yt(u({},es,{newState:0,oldState:0})),Ns=[9,13,27,32],_s=Vt&&"CompositionEvent"in window,ws=null;Vt&&"documentMode"in document&&(ws=document.documentMode);var Ss=Vt&&"TextEvent"in window&&!ws,ks=Vt&&(!_s||ws&&8<ws&&11>=ws),Cs=String.fromCharCode(32),Ms=!1;function Es(e,t){switch(e){case"keyup":return-1!==Ns.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fs(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ps=!1,Ds={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function As(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ds[e.type]:"textarea"===t}function Rs(e,t,s,n){Rt?It?It.push(n):It=[n]:Rt=n,0<(t=Gd(t,"onChange")).length&&(s=new ts("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Is=null,Ts=null;function Ls(e){zd(e,0)}function zs(e){if(xt(qe(e)))return e}function Os(e,t){if("change"===e)return t}var Vs=!1;if(Vt){var Us;if(Vt){var Bs="oninput"in document;if(!Bs){var $s=document.createElement("div");$s.setAttribute("oninput","return;"),Bs="function"==typeof $s.oninput}Us=Bs}else Us=!1;Vs=Us&&(!document.documentMode||9<document.documentMode)}function Hs(){Is&&(Is.detachEvent("onpropertychange",qs),Ts=Is=null)}function qs(e){if("value"===e.propertyName&&zs(Ts)){var t=[];Rs(t,Ts,e,At(e)),zt(Ls,t)}}function Gs(e,t,s){"focusin"===e?(Hs(),Ts=s,(Is=t).attachEvent("onpropertychange",qs)):"focusout"===e&&Hs()}function Ws(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zs(Ts)}function Ks(e,t){if("click"===e)return zs(t)}function Qs(e,t){if("input"===e||"change"===e)return zs(t)}var Ys="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Xs(e,t){if(Ys(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var r=s[n];if(!Q.call(t,r)||!Ys(e[r],t[r]))return!1}return!0}function Js(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zs(e,t){var s,n=Js(e);for(e=0;n;){if(3===n.nodeType){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Js(n)}}function en(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?en(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function tn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var s="string"==typeof t.contentWindow.location.href}catch(n){s=!1}if(!s)break;t=ft((e=t.contentWindow).document)}return t}function sn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nn=Vt&&"documentMode"in document&&11>=document.documentMode,rn=null,an=null,ln=null,on=!1;function cn(e,t,s){var n=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;on||null==rn||rn!==ft(n)||(n="selectionStart"in(n=rn)&&sn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ln&&Xs(ln,n)||(ln=n,0<(n=Gd(an,"onSelect")).length&&(t=new ts("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=rn)))}function dn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var un={animationend:dn("Animation","AnimationEnd"),animationiteration:dn("Animation","AnimationIteration"),animationstart:dn("Animation","AnimationStart"),transitionrun:dn("Transition","TransitionRun"),transitionstart:dn("Transition","TransitionStart"),transitioncancel:dn("Transition","TransitionCancel"),transitionend:dn("Transition","TransitionEnd")},mn={},hn={};function xn(e){if(mn[e])return mn[e];if(!un[e])return e;var t,s=un[e];for(t in s)if(s.hasOwnProperty(t)&&t in hn)return mn[e]=s[t];return e}Vt&&(hn=document.createElement("div").style,"AnimationEvent"in window||(delete un.animationend.animation,delete un.animationiteration.animation,delete un.animationstart.animation),"TransitionEvent"in window||delete un.transitionend.transition);var fn=xn("animationend"),pn=xn("animationiteration"),gn=xn("animationstart"),vn=xn("transitionrun"),jn=xn("transitionstart"),yn=xn("transitioncancel"),bn=xn("transitionend"),Nn=new Map,_n="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,t){Nn.set(e,t),Ye(t,[e])}_n.push("scrollEnd");var Sn=new WeakMap;function kn(e,t){if("object"==typeof e&&null!==e){var s=Sn.get(e);return void 0!==s?s:(t={value:e,source:t,stack:dt(t)},Sn.set(e,t),t)}return{value:e,source:t,stack:dt(t)}}var Cn=[],Mn=0,En=0;function Fn(){for(var e=Mn,t=En=Mn=0;t<e;){var s=Cn[t];Cn[t++]=null;var n=Cn[t];Cn[t++]=null;var r=Cn[t];Cn[t++]=null;var a=Cn[t];if(Cn[t++]=null,null!==n&&null!==r){var l=n.pending;null===l?r.next=r:(r.next=l.next,l.next=r),n.pending=r}0!==a&&Rn(s,r,a)}}function Pn(e,t,s,n){Cn[Mn++]=e,Cn[Mn++]=t,Cn[Mn++]=s,Cn[Mn++]=n,En|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function Dn(e,t,s,n){return Pn(e,t,s,n),In(e)}function An(e,t){return Pn(e,null,null,t),In(e)}function Rn(e,t,s){e.lanes|=s;var n=e.alternate;null!==n&&(n.lanes|=s);for(var r=!1,a=e.return;null!==a;)a.childLanes|=s,null!==(n=a.alternate)&&(n.childLanes|=s),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(r=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,r&&null!==t&&(r=31-me(s),null===(n=(e=a.hiddenUpdates)[r])?e[r]=[t]:n.push(t),t.lane=536870912|s),a):null}function In(e){if(50<Rc)throw Rc=0,Ic=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Tn={};function Ln(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,t,s,n){return new Ln(e,t,s,n)}function On(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vn(e,t){var s=e.alternate;return null===s?((s=zn(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=65011712&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Un(e,t){e.flags&=65011714;var s=e.alternate;return null===s?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bn(e,t,s,n,a,l){var i=0;if(n=e,"function"==typeof e)On(e)&&(i=1);else if("string"==typeof e)i=function(e,t,s){if(1===s||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,s,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=zn(31,s,t,a)).elementType=k,e.lanes=l,e;case f:return $n(s.children,a,l,t);case p:i=8,a|=24;break;case g:return(e=zn(12,s,t,2|a)).elementType=g,e.lanes=l,e;case N:return(e=zn(13,s,t,a)).elementType=N,e.lanes=l,e;case _:return(e=zn(19,s,t,a)).elementType=_,e.lanes=l,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case v:case y:i=10;break e;case j:i=9;break e;case b:i=11;break e;case w:i=14;break e;case S:i=16,n=null;break e}i=29,s=Error(r(130,null===e?"null":typeof e,"")),n=null}return(t=zn(i,s,t,a)).elementType=e,t.type=n,t.lanes=l,t}function $n(e,t,s,n){return(e=zn(7,e,n,t)).lanes=s,e}function Hn(e,t,s){return(e=zn(6,e,null,t)).lanes=s,e}function qn(e,t,s){return(t=zn(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gn=[],Wn=0,Kn=null,Qn=0,Yn=[],Xn=0,Jn=null,Zn=1,er="";function tr(e,t){Gn[Wn++]=Qn,Gn[Wn++]=Kn,Kn=e,Qn=t}function sr(e,t,s){Yn[Xn++]=Zn,Yn[Xn++]=er,Yn[Xn++]=Jn,Jn=e;var n=Zn;e=er;var r=32-me(n)-1;n&=~(1<<r),s+=1;var a=32-me(t)+r;if(30<a){var l=r-r%5;a=(n&(1<<l)-1).toString(32),n>>=l,r-=l,Zn=1<<32-me(t)+r|s<<r|n,er=a+e}else Zn=1<<a|s<<r|n,er=e}function nr(e){null!==e.return&&(tr(e,1),sr(e,1,0))}function rr(e){for(;e===Kn;)Kn=Gn[--Wn],Gn[Wn]=null,Qn=Gn[--Wn],Gn[Wn]=null;for(;e===Jn;)Jn=Yn[--Xn],Yn[Xn]=null,er=Yn[--Xn],Yn[Xn]=null,Zn=Yn[--Xn],Yn[Xn]=null}var ar=null,lr=null,ir=!1,or=null,cr=!1,dr=Error(r(519));function ur(e){throw gr(kn(Error(r(418,"")),e)),dr}function mr(e){var t=e.stateNode,s=e.type,n=e.memoizedProps;switch(t[Re]=e,t[Ie]=n,s){case"dialog":Od("cancel",t),Od("close",t);break;case"iframe":case"object":case"embed":Od("load",t);break;case"video":case"audio":for(s=0;s<Td.length;s++)Od(Td[s],t);break;case"source":Od("error",t);break;case"img":case"image":case"link":Od("error",t),Od("load",t);break;case"details":Od("toggle",t);break;case"input":Od("invalid",t),jt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),ht(t);break;case"select":Od("invalid",t);break;case"textarea":Od("invalid",t),_t(t,n.value,n.defaultValue,n.children),ht(t)}"string"!=typeof(s=n.children)&&"number"!=typeof s&&"bigint"!=typeof s||t.textContent===""+s||!0===n.suppressHydrationWarning||Jd(t.textContent,s)?(null!=n.popover&&(Od("beforetoggle",t),Od("toggle",t)),null!=n.onScroll&&Od("scroll",t),null!=n.onScrollEnd&&Od("scrollend",t),null!=n.onClick&&(t.onclick=Zd),t=!0):t=!1,t||ur(e)}function hr(e){for(ar=e.return;ar;)switch(ar.tag){case 5:case 13:return void(cr=!1);case 27:case 3:return void(cr=!0);default:ar=ar.return}}function xr(e){if(e!==ar)return!1;if(!ir)return hr(e),ir=!0,!1;var t,s=e.tag;if((t=3!==s&&27!==s)&&((t=5===s)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ou(e.type,e.memoizedProps)),t=!t),t&&lr&&ur(e),hr(e),13===s){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,s=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===s){lr=ju(e.nextSibling);break e}s--}else"$"!==t&&"$!"!==t&&"$?"!==t||s++;e=e.nextSibling}lr=null}}else 27===s?(s=lr,fu(e.type)?(e=yu,yu=null,lr=e):lr=s):lr=ar?ju(e.stateNode.nextSibling):null;return!0}function fr(){lr=ar=null,ir=!1}function pr(){var e=or;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),or=null),e}function gr(e){null===or?or=[e]:or.push(e)}var vr=z(null),jr=null,yr=null;function br(e,t,s){V(vr,t._currentValue),t._currentValue=s}function Nr(e){e._currentValue=vr.current,O(vr)}function _r(e,t,s){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function wr(e,t,s,n){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){var i=a.child;l=l.firstContext;e:for(;null!==l;){var o=l;l=a;for(var c=0;c<t.length;c++)if(o.context===t[c]){l.lanes|=s,null!==(o=l.alternate)&&(o.lanes|=s),_r(l.return,s,e),n||(i=null);break e}l=o.next}}else if(18===a.tag){if(null===(i=a.return))throw Error(r(341));i.lanes|=s,null!==(l=i.alternate)&&(l.lanes|=s),_r(i,s,e),i=null}else i=a.child;if(null!==i)i.return=a;else for(i=a;null!==i;){if(i===e){i=null;break}if(null!==(a=i.sibling)){a.return=i.return,i=a;break}i=i.return}a=i}}function Sr(e,t,s,n){e=null;for(var a=t,l=!1;null!==a;){if(!l)if(524288&a.flags)l=!0;else if(262144&a.flags)break;if(10===a.tag){var i=a.alternate;if(null===i)throw Error(r(387));if(null!==(i=i.memoizedProps)){var o=a.type;Ys(a.pendingProps.value,i.value)||(null!==e?e.push(o):e=[o])}}else if(a===H.current){if(null===(i=a.alternate))throw Error(r(387));i.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Yu):e=[Yu])}a=a.return}null!==e&&wr(t,e,s,n),t.flags|=262144}function kr(e){for(e=e.firstContext;null!==e;){if(!Ys(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cr(e){jr=e,yr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Mr(e){return Fr(jr,e)}function Er(e,t){return null===jr&&Cr(e),Fr(e,t)}function Fr(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},null===yr){if(null===e)throw Error(r(308));yr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yr=yr.next=t;return s}var Pr="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Dr=e.unstable_scheduleCallback,Ar=e.unstable_NormalPriority,Rr={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ir(){return{controller:new Pr,data:new Map,refCount:0}}function Tr(e){e.refCount--,0===e.refCount&&Dr(Ar,function(){e.controller.abort()})}var Lr=null,zr=0,Or=0,Vr=null;function Ur(){if(0===--zr&&null!==Lr){null!==Vr&&(Vr.status="fulfilled");var e=Lr;Lr=null,Or=0,Vr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Br=A.S;A.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Lr){var s=Lr=[];zr=0,Or=Pd(),Vr={status:"pending",value:void 0,then:function(e){s.push(e)}}}zr++,t.then(Ur,Ur)}(0,t),null!==Br&&Br(e,t)};var $r=z(null);function Hr(){var e=$r.current;return null!==e?e:ac.pooledCache}function qr(e,t){V($r,null===t?$r.current:t.pool)}function Gr(){var e=Hr();return null===e?null:{parent:Rr._currentValue,pool:e}}var Wr=Error(r(460)),Kr=Error(r(474)),Qr=Error(r(542)),Yr={then:function(){}};function Xr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Jr(){}function Zr(e,t,s){switch(void 0===(s=e[s])?e.push(t):s!==t&&(t.then(Jr,Jr),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw sa(e=t.reason),e;default:if("string"==typeof t.status)t.then(Jr,Jr);else{if(null!==(e=ac)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var s=t;s.status="fulfilled",s.value=e}},function(e){if("pending"===t.status){var s=t;s.status="rejected",s.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw sa(e=t.reason),e}throw ea=t,Wr}}var ea=null;function ta(){if(null===ea)throw Error(r(459));var e=ea;return ea=null,e}function sa(e){if(e===Wr||e===Qr)throw Error(r(483))}var na=!1;function ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function la(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ia(e,t,s){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,2&rc){var r=n.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=In(e),Rn(e,null,s),t}return Pn(e,n,t,s),In(e)}function oa(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&s)){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,Ee(e,s)}}function ca(e,t){var s=e.updateQueue,n=e.alternate;if(null!==n&&s===(n=n.updateQueue)){var r=null,a=null;if(null!==(s=s.firstBaseUpdate)){do{var l={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};null===a?r=a=l:a=a.next=l,s=s.next}while(null!==s);null===a?r=a=t:a=a.next=t}else r=a=t;return s={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var da=!1;function ua(){if(da&&null!==Vr)throw Vr}function ma(e,t,s,n){da=!1;var r=e.updateQueue;na=!1;var a=r.firstBaseUpdate,l=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?a=c:l.next=c,l=o;var d=e.alternate;null!==d&&(i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o)}if(null!==a){var m=r.baseState;for(l=0,d=c=o=null,i=a;;){var h=-536870913&i.lane,x=h!==i.lane;if(x?(ic&h)===h:(n&h)===h){0!==h&&h===Or&&(da=!0),null!==d&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var f=e,p=i;h=t;var g=s;switch(p.tag){case 1:if("function"==typeof(f=p.payload)){m=f.call(g,m,h);break e}m=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(h="function"==typeof(f=p.payload)?f.call(g,m,h):f))break e;m=u({},m,h);break e;case 2:na=!0}}null!==(h=i.callback)&&(e.flags|=64,x&&(e.flags|=8192),null===(x=r.callbacks)?r.callbacks=[h]:x.push(h))}else x={lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=x,o=m):d=d.next=x,l|=h;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(x=i).next,x.next=null,r.lastBaseUpdate=x,r.shared.pending=null}}null===d&&(o=m),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null===a&&(r.shared.lanes=0),fc|=l,e.lanes=l,e.memoizedState=m}}function ha(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function xa(e,t){var s=e.callbacks;if(null!==s)for(e.callbacks=null,e=0;e<s.length;e++)ha(s[e],t)}var fa=z(null),pa=z(0);function ga(e,t){V(pa,e=hc),V(fa,t),hc=e|t.baseLanes}function va(){V(pa,hc),V(fa,fa.current)}function ja(){hc=pa.current,O(fa),O(pa)}var ya=0,ba=null,Na=null,_a=null,wa=!1,Sa=!1,ka=!1,Ca=0,Ma=0,Ea=null,Fa=0;function Pa(){throw Error(r(321))}function Da(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Ys(e[s],t[s]))return!1;return!0}function Aa(e,t,s,n,r,a){return ya=a,ba=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=null===e||null===e.memoizedState?Wl:Kl,ka=!1,a=s(n,r),ka=!1,Sa&&(a=Ia(t,s,n,r)),Ra(e),a}function Ra(e){A.H=Gl;var t=null!==Na&&null!==Na.next;if(ya=0,_a=Na=ba=null,wa=!1,Ma=0,Ea=null,t)throw Error(r(300));null===e||Mi||null!==(e=e.dependencies)&&kr(e)&&(Mi=!0)}function Ia(e,t,s,n){ba=e;var a=0;do{if(Sa&&(Ea=null),Ma=0,Sa=!1,25<=a)throw Error(r(301));if(a+=1,_a=Na=null,null!=e.updateQueue){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,null!=l.memoCache&&(l.memoCache.index=0)}A.H=Ql,l=t(s,n)}while(Sa);return l}function Ta(){var e=A.H,t=e.useState()[0];return t="function"==typeof t.then?Ba(t):t,e=e.useState()[0],(null!==Na?Na.memoizedState:null)!==e&&(ba.flags|=1024),t}function La(){var e=0!==Ca;return Ca=0,e}function za(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function Oa(e){if(wa){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}wa=!1}ya=0,_a=Na=ba=null,Sa=!1,Ma=Ca=0,Ea=null}function Va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_a?ba.memoizedState=_a=e:_a=_a.next=e,_a}function Ua(){if(null===Na){var e=ba.alternate;e=null!==e?e.memoizedState:null}else e=Na.next;var t=null===_a?ba.memoizedState:_a.next;if(null!==t)_a=t,Na=e;else{if(null===e){if(null===ba.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Na=e).memoizedState,baseState:Na.baseState,baseQueue:Na.baseQueue,queue:Na.queue,next:null},null===_a?ba.memoizedState=_a=e:_a=_a.next=e}return _a}function Ba(e){var t=Ma;return Ma+=1,null===Ea&&(Ea=[]),e=Zr(Ea,e,t),t=ba,null===(null===_a?t.memoizedState:_a.next)&&(t=t.alternate,A.H=null===t||null===t.memoizedState?Wl:Kl),e}function $a(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Ba(e);if(e.$$typeof===y)return Mr(e)}throw Error(r(438,String(e)))}function Ha(e){var t=null,s=ba.updateQueue;if(null!==s&&(t=s.memoCache),null==t){var n=ba.alternate;null!==n&&null!==(n=n.updateQueue)&&null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===s&&(s={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=s),s.memoCache=t,void 0===(s=t.data[t.index]))for(s=t.data[t.index]=Array(e),n=0;n<e;n++)s[n]=C;return t.index++,s}function qa(e,t){return"function"==typeof t?t(e):t}function Ga(e){return Wa(Ua(),Na,e)}function Wa(e,t,s){var n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=s;var a=e.baseQueue,l=n.pending;if(null!==l){if(null!==a){var i=a.next;a.next=l.next,l.next=i}t.baseQueue=a=l,n.pending=null}if(l=e.baseState,null===a)e.memoizedState=l;else{var o=i=null,c=null,d=t=a.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(ic&m)===m:(ya&m)===m){var h=d.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===Or&&(u=!0);else{if((ya&h)===h){d=d.next,h===Or&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=m,i=l):c=c.next=m,ba.lanes|=h,fc|=h}m=d.action,ka&&s(l,m),l=d.hasEagerState?d.eagerState:s(l,m)}else h={lane:m,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=h,i=l):c=c.next=h,ba.lanes|=m,fc|=m;d=d.next}while(null!==d&&d!==t);if(null===c?i=l:c.next=o,!Ys(l,e.memoizedState)&&(Mi=!0,u&&null!==(s=Vr)))throw s;e.memoizedState=l,e.baseState=i,e.baseQueue=c,n.lastRenderedState=l}return null===a&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ka(e){var t=Ua(),s=t.queue;if(null===s)throw Error(r(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,l=t.memoizedState;if(null!==a){s.pending=null;var i=a=a.next;do{l=e(l,i.action),i=i.next}while(i!==a);Ys(l,t.memoizedState)||(Mi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),s.lastRenderedState=l}return[l,n]}function Qa(e,t,s){var n=ba,a=Ua(),l=ir;if(l){if(void 0===s)throw Error(r(407));s=s()}else s=t();var i=!Ys((Na||a).memoizedState,s);if(i&&(a.memoizedState=s,Mi=!0),a=a.queue,vl(2048,8,Ja.bind(null,n,a,e),[e]),a.getSnapshot!==t||i||null!==_a&&1&_a.memoizedState.tag){if(n.flags|=2048,fl(9,{destroy:void 0,resource:void 0},Xa.bind(null,n,a,s,t),null),null===ac)throw Error(r(349));l||124&ya||Ya(n,t,s)}return s}function Ya(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=ba.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function Xa(e,t,s,n){t.value=s,t.getSnapshot=n,Za(t)&&el(e)}function Ja(e,t,s){return s(function(){Za(t)&&el(e)})}function Za(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Ys(e,s)}catch(n){return!0}}function el(e){var t=An(e,2);null!==t&&zc(t,0,2)}function tl(e){var t=Va();if("function"==typeof e){var s=e;if(e=s(),ka){ue(!0);try{s()}finally{ue(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:e},t}function sl(e,t,s,n){return e.baseState=s,Wa(e,Na,"function"==typeof n?n:qa)}function nl(e,t,s,n,a){if($l(e))throw Error(r(485));if(null!==(e=t.action)){var l={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){l.listeners.push(e)}};null!==A.T?s(!0):l.isTransition=!1,n(l),null===(s=t.pending)?(l.next=t.pending=l,rl(t,l)):(l.next=s.next,t.pending=s.next=l)}}function rl(e,t){var s=t.action,n=t.payload,r=e.state;if(t.isTransition){var a=A.T,l={};A.T=l;try{var i=s(r,n),o=A.S;null!==o&&o(l,i),al(e,t,i)}catch(c){il(e,t,c)}finally{A.T=a}}else try{al(e,t,a=s(r,n))}catch(d){il(e,t,d)}}function al(e,t,s){null!==s&&"object"==typeof s&&"function"==typeof s.then?s.then(function(s){ll(e,t,s)},function(s){return il(e,t,s)}):ll(e,t,s)}function ll(e,t,s){t.status="fulfilled",t.value=s,ol(t),e.state=s,null!==(t=e.pending)&&((s=t.next)===t?e.pending=null:(s=s.next,t.next=s,rl(e,s)))}function il(e,t,s){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=s,ol(t),t=t.next}while(t!==n)}e.action=null}function ol(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function cl(e,t){return t}function dl(e,t){if(ir){var s=ac.formState;if(null!==s){e:{var n=ba;if(ir){if(lr){t:{for(var r=lr,a=cr;8!==r.nodeType;){if(!a){r=null;break t}if(null===(r=ju(r.nextSibling))){r=null;break t}}r="F!"===(a=r.data)||"F"===a?r:null}if(r){lr=ju(r.nextSibling),n="F!"===r.data;break e}}ur(n)}n=!1}n&&(t=s[0])}}return(s=Va()).memoizedState=s.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:t},s.queue=n,s=Vl.bind(null,ba,n),n.dispatch=s,n=tl(!1),a=Bl.bind(null,ba,!1,n.queue),r={state:t,dispatch:null,action:e,pending:null},(n=Va()).queue=r,s=nl.bind(null,ba,r,a,s),r.dispatch=s,n.memoizedState=e,[t,s,!1]}function ul(e){return ml(Ua(),Na,e)}function ml(e,t,s){if(t=Wa(e,t,cl)[0],e=Ga(qa)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var n=Ba(t)}catch(l){if(l===Wr)throw Qr;throw l}else n=t;var r=(t=Ua()).queue,a=r.dispatch;return s!==t.memoizedState&&(ba.flags|=2048,fl(9,{destroy:void 0,resource:void 0},hl.bind(null,r,s),null)),[n,a,e]}function hl(e,t){e.action=t}function xl(e){var t=Ua(),s=Na;if(null!==s)return ml(t,s,e);Ua(),t=t.memoizedState;var n=(s=Ua()).queue.dispatch;return s.memoizedState=e,[t,n,!1]}function fl(e,t,s,n){return e={tag:e,create:s,deps:n,inst:t,next:null},null===(t=ba.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t),null===(s=t.lastEffect)?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e),e}function pl(){return Ua().memoizedState}function gl(e,t,s,n){var r=Va();n=void 0===n?null:n,ba.flags|=e,r.memoizedState=fl(1|t,{destroy:void 0,resource:void 0},s,n)}function vl(e,t,s,n){var r=Ua();n=void 0===n?null:n;var a=r.memoizedState.inst;null!==Na&&null!==n&&Da(n,Na.memoizedState.deps)?r.memoizedState=fl(t,a,s,n):(ba.flags|=e,r.memoizedState=fl(1|t,a,s,n))}function jl(e,t){gl(8390656,8,e,t)}function yl(e,t){vl(2048,8,e,t)}function bl(e,t){return vl(4,2,e,t)}function Nl(e,t){return vl(4,4,e,t)}function _l(e,t){if("function"==typeof t){e=e();var s=t(e);return function(){"function"==typeof s?s():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function wl(e,t,s){s=null!=s?s.concat([e]):null,vl(4,4,_l.bind(null,t,e),s)}function Sl(){}function kl(e,t){var s=Ua();t=void 0===t?null:t;var n=s.memoizedState;return null!==t&&Da(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function Cl(e,t){var s=Ua();t=void 0===t?null:t;var n=s.memoizedState;if(null!==t&&Da(t,n[1]))return n[0];if(n=e(),ka){ue(!0);try{e()}finally{ue(!1)}}return s.memoizedState=[n,t],n}function Ml(e,t,s){return void 0===s||1073741824&ya?e.memoizedState=t:(e.memoizedState=s,e=Lc(),ba.lanes|=e,fc|=e,s)}function El(e,t,s,n){return Ys(s,t)?s:null!==fa.current?(e=Ml(e,s,n),Ys(e,t)||(Mi=!0),e):42&ya?(e=Lc(),ba.lanes|=e,fc|=e,t):(Mi=!0,e.memoizedState=s)}function Fl(e,t,s,n,r){var a=R.p;R.p=0!==a&&8>a?a:8;var l,i,o,c=A.T,d={};A.T=d,Bl(e,!1,t,s);try{var u=r(),m=A.S;null!==m&&m(d,u),null!==u&&"object"==typeof u&&"function"==typeof u.then?Ul(e,t,(l=n,i=[],o={status:"pending",value:null,reason:null,then:function(e){i.push(e)}},u.then(function(){o.status="fulfilled",o.value=l;for(var e=0;e<i.length;e++)(0,i[e])(l)},function(e){for(o.status="rejected",o.reason=e,e=0;e<i.length;e++)(0,i[e])(void 0)}),o),Tc()):Ul(e,t,n,Tc())}catch(h){Ul(e,t,{then:function(){},status:"rejected",reason:h},Tc())}finally{R.p=a,A.T=c}}function Pl(){}function Dl(e,t,s,n){if(5!==e.tag)throw Error(r(476));var a=Al(e).queue;Fl(e,a,t,I,null===s?Pl:function(){return Rl(e),s(n)})}function Al(e){var t=e.memoizedState;if(null!==t)return t;var s={};return(t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:I},next:null}).next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:s},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Rl(e){Ul(e,Al(e).next.queue,{},Tc())}function Il(){return Mr(Yu)}function Tl(){return Ua().memoizedState}function Ll(){return Ua().memoizedState}function zl(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var s=Tc(),n=ia(t,e=la(s),s);return null!==n&&(zc(n,0,s),oa(n,t,s)),t={cache:Ir()},void(e.payload=t)}t=t.return}}function Ol(e,t,s){var n=Tc();s={lane:n,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},$l(e)?Hl(t,s):null!==(s=Dn(e,t,s,n))&&(zc(s,0,n),ql(s,t,n))}function Vl(e,t,s){Ul(e,t,s,Tc())}function Ul(e,t,s,n){var r={lane:n,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if($l(e))Hl(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=a(l,s);if(r.hasEagerState=!0,r.eagerState=i,Ys(i,l))return Pn(e,t,r,0),null===ac&&Fn(),!1}catch(o){}if(null!==(s=Dn(e,t,r,n)))return zc(s,0,n),ql(s,t,n),!0}return!1}function Bl(e,t,s,n){if(n={lane:2,revertLane:Pd(),action:n,hasEagerState:!1,eagerState:null,next:null},$l(e)){if(t)throw Error(r(479))}else null!==(t=Dn(e,s,n,2))&&zc(t,0,2)}function $l(e){var t=e.alternate;return e===ba||null!==t&&t===ba}function Hl(e,t){Sa=wa=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function ql(e,t,s){if(4194048&s){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,Ee(e,s)}}var Gl={readContext:Mr,use:$a,useCallback:Pa,useContext:Pa,useEffect:Pa,useImperativeHandle:Pa,useLayoutEffect:Pa,useInsertionEffect:Pa,useMemo:Pa,useReducer:Pa,useRef:Pa,useState:Pa,useDebugValue:Pa,useDeferredValue:Pa,useTransition:Pa,useSyncExternalStore:Pa,useId:Pa,useHostTransitionStatus:Pa,useFormState:Pa,useActionState:Pa,useOptimistic:Pa,useMemoCache:Pa,useCacheRefresh:Pa},Wl={readContext:Mr,use:$a,useCallback:function(e,t){return Va().memoizedState=[e,void 0===t?null:t],e},useContext:Mr,useEffect:jl,useImperativeHandle:function(e,t,s){s=null!=s?s.concat([e]):null,gl(4194308,4,_l.bind(null,t,e),s)},useLayoutEffect:function(e,t){return gl(4194308,4,e,t)},useInsertionEffect:function(e,t){gl(4,2,e,t)},useMemo:function(e,t){var s=Va();t=void 0===t?null:t;var n=e();if(ka){ue(!0);try{e()}finally{ue(!1)}}return s.memoizedState=[n,t],n},useReducer:function(e,t,s){var n=Va();if(void 0!==s){var r=s(t);if(ka){ue(!0);try{s(t)}finally{ue(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=Ol.bind(null,ba,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Va().memoizedState=e},useState:function(e){var t=(e=tl(e)).queue,s=Vl.bind(null,ba,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:Sl,useDeferredValue:function(e,t){return Ml(Va(),e,t)},useTransition:function(){var e=tl(!1);return e=Fl.bind(null,ba,e.queue,!0,!1),Va().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var n=ba,a=Va();if(ir){if(void 0===s)throw Error(r(407));s=s()}else{if(s=t(),null===ac)throw Error(r(349));124&ic||Ya(n,t,s)}a.memoizedState=s;var l={value:s,getSnapshot:t};return a.queue=l,jl(Ja.bind(null,n,l,e),[e]),n.flags|=2048,fl(9,{destroy:void 0,resource:void 0},Xa.bind(null,n,l,s,t),null),s},useId:function(){var e=Va(),t=ac.identifierPrefix;if(ir){var s=er;t=""+t+"R"+(s=(Zn&~(1<<32-me(Zn)-1)).toString(32)+s),0<(s=Ca++)&&(t+="H"+s.toString(32)),t+=""}else t=""+t+"r"+(s=Fa++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Il,useFormState:dl,useActionState:dl,useOptimistic:function(e){var t=Va();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Bl.bind(null,ba,!0,s),s.dispatch=t,[e,t]},useMemoCache:Ha,useCacheRefresh:function(){return Va().memoizedState=zl.bind(null,ba)}},Kl={readContext:Mr,use:$a,useCallback:kl,useContext:Mr,useEffect:yl,useImperativeHandle:wl,useInsertionEffect:bl,useLayoutEffect:Nl,useMemo:Cl,useReducer:Ga,useRef:pl,useState:function(){return Ga(qa)},useDebugValue:Sl,useDeferredValue:function(e,t){return El(Ua(),Na.memoizedState,e,t)},useTransition:function(){var e=Ga(qa)[0],t=Ua().memoizedState;return["boolean"==typeof e?e:Ba(e),t]},useSyncExternalStore:Qa,useId:Tl,useHostTransitionStatus:Il,useFormState:ul,useActionState:ul,useOptimistic:function(e,t){return sl(Ua(),0,e,t)},useMemoCache:Ha,useCacheRefresh:Ll},Ql={readContext:Mr,use:$a,useCallback:kl,useContext:Mr,useEffect:yl,useImperativeHandle:wl,useInsertionEffect:bl,useLayoutEffect:Nl,useMemo:Cl,useReducer:Ka,useRef:pl,useState:function(){return Ka(qa)},useDebugValue:Sl,useDeferredValue:function(e,t){var s=Ua();return null===Na?Ml(s,e,t):El(s,Na.memoizedState,e,t)},useTransition:function(){var e=Ka(qa)[0],t=Ua().memoizedState;return["boolean"==typeof e?e:Ba(e),t]},useSyncExternalStore:Qa,useId:Tl,useHostTransitionStatus:Il,useFormState:xl,useActionState:xl,useOptimistic:function(e,t){var s=Ua();return null!==Na?sl(s,0,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Ha,useCacheRefresh:Ll},Yl=null,Xl=0;function Jl(e){var t=Xl;return Xl+=1,null===Yl&&(Yl=[]),Zr(Yl,e,t)}function Zl(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ei(e,t){if(t.$$typeof===m)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ti(e){return(0,e._init)(e._payload)}function si(e){function t(t,s){if(e){var n=t.deletions;null===n?(t.deletions=[s],t.flags|=16):n.push(s)}}function s(s,n){if(!e)return null;for(;null!==n;)t(s,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Vn(e,t)).index=0,e.sibling=null,e}function l(t,s,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<s?(t.flags|=67108866,s):n:(t.flags|=67108866,s):(t.flags|=1048576,s)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,s,n){return null===t||6!==t.tag?((t=Hn(s,e.mode,n)).return=e,t):((t=a(t,s)).return=e,t)}function c(e,t,s,n){var r=s.type;return r===f?u(e,t,s.props.children,n,s.key):null!==t&&(t.elementType===r||"object"==typeof r&&null!==r&&r.$$typeof===S&&ti(r)===t.type)?(Zl(t=a(t,s.props),s),t.return=e,t):(Zl(t=Bn(s.type,s.key,s.props,null,e.mode,n),s),t.return=e,t)}function d(e,t,s,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=qn(s,e.mode,n)).return=e,t):((t=a(t,s.children||[])).return=e,t)}function u(e,t,s,n,r){return null===t||7!==t.tag?((t=$n(s,e.mode,n,r)).return=e,t):((t=a(t,s)).return=e,t)}function m(e,t,s){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Hn(""+t,e.mode,s)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case h:return Zl(s=Bn(t.type,t.key,t.props,null,e.mode,s),t),s.return=e,s;case x:return(t=qn(t,e.mode,s)).return=e,t;case S:return m(e,t=(0,t._init)(t._payload),s)}if(D(t)||E(t))return(t=$n(t,e.mode,s,null)).return=e,t;if("function"==typeof t.then)return m(e,Jl(t),s);if(t.$$typeof===y)return m(e,Er(e,t),s);ei(e,t)}return null}function p(e,t,s,n){var r=null!==t?t.key:null;if("string"==typeof s&&""!==s||"number"==typeof s||"bigint"==typeof s)return null!==r?null:o(e,t,""+s,n);if("object"==typeof s&&null!==s){switch(s.$$typeof){case h:return s.key===r?c(e,t,s,n):null;case x:return s.key===r?d(e,t,s,n):null;case S:return p(e,t,s=(r=s._init)(s._payload),n)}if(D(s)||E(s))return null!==r?null:u(e,t,s,n,null);if("function"==typeof s.then)return p(e,t,Jl(s),n);if(s.$$typeof===y)return p(e,t,Er(e,s),n);ei(e,s)}return null}function g(e,t,s,n,r){if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return o(t,e=e.get(s)||null,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case h:return c(t,e=e.get(null===n.key?s:n.key)||null,n,r);case x:return d(t,e=e.get(null===n.key?s:n.key)||null,n,r);case S:return g(e,t,s,n=(0,n._init)(n._payload),r)}if(D(n)||E(n))return u(t,e=e.get(s)||null,n,r,null);if("function"==typeof n.then)return g(e,t,s,Jl(n),r);if(n.$$typeof===y)return g(e,t,s,Er(t,n),r);ei(t,n)}return null}function v(o,c,d,u){if("object"==typeof d&&null!==d&&d.type===f&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case h:e:{for(var j=d.key;null!==c;){if(c.key===j){if((j=d.type)===f){if(7===c.tag){s(o,c.sibling),(u=a(c,d.props.children)).return=o,o=u;break e}}else if(c.elementType===j||"object"==typeof j&&null!==j&&j.$$typeof===S&&ti(j)===c.type){s(o,c.sibling),Zl(u=a(c,d.props),d),u.return=o,o=u;break e}s(o,c);break}t(o,c),c=c.sibling}d.type===f?((u=$n(d.props.children,o.mode,u,d.key)).return=o,o=u):(Zl(u=Bn(d.type,d.key,d.props,null,o.mode,u),d),u.return=o,o=u)}return i(o);case x:e:{for(j=d.key;null!==c;){if(c.key===j){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){s(o,c.sibling),(u=a(c,d.children||[])).return=o,o=u;break e}s(o,c);break}t(o,c),c=c.sibling}(u=qn(d,o.mode,u)).return=o,o=u}return i(o);case S:return v(o,c,d=(j=d._init)(d._payload),u)}if(D(d))return function(r,a,i,o){for(var c=null,d=null,u=a,h=a=0,x=null;null!==u&&h<i.length;h++){u.index>h?(x=u,u=null):x=u.sibling;var f=p(r,u,i[h],o);if(null===f){null===u&&(u=x);break}e&&u&&null===f.alternate&&t(r,u),a=l(f,a,h),null===d?c=f:d.sibling=f,d=f,u=x}if(h===i.length)return s(r,u),ir&&tr(r,h),c;if(null===u){for(;h<i.length;h++)null!==(u=m(r,i[h],o))&&(a=l(u,a,h),null===d?c=u:d.sibling=u,d=u);return ir&&tr(r,h),c}for(u=n(u);h<i.length;h++)null!==(x=g(u,r,h,i[h],o))&&(e&&null!==x.alternate&&u.delete(null===x.key?h:x.key),a=l(x,a,h),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(r,e)}),ir&&tr(r,h),c}(o,c,d,u);if(E(d)){if("function"!=typeof(j=E(d)))throw Error(r(150));return function(a,i,o,c){if(null==o)throw Error(r(151));for(var d=null,u=null,h=i,x=i=0,f=null,v=o.next();null!==h&&!v.done;x++,v=o.next()){h.index>x?(f=h,h=null):f=h.sibling;var j=p(a,h,v.value,c);if(null===j){null===h&&(h=f);break}e&&h&&null===j.alternate&&t(a,h),i=l(j,i,x),null===u?d=j:u.sibling=j,u=j,h=f}if(v.done)return s(a,h),ir&&tr(a,x),d;if(null===h){for(;!v.done;x++,v=o.next())null!==(v=m(a,v.value,c))&&(i=l(v,i,x),null===u?d=v:u.sibling=v,u=v);return ir&&tr(a,x),d}for(h=n(h);!v.done;x++,v=o.next())null!==(v=g(h,a,x,v.value,c))&&(e&&null!==v.alternate&&h.delete(null===v.key?x:v.key),i=l(v,i,x),null===u?d=v:u.sibling=v,u=v);return e&&h.forEach(function(e){return t(a,e)}),ir&&tr(a,x),d}(o,c,d=j.call(d),u)}if("function"==typeof d.then)return v(o,c,Jl(d),u);if(d.$$typeof===y)return v(o,c,Er(o,d),u);ei(o,d)}return"string"==typeof d&&""!==d||"number"==typeof d||"bigint"==typeof d?(d=""+d,null!==c&&6===c.tag?(s(o,c.sibling),(u=a(c,d)).return=o,o=u):(s(o,c),(u=Hn(d,o.mode,u)).return=o,o=u),i(o)):s(o,c)}return function(e,t,s,n){try{Xl=0;var r=v(e,t,s,n);return Yl=null,r}catch(l){if(l===Wr||l===Qr)throw l;var a=zn(29,l,null,e.mode);return a.lanes=n,a.return=e,a}}}var ni=si(!0),ri=si(!1),ai=z(null),li=null;function ii(e){var t=e.alternate;V(ui,1&ui.current),V(ai,e),null===li&&(null===t||null!==fa.current||null!==t.memoizedState)&&(li=e)}function oi(e){if(22===e.tag){if(V(ui,ui.current),V(ai,e),null===li){var t=e.alternate;null!==t&&null!==t.memoizedState&&(li=e)}}else ci()}function ci(){V(ui,ui.current),V(ai,ai.current)}function di(e){O(ai),li===e&&(li=null),O(ui)}var ui=z(0);function mi(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||vu(s)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function hi(e,t,s,n){s=null==(s=s(n,t=e.memoizedState))?t:u({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}var xi={enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Tc(),r=la(n);r.payload=t,null!=s&&(r.callback=s),null!==(t=ia(e,r,n))&&(zc(t,0,n),oa(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Tc(),r=la(n);r.tag=1,r.payload=t,null!=s&&(r.callback=s),null!==(t=ia(e,r,n))&&(zc(t,0,n),oa(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Tc(),n=la(s);n.tag=2,null!=t&&(n.callback=t),null!==(t=ia(e,n,s))&&(zc(t,0,s),oa(t,e,s))}};function fi(e,t,s,n,r,a,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,l):!(t.prototype&&t.prototype.isPureReactComponent&&Xs(s,n)&&Xs(r,a))}function pi(e,t,s,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&xi.enqueueReplaceState(t,t.state,null)}function gi(e,t){var s=t;if("ref"in t)for(var n in s={},t)"ref"!==n&&(s[n]=t[n]);if(e=e.defaultProps)for(var r in s===t&&(s=u({},s)),e)void 0===s[r]&&(s[r]=e[r]);return s}var vi="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ji(e){vi(e)}function yi(e){console.error(e)}function bi(e){vi(e)}function Ni(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function _i(e,t,s){try{(0,e.onCaughtError)(s.value,{componentStack:s.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function wi(e,t,s){return(s=la(s)).tag=3,s.payload={element:null},s.callback=function(){Ni(e,t)},s}function Si(e){return(e=la(e)).tag=3,e}function ki(e,t,s,n){var r=s.type.getDerivedStateFromError;if("function"==typeof r){var a=n.value;e.payload=function(){return r(a)},e.callback=function(){_i(t,s,n)}}var l=s.stateNode;null!==l&&"function"==typeof l.componentDidCatch&&(e.callback=function(){_i(t,s,n),"function"!=typeof r&&(null===kc?kc=new Set([this]):kc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Ci=Error(r(461)),Mi=!1;function Ei(e,t,s,n){t.child=null===e?ri(t,null,s,n):ni(t,e.child,s,n)}function Fi(e,t,s,n,r){s=s.render;var a=t.ref;if("ref"in n){var l={};for(var i in n)"ref"!==i&&(l[i]=n[i])}else l=n;return Cr(t),n=Aa(e,t,s,l,a,r),i=La(),null===e||Mi?(ir&&i&&nr(t),t.flags|=1,Ei(e,t,n,r),t.child):(za(e,t,r),Yi(e,t,r))}function Pi(e,t,s,n,r){if(null===e){var a=s.type;return"function"!=typeof a||On(a)||void 0!==a.defaultProps||null!==s.compare?((e=Bn(s.type,null,n,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Di(e,t,a,n,r))}if(a=e.child,!Xi(e,r)){var l=a.memoizedProps;if((s=null!==(s=s.compare)?s:Xs)(l,n)&&e.ref===t.ref)return Yi(e,t,r)}return t.flags|=1,(e=Vn(a,n)).ref=t.ref,e.return=t,t.child=e}function Di(e,t,s,n,r){if(null!==e){var a=e.memoizedProps;if(Xs(a,n)&&e.ref===t.ref){if(Mi=!1,t.pendingProps=n=a,!Xi(e,r))return t.lanes=e.lanes,Yi(e,t,r);131072&e.flags&&(Mi=!0)}}return Ti(e,t,s,n,r)}function Ai(e,t,s){var n=t.pendingProps,r=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode){if(128&t.flags){if(n=null!==a?a.baseLanes|s:s,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~n}else t.childLanes=0,t.child=null;return Ri(e,t,n,s)}if(!(536870912&s))return t.lanes=t.childLanes=536870912,Ri(e,t,null!==a?a.baseLanes|s:s,s);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qr(0,null!==a?a.cachePool:null),null!==a?ga(t,a):va(),oi(t)}else null!==a?(qr(0,a.cachePool),ga(t,a),ci(),t.memoizedState=null):(null!==e&&qr(0,null),va(),ci());return Ei(e,t,r,s),t.child}function Ri(e,t,s,n){var r=Hr();return r=null===r?null:{parent:Rr._currentValue,pool:r},t.memoizedState={baseLanes:s,cachePool:r},null!==e&&qr(0,null),va(),oi(t),null!==e&&Sr(e,t,n,!0),null}function Ii(e,t){var s=t.ref;if(null===s)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof s&&"object"!=typeof s)throw Error(r(284));null!==e&&e.ref===s||(t.flags|=4194816)}}function Ti(e,t,s,n,r){return Cr(t),s=Aa(e,t,s,n,void 0,r),n=La(),null===e||Mi?(ir&&n&&nr(t),t.flags|=1,Ei(e,t,s,r),t.child):(za(e,t,r),Yi(e,t,r))}function Li(e,t,s,n,r,a){return Cr(t),t.updateQueue=null,s=Ia(t,n,s,r),Ra(e),n=La(),null===e||Mi?(ir&&n&&nr(t),t.flags|=1,Ei(e,t,s,a),t.child):(za(e,t,a),Yi(e,t,a))}function zi(e,t,s,n,r){if(Cr(t),null===t.stateNode){var a=Tn,l=s.contextType;"object"==typeof l&&null!==l&&(a=Mr(l)),a=new s(n,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=xi,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=n,a.state=t.memoizedState,a.refs={},ra(t),l=s.contextType,a.context="object"==typeof l&&null!==l?Mr(l):Tn,a.state=t.memoizedState,"function"==typeof(l=s.getDerivedStateFromProps)&&(hi(t,s,l,n),a.state=t.memoizedState),"function"==typeof s.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(l=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),l!==a.state&&xi.enqueueReplaceState(a,a.state,null),ma(t,n,a,r),ua(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){a=t.stateNode;var i=t.memoizedProps,o=gi(s,i);a.props=o;var c=a.context,d=s.contextType;l=Tn,"object"==typeof d&&null!==d&&(l=Mr(d));var u=s.getDerivedStateFromProps;d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate,i=t.pendingProps!==i,d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(i||c!==l)&&pi(t,a,n,l),na=!1;var m=t.memoizedState;a.state=m,ma(t,n,a,r),ua(),c=t.memoizedState,i||m!==c||na?("function"==typeof u&&(hi(t,s,u,n),c=t.memoizedState),(o=na||fi(t,s,o,n,m,c,l))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=l,n=o):("function"==typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,aa(e,t),d=gi(s,l=t.memoizedProps),a.props=d,u=t.pendingProps,m=a.context,c=s.contextType,o=Tn,"object"==typeof c&&null!==c&&(o=Mr(c)),(c="function"==typeof(i=s.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==u||m!==o)&&pi(t,a,n,o),na=!1,m=t.memoizedState,a.state=m,ma(t,n,a,r),ua();var h=t.memoizedState;l!==u||m!==h||na||null!==e&&null!==e.dependencies&&kr(e.dependencies)?("function"==typeof i&&(hi(t,s,i,n),h=t.memoizedState),(d=na||fi(t,s,d,n,m,h,o)||null!==e&&null!==e.dependencies&&kr(e.dependencies))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(n,h,o),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,h,o)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),a.props=n,a.state=h,a.context=o,n=d):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return a=n,Ii(e,t),n=!!(128&t.flags),a||n?(a=t.stateNode,s=n&&"function"!=typeof s.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&n?(t.child=ni(t,e.child,null,r),t.child=ni(t,null,s,r)):Ei(e,t,s,r),t.memoizedState=a.state,e=t.child):e=Yi(e,t,r),e}function Oi(e,t,s,n){return fr(),t.flags|=256,Ei(e,t,s,n),t.child}var Vi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ui(e){return{baseLanes:e,cachePool:Gr()}}function Bi(e,t,s){return e=null!==e?e.childLanes&~s:0,t&&(e|=vc),e}function $i(e,t,s){var n,a=t.pendingProps,l=!1,i=!!(128&t.flags);if((n=i)||(n=(null===e||null!==e.memoizedState)&&!!(2&ui.current)),n&&(l=!0,t.flags&=-129),n=!!(32&t.flags),t.flags&=-33,null===e){if(ir){if(l?ii(t):ci(),ir){var o,c=lr;if(o=c){e:{for(o=c,c=cr;8!==o.nodeType;){if(!c){c=null;break e}if(null===(o=ju(o.nextSibling))){c=null;break e}}c=o}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Jn?{id:Zn,overflow:er}:null,retryLane:536870912,hydrationErrors:null},(o=zn(18,null,null,0)).stateNode=c,o.return=t,t.child=o,ar=t,lr=null,o=!0):o=!1}o||ur(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return vu(c)?t.lanes=32:t.lanes=536870912,null;di(t)}return c=a.children,a=a.fallback,l?(ci(),c=qi({mode:"hidden",children:c},l=t.mode),a=$n(a,l,s,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(l=t.child).memoizedState=Ui(s),l.childLanes=Bi(e,n,s),t.memoizedState=Vi,a):(ii(t),Hi(t,c))}if(null!==(o=e.memoizedState)&&null!==(c=o.dehydrated)){if(i)256&t.flags?(ii(t),t.flags&=-257,t=Gi(e,t,s)):null!==t.memoizedState?(ci(),t.child=e.child,t.flags|=128,t=null):(ci(),l=a.fallback,c=t.mode,a=qi({mode:"visible",children:a.children},c),(l=$n(l,c,s,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,ni(t,e.child,null,s),(a=t.child).memoizedState=Ui(s),a.childLanes=Bi(e,n,s),t.memoizedState=Vi,t=l);else if(ii(t),vu(c)){if(n=c.nextSibling&&c.nextSibling.dataset)var d=n.dgst;n=d,(a=Error(r(419))).stack="",a.digest=n,gr({value:a,source:null,stack:null}),t=Gi(e,t,s)}else if(Mi||Sr(e,t,s,!1),n=0!==(s&e.childLanes),Mi||n){if(null!==(n=ac)&&0!==(a=0!==((a=42&(a=s&-s)?1:Fe(a))&(n.suspendedLanes|s))?0:a)&&a!==o.retryLane)throw o.retryLane=a,An(e,a),zc(n,0,a),Ci;"$?"===c.data||Qc(),t=Gi(e,t,s)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,lr=ju(c.nextSibling),ar=t,ir=!0,or=null,cr=!1,null!==e&&(Yn[Xn++]=Zn,Yn[Xn++]=er,Yn[Xn++]=Jn,Zn=e.id,er=e.overflow,Jn=t),(t=Hi(t,a.children)).flags|=4096);return t}return l?(ci(),l=a.fallback,c=t.mode,d=(o=e.child).sibling,(a=Vn(o,{mode:"hidden",children:a.children})).subtreeFlags=65011712&o.subtreeFlags,null!==d?l=Vn(d,l):(l=$n(l,c,s,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,null===(c=e.child.memoizedState)?c=Ui(s):(null!==(o=c.cachePool)?(d=Rr._currentValue,o=o.parent!==d?{parent:d,pool:d}:o):o=Gr(),c={baseLanes:c.baseLanes|s,cachePool:o}),l.memoizedState=c,l.childLanes=Bi(e,n,s),t.memoizedState=Vi,a):(ii(t),e=(s=e.child).sibling,(s=Vn(s,{mode:"visible",children:a.children})).return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s)}function Hi(e,t){return(t=qi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qi(e,t){return(e=zn(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Gi(e,t,s){return ni(t,e.child,null,s),(e=Hi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wi(e,t,s){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),_r(e.return,t,s)}function Ki(e,t,s,n,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=r)}function Qi(e,t,s){var n=t.pendingProps,r=n.revealOrder,a=n.tail;if(Ei(e,t,n.children,s),2&(n=ui.current))n=1&n|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wi(e,s,t);else if(19===e.tag)Wi(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(V(ui,n),r){case"forwards":for(s=t.child,r=null;null!==s;)null!==(e=s.alternate)&&null===mi(e)&&(r=s),s=s.sibling;null===(s=r)?(r=t.child,t.child=null):(r=s.sibling,s.sibling=null),Ki(t,!1,r,s,a);break;case"backwards":for(s=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===mi(e)){t.child=r;break}e=r.sibling,r.sibling=s,s=r,r=e}Ki(t,!0,s,null,a);break;case"together":Ki(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yi(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(s&t.childLanes)){if(null===e)return null;if(Sr(e,t,s,!1),0===(s&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(s=Vn(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=Vn(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function Xi(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!kr(e))}function Ji(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps)Mi=!0;else{if(!(Xi(e,s)||128&t.flags))return Mi=!1,function(e,t,s){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),br(0,Rr,e.memoizedState.cache),fr();break;case 27:case 5:W(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:br(0,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(ii(t),t.flags|=128,null):0!==(s&t.child.childLanes)?$i(e,t,s):(ii(t),null!==(e=Yi(e,t,s))?e.sibling:null);ii(t);break;case 19:var r=!!(128&e.flags);if((n=0!==(s&t.childLanes))||(Sr(e,t,s,!1),n=0!==(s&t.childLanes)),r){if(n)return Qi(e,t,s);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),V(ui,ui.current),n)break;return null;case 22:case 23:return t.lanes=0,Ai(e,t,s);case 24:br(0,Rr,e.memoizedState.cache)}return Yi(e,t,s)}(e,t,s);Mi=!!(131072&e.flags)}else Mi=!1,ir&&1048576&t.flags&&sr(t,Qn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,a=n._init;if(n=a(n._payload),t.type=n,"function"!=typeof n){if(null!=n){if((a=n.$$typeof)===b){t.tag=11,t=Fi(null,t,n,e,s);break e}if(a===w){t.tag=14,t=Pi(null,t,n,e,s);break e}}throw t=P(n)||n,Error(r(306,t,""))}On(n)?(e=gi(n,e),t.tag=1,t=zi(null,t,n,e,s)):(t.tag=0,t=Ti(null,t,n,e,s))}return t;case 0:return Ti(e,t,t.type,t.pendingProps,s);case 1:return zi(e,t,n=t.type,a=gi(n,t.pendingProps),s);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(r(387));n=t.pendingProps;var l=t.memoizedState;a=l.element,aa(e,t),ma(t,n,null,s);var i=t.memoizedState;if(n=i.cache,br(0,Rr,n),n!==l.cache&&wr(t,[Rr],s,!0),ua(),n=i.element,l.isDehydrated){if(l={element:n,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Oi(e,t,n,s);break e}if(n!==a){gr(a=kn(Error(r(424)),t)),t=Oi(e,t,n,s);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,lr=ju(e.firstChild),ar=t,ir=!0,or=null,cr=!0,s=ri(t,null,n,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(fr(),n===a){t=Yi(e,t,s);break e}Ei(e,t,n,s)}t=t.child}return t;case 26:return Ii(e,t),null===e?(s=Fu(t.type,null,t.pendingProps,null))?t.memoizedState=s:ir||(s=t.type,e=t.pendingProps,(n=au($.current).createElement(s))[Re]=t,n[Ie]=e,su(n,s,e),We(n),t.stateNode=n):t.memoizedState=Fu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return W(t),null===e&&ir&&(n=t.stateNode=Nu(t.type,t.pendingProps,$.current),ar=t,cr=!0,a=lr,fu(t.type)?(yu=a,lr=ju(n.firstChild)):lr=a),Ei(e,t,t.pendingProps.children,s),Ii(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ir&&((a=n=lr)&&(null!==(n=function(e,t,s,n){for(;1===e.nodeType;){var r=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===a)return e}if(null===(e=ju(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,cr))?(t.stateNode=n,ar=t,lr=ju(n.firstChild),cr=!1,a=!0):a=!1),a||ur(t)),W(t),a=t.type,l=t.pendingProps,i=null!==e?e.memoizedProps:null,n=l.children,ou(a,l)?n=null:null!==i&&ou(a,i)&&(t.flags|=32),null!==t.memoizedState&&(a=Aa(e,t,Ta,null,null,s),Yu._currentValue=a),Ii(e,t),Ei(e,t,n,s),t.child;case 6:return null===e&&ir&&((e=s=lr)&&(null!==(s=function(e,t,s){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!s)return null;if(null===(e=ju(e.nextSibling)))return null}return e}(s,t.pendingProps,cr))?(t.stateNode=s,ar=t,lr=null,e=!0):e=!1),e||ur(t)),null;case 13:return $i(e,t,s);case 4:return q(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ni(t,null,n,s):Ei(e,t,n,s),t.child;case 11:return Fi(e,t,t.type,t.pendingProps,s);case 7:return Ei(e,t,t.pendingProps,s),t.child;case 8:case 12:return Ei(e,t,t.pendingProps.children,s),t.child;case 10:return n=t.pendingProps,br(0,t.type,n.value),Ei(e,t,n.children,s),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,Cr(t),n=n(a=Mr(a)),t.flags|=1,Ei(e,t,n,s),t.child;case 14:return Pi(e,t,t.type,t.pendingProps,s);case 15:return Di(e,t,t.type,t.pendingProps,s);case 19:return Qi(e,t,s);case 31:return n=t.pendingProps,s=t.mode,n={mode:n.mode,children:n.children},null===e?((s=qi(n,s)).ref=t.ref,t.child=s,s.return=t,t=s):((s=Vn(e.child,n)).ref=t.ref,t.child=s,s.return=t,t=s),t;case 22:return Ai(e,t,s);case 24:return Cr(t),n=Mr(Rr),null===e?(null===(a=Hr())&&(a=ac,l=Ir(),a.pooledCache=l,l.refCount++,null!==l&&(a.pooledCacheLanes|=s),a=l),t.memoizedState={parent:n,cache:a},ra(t),br(0,Rr,a)):(0!==(e.lanes&s)&&(aa(e,t),ma(t,null,null,s),ua()),a=e.memoizedState,l=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),br(0,Rr,n)):(n=l.cache,br(0,Rr,n),n!==a.cache&&wr(t,[Rr],s,!0))),Ei(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Zi(e){e.flags|=4}function eo(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!$u(t)){if(null!==(t=ai.current)&&((4194048&ic)===ic?null!==li:(62914560&ic)!==ic&&!(536870912&ic)||t!==li))throw ea=Yr,Kr;e.flags|=8192}}function to(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,jc|=t)}function so(e,t){if(!ir)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;null!==s;)null!==s.alternate&&(n=s),s=s.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function no(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,n=0;if(t)for(var r=e.child;null!==r;)s|=r.lanes|r.childLanes,n|=65011712&r.subtreeFlags,n|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function ro(e,t,s){var n=t.pendingProps;switch(rr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return no(t),null;case 3:return s=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Nr(Rr),G(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(xr(t)?Zi(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,pr())),no(t),null;case 26:return s=t.memoizedState,null===e?(Zi(t),null!==s?(no(t),eo(t,s)):(no(t),t.flags&=-16777217)):s?s!==e.memoizedState?(Zi(t),no(t),eo(t,s)):(no(t),t.flags&=-16777217):(e.memoizedProps!==n&&Zi(t),no(t),t.flags&=-16777217),null;case 27:K(t),s=$.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Zi(t);else{if(!n){if(null===t.stateNode)throw Error(r(166));return no(t),null}e=U.current,xr(t)?mr(t):(e=Nu(a,n,s),t.stateNode=e,Zi(t))}return no(t),null;case 5:if(K(t),s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Zi(t);else{if(!n){if(null===t.stateNode)throw Error(r(166));return no(t),null}if(e=U.current,xr(t))mr(t);else{switch(a=au($.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof n.is?a.createElement("select",{is:n.is}):a.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e="string"==typeof n.is?a.createElement(s,{is:n.is}):a.createElement(s)}}e[Re]=t,e[Ie]=n;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(su(e,s,n),s){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zi(t)}}return no(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&Zi(t);else{if("string"!=typeof n&&null===t.stateNode)throw Error(r(166));if(e=$.current,xr(t)){if(e=t.stateNode,s=t.memoizedProps,n=null,null!==(a=ar))switch(a.tag){case 27:case 5:n=a.memoizedProps}e[Re]=t,(e=!!(e.nodeValue===s||null!==n&&!0===n.suppressHydrationWarning||Jd(e.nodeValue,s)))||ur(t)}else(e=au(e).createTextNode(n))[Re]=t,t.stateNode=e}return no(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=xr(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));a[Re]=t}else fr(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;no(t),a=!1}else a=pr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(di(t),t):(di(t),null)}if(di(t),128&t.flags)return t.lanes=s,t;if(s=null!==n,e=null!==e&&null!==e.memoizedState,s){a=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(a=n.alternate.memoizedState.cachePool.pool);var l=null;null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048)}return s!==e&&s&&(t.child.flags|=8192),to(t,t.updateQueue),no(t),null;case 4:return G(),null===e&&Bd(t.stateNode.containerInfo),no(t),null;case 10:return Nr(t.type),no(t),null;case 19:if(O(ui),null===(a=t.memoizedState))return no(t),null;if(n=!!(128&t.flags),null===(l=a.rendering))if(n)so(a,!1);else{if(0!==xc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=mi(e))){for(t.flags|=128,so(a,!1),e=l.updateQueue,t.updateQueue=e,to(t,e),t.subtreeFlags=0,e=s,s=t.child;null!==s;)Un(s,e),s=s.sibling;return V(ui,1&ui.current|2),t.child}e=e.sibling}null!==a.tail&&ee()>wc&&(t.flags|=128,n=!0,so(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=mi(l))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,to(t,e),so(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ir)return no(t),null}else 2*ee()-a.renderingStartTime>wc&&536870912!==s&&(t.flags|=128,n=!0,so(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=a.last)?e.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ee(),t.sibling=null,e=ui.current,V(ui,n?1&e|2:1&e),t):(no(t),null);case 22:case 23:return di(t),ja(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?!!(536870912&s)&&!(128&t.flags)&&(no(t),6&t.subtreeFlags&&(t.flags|=8192)):no(t),null!==(s=t.updateQueue)&&to(t,s.retryQueue),s=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(s=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==s&&(t.flags|=2048),null!==e&&O($r),null;case 24:return s=null,null!==e&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Nr(Rr),no(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function ao(e,t){switch(rr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Nr(Rr),G(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return K(t),null;case 13:if(di(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));fr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return O(ui),null;case 4:return G(),null;case 10:return Nr(t.type),null;case 22:case 23:return di(t),ja(),null!==e&&O($r),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Nr(Rr),null;default:return null}}function lo(e,t){switch(rr(t),t.tag){case 3:Nr(Rr),G();break;case 26:case 27:case 5:K(t);break;case 4:G();break;case 13:di(t);break;case 19:O(ui);break;case 10:Nr(t.type);break;case 22:case 23:di(t),ja(),null!==e&&O($r);break;case 24:Nr(Rr)}}function io(e,t){try{var s=t.updateQueue,n=null!==s?s.lastEffect:null;if(null!==n){var r=n.next;s=r;do{if((s.tag&e)===e){n=void 0;var a=s.create,l=s.inst;n=a(),l.destroy=n}s=s.next}while(s!==r)}}catch(i){md(t,t.return,i)}}function oo(e,t,s){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){var l=n.inst,i=l.destroy;if(void 0!==i){l.destroy=void 0,r=t;var o=s,c=i;try{c()}catch(d){md(r,o,d)}}}n=n.next}while(n!==a)}}catch(d){md(t,t.return,d)}}function co(e){var t=e.updateQueue;if(null!==t){var s=e.stateNode;try{xa(t,s)}catch(n){md(e,e.return,n)}}}function uo(e,t,s){s.props=gi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(n){md(e,t,n)}}function mo(e,t){try{var s=e.ref;if(null!==s){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"==typeof s?e.refCleanup=s(n):s.current=n}}catch(r){md(e,t,r)}}function ho(e,t){var s=e.ref,n=e.refCleanup;if(null!==s)if("function"==typeof n)try{n()}catch(r){md(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof s)try{s(null)}catch(a){md(e,t,a)}else s.current=null}function xo(e){var t=e.type,s=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break e;case"img":s.src?n.src=s.src:s.srcSet&&(n.srcset=s.srcSet)}}catch(r){md(e,e.return,r)}}function fo(e,t,s){try{var n=e.stateNode;!function(e,t,s,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,l=null,i=null,o=null,c=null,d=null,u=null;for(x in s){var m=s[x];if(s.hasOwnProperty(x)&&null!=m)switch(x){case"checked":case"value":break;case"defaultValue":c=m;default:n.hasOwnProperty(x)||eu(e,t,x,null,n,m)}}for(var h in n){var x=n[h];if(m=s[h],n.hasOwnProperty(h)&&(null!=x||null!=m))switch(h){case"type":l=x;break;case"name":a=x;break;case"checked":d=x;break;case"defaultChecked":u=x;break;case"value":i=x;break;case"defaultValue":o=x;break;case"children":case"dangerouslySetInnerHTML":if(null!=x)throw Error(r(137,t));break;default:x!==m&&eu(e,t,h,x,n,m)}}return void vt(e,i,o,c,d,u,l,a);case"select":for(l in x=i=o=h=null,s)if(c=s[l],s.hasOwnProperty(l)&&null!=c)switch(l){case"value":break;case"multiple":x=c;default:n.hasOwnProperty(l)||eu(e,t,l,null,n,c)}for(a in n)if(l=n[a],c=s[a],n.hasOwnProperty(a)&&(null!=l||null!=c))switch(a){case"value":h=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:l!==c&&eu(e,t,a,l,n,c)}return t=o,s=i,n=x,void(null!=h?bt(e,!!s,h,!1):!!n!=!!s&&(null!=t?bt(e,!!s,t,!0):bt(e,!!s,s?[]:"",!1)));case"textarea":for(o in x=h=null,s)if(a=s[o],s.hasOwnProperty(o)&&null!=a&&!n.hasOwnProperty(o))switch(o){case"value":case"children":break;default:eu(e,t,o,null,n,a)}for(i in n)if(a=n[i],l=s[i],n.hasOwnProperty(i)&&(null!=a||null!=l))switch(i){case"value":h=a;break;case"defaultValue":x=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(r(91));break;default:a!==l&&eu(e,t,i,a,n,l)}return void Nt(e,h,x);case"option":for(var f in s)h=s[f],s.hasOwnProperty(f)&&null!=h&&!n.hasOwnProperty(f)&&("selected"===f?e.selected=!1:eu(e,t,f,null,n,h));for(c in n)h=n[c],x=s[c],!n.hasOwnProperty(c)||h===x||null==h&&null==x||("selected"===c?e.selected=h&&"function"!=typeof h&&"symbol"!=typeof h:eu(e,t,c,h,n,x));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var p in s)h=s[p],s.hasOwnProperty(p)&&null!=h&&!n.hasOwnProperty(p)&&eu(e,t,p,null,n,h);for(d in n)if(h=n[d],x=s[d],n.hasOwnProperty(d)&&h!==x&&(null!=h||null!=x))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(r(137,t));break;default:eu(e,t,d,h,n,x)}return;default:if(Mt(t)){for(var g in s)h=s[g],s.hasOwnProperty(g)&&void 0!==h&&!n.hasOwnProperty(g)&&tu(e,t,g,void 0,n,h);for(u in n)h=n[u],x=s[u],!n.hasOwnProperty(u)||h===x||void 0===h&&void 0===x||tu(e,t,u,h,n,x);return}}for(var v in s)h=s[v],s.hasOwnProperty(v)&&null!=h&&!n.hasOwnProperty(v)&&eu(e,t,v,null,n,h);for(m in n)h=n[m],x=s[m],!n.hasOwnProperty(m)||h===x||null==h&&null==x||eu(e,t,m,h,n,x)}(n,e.type,s,t),n[Ie]=t}catch(a){md(e,e.return,a)}}function po(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fu(e.type)||4===e.tag}function go(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||po(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vo(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===s.nodeType?s.body:"HTML"===s.nodeName?s.ownerDocument.body:s).insertBefore(e,t):((t=9===s.nodeType?s.body:"HTML"===s.nodeName?s.ownerDocument.body:s).appendChild(e),null!=(s=s._reactRootContainer)||null!==t.onclick||(t.onclick=Zd));else if(4!==n&&(27===n&&fu(e.type)&&(s=e.stateNode,t=null),null!==(e=e.child)))for(vo(e,t,s),e=e.sibling;null!==e;)vo(e,t,s),e=e.sibling}function jo(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==n&&(27===n&&fu(e.type)&&(s=e.stateNode),null!==(e=e.child)))for(jo(e,t,s),e=e.sibling;null!==e;)jo(e,t,s),e=e.sibling}function yo(e){var t=e.stateNode,s=e.memoizedProps;try{for(var n=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);su(t,n,s),t[Re]=e,t[Ie]=s}catch(a){md(e,e.return,a)}}var bo=!1,No=!1,_o=!1,wo="function"==typeof WeakSet?WeakSet:Set,So=null;function ko(e,t,s){var n=s.flags;switch(s.tag){case 0:case 11:case 15:Oo(e,s),4&n&&io(5,s);break;case 1:if(Oo(e,s),4&n)if(e=s.stateNode,null===t)try{e.componentDidMount()}catch(l){md(s,s.return,l)}else{var r=gi(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){md(s,s.return,i)}}64&n&&co(s),512&n&&mo(s,s.return);break;case 3:if(Oo(e,s),64&n&&null!==(e=s.updateQueue)){if(t=null,null!==s.child)switch(s.child.tag){case 27:case 5:case 1:t=s.child.stateNode}try{xa(e,t)}catch(l){md(s,s.return,l)}}break;case 27:null===t&&4&n&&yo(s);case 26:case 5:Oo(e,s),null===t&&4&n&&xo(s),512&n&&mo(s,s.return);break;case 12:Oo(e,s);break;case 13:Oo(e,s),4&n&&Do(e,s),64&n&&null!==(e=s.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var s=e.ownerDocument;if("$?"!==e.data||"complete"===s.readyState)t();else{var n=function(){t(),s.removeEventListener("DOMContentLoaded",n)};s.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,s=pd.bind(null,s));break;case 22:if(!(n=null!==s.memoizedState||bo)){t=null!==t&&null!==t.memoizedState||No,r=bo;var a=No;bo=n,(No=t)&&!a?Uo(e,s,!!(8772&s.subtreeFlags)):Oo(e,s),bo=r,No=a}break;case 30:break;default:Oo(e,s)}}function Co(e){var t=e.alternate;null!==t&&(e.alternate=null,Co(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&Be(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mo=null,Eo=!1;function Fo(e,t,s){for(s=s.child;null!==s;)Po(e,t,s),s=s.sibling}function Po(e,t,s){if(de&&"function"==typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ce,s)}catch(a){}switch(s.tag){case 26:No||ho(s,t),Fo(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode).parentNode.removeChild(s);break;case 27:No||ho(s,t);var n=Mo,r=Eo;fu(s.type)&&(Mo=s.stateNode,Eo=!1),Fo(e,t,s),_u(s.stateNode),Mo=n,Eo=r;break;case 5:No||ho(s,t);case 6:if(n=Mo,r=Eo,Mo=null,Fo(e,t,s),Eo=r,null!==(Mo=n))if(Eo)try{(9===Mo.nodeType?Mo.body:"HTML"===Mo.nodeName?Mo.ownerDocument.body:Mo).removeChild(s.stateNode)}catch(l){md(s,t,l)}else try{Mo.removeChild(s.stateNode)}catch(l){md(s,t,l)}break;case 18:null!==Mo&&(Eo?(pu(9===(e=Mo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,s.stateNode),Em(e)):pu(Mo,s.stateNode));break;case 4:n=Mo,r=Eo,Mo=s.stateNode.containerInfo,Eo=!0,Fo(e,t,s),Mo=n,Eo=r;break;case 0:case 11:case 14:case 15:No||oo(2,s,t),No||oo(4,s,t),Fo(e,t,s);break;case 1:No||(ho(s,t),"function"==typeof(n=s.stateNode).componentWillUnmount&&uo(s,t,n)),Fo(e,t,s);break;case 21:Fo(e,t,s);break;case 22:No=(n=No)||null!==s.memoizedState,Fo(e,t,s),No=n;break;default:Fo(e,t,s)}}function Do(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Em(e)}catch(s){md(t,t.return,s)}}function Ao(e,t){var s=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new wo),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new wo),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){var n=gd.bind(null,e,t);s.has(t)||(s.add(t),t.then(n,n))})}function Ro(e,t){var s=t.deletions;if(null!==s)for(var n=0;n<s.length;n++){var a=s[n],l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 27:if(fu(o.type)){Mo=o.stateNode,Eo=!1;break e}break;case 5:Mo=o.stateNode,Eo=!1;break e;case 3:case 4:Mo=o.stateNode.containerInfo,Eo=!0;break e}o=o.return}if(null===Mo)throw Error(r(160));Po(l,i,a),Mo=null,Eo=!1,null!==(l=a.alternate)&&(l.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)To(t,e),t=t.sibling}var Io=null;function To(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ro(t,e),Lo(e),4&n&&(oo(3,e,e.return),io(3,e),oo(5,e,e.return));break;case 1:Ro(t,e),Lo(e),512&n&&(No||null===s||ho(s,s.return)),64&n&&bo&&null!==(e=e.updateQueue)&&null!==(n=e.callbacks)&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===s?n:s.concat(n));break;case 26:var a=Io;if(Ro(t,e),Lo(e),512&n&&(No||null===s||ho(s,s.return)),4&n){var l=null!==s?s.memoizedState:null;if(n=e.memoizedState,null===s)if(null===n)if(null===e.stateNode){e:{n=e.type,s=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":(!(l=a.getElementsByTagName("title")[0])||l[Ue]||l[Re]||"http://www.w3.org/2000/svg"===l.namespaceURI||l.hasAttribute("itemprop"))&&(l=a.createElement(n),a.head.insertBefore(l,a.querySelector("head > title"))),su(l,n,s),l[Re]=e,We(l),n=l;break e;case"link":var i=Uu("link","href",a).get(n+(s.href||""));if(i)for(var o=0;o<i.length;o++)if((l=i[o]).getAttribute("href")===(null==s.href||""===s.href?null:s.href)&&l.getAttribute("rel")===(null==s.rel?null:s.rel)&&l.getAttribute("title")===(null==s.title?null:s.title)&&l.getAttribute("crossorigin")===(null==s.crossOrigin?null:s.crossOrigin)){i.splice(o,1);break t}su(l=a.createElement(n),n,s),a.head.appendChild(l);break;case"meta":if(i=Uu("meta","content",a).get(n+(s.content||"")))for(o=0;o<i.length;o++)if((l=i[o]).getAttribute("content")===(null==s.content?null:""+s.content)&&l.getAttribute("name")===(null==s.name?null:s.name)&&l.getAttribute("property")===(null==s.property?null:s.property)&&l.getAttribute("http-equiv")===(null==s.httpEquiv?null:s.httpEquiv)&&l.getAttribute("charset")===(null==s.charSet?null:s.charSet)){i.splice(o,1);break t}su(l=a.createElement(n),n,s),a.head.appendChild(l);break;default:throw Error(r(468,n))}l[Re]=e,We(l),n=l}e.stateNode=n}else Bu(a,e.type,e.stateNode);else e.stateNode=Tu(a,n,e.memoizedProps);else l!==n?(null===l?null!==s.stateNode&&(s=s.stateNode).parentNode.removeChild(s):l.count--,null===n?Bu(a,e.type,e.stateNode):Tu(a,n,e.memoizedProps)):null===n&&null!==e.stateNode&&fo(e,e.memoizedProps,s.memoizedProps)}break;case 27:Ro(t,e),Lo(e),512&n&&(No||null===s||ho(s,s.return)),null!==s&&4&n&&fo(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Ro(t,e),Lo(e),512&n&&(No||null===s||ho(s,s.return)),32&e.flags){a=e.stateNode;try{wt(a,"")}catch(x){md(e,e.return,x)}}4&n&&null!=e.stateNode&&fo(e,a=e.memoizedProps,null!==s?s.memoizedProps:a),1024&n&&(_o=!0);break;case 6:if(Ro(t,e),Lo(e),4&n){if(null===e.stateNode)throw Error(r(162));n=e.memoizedProps,s=e.stateNode;try{s.nodeValue=n}catch(x){md(e,e.return,x)}}break;case 3:if(Vu=null,a=Io,Io=ku(t.containerInfo),Ro(t,e),Io=a,Lo(e),4&n&&null!==s&&s.memoizedState.isDehydrated)try{Em(t.containerInfo)}catch(x){md(e,e.return,x)}_o&&(_o=!1,zo(e));break;case 4:n=Io,Io=ku(e.stateNode.containerInfo),Ro(t,e),Lo(e),Io=n;break;case 12:default:Ro(t,e),Lo(e);break;case 13:Ro(t,e),Lo(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==s&&null!==s.memoizedState)&&(_c=ee()),4&n&&null!==(n=e.updateQueue)&&(e.updateQueue=null,Ao(e,n));break;case 22:a=null!==e.memoizedState;var c=null!==s&&null!==s.memoizedState,d=bo,u=No;if(bo=d||a,No=u||c,Ro(t,e),No=u,bo=d,Lo(e),8192&n)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===s||c||bo||No||Vo(e)),s=null,t=e;;){if(5===t.tag||26===t.tag){if(null===s){c=s=t;try{if(l=c.stateNode,a)"function"==typeof(i=l.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{o=c.stateNode;var m=c.memoizedProps.style,h=null!=m&&m.hasOwnProperty("display")?m.display:null;o.style.display=null==h||"boolean"==typeof h?"":(""+h).trim()}}catch(x){md(c,c.return,x)}}}else if(6===t.tag){if(null===s){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(x){md(c,c.return,x)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}4&n&&null!==(n=e.updateQueue)&&null!==(s=n.retryQueue)&&(n.retryQueue=null,Ao(e,s));break;case 19:Ro(t,e),Lo(e),4&n&&null!==(n=e.updateQueue)&&(e.updateQueue=null,Ao(e,n));case 30:case 21:}}function Lo(e){var t=e.flags;if(2&t){try{for(var s,n=e.return;null!==n;){if(po(n)){s=n;break}n=n.return}if(null==s)throw Error(r(160));switch(s.tag){case 27:var a=s.stateNode;jo(e,go(e),a);break;case 5:var l=s.stateNode;32&s.flags&&(wt(l,""),s.flags&=-33),jo(e,go(e),l);break;case 3:case 4:var i=s.stateNode.containerInfo;vo(e,go(e),i);break;default:throw Error(r(161))}}catch(o){md(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function zo(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;zo(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Oo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ko(e,t.alternate,t),t=t.sibling}function Vo(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oo(4,t,t.return),Vo(t);break;case 1:ho(t,t.return);var s=t.stateNode;"function"==typeof s.componentWillUnmount&&uo(t,t.return,s),Vo(t);break;case 27:_u(t.stateNode);case 26:case 5:ho(t,t.return),Vo(t);break;case 22:null===t.memoizedState&&Vo(t);break;default:Vo(t)}e=e.sibling}}function Uo(e,t,s){for(s=s&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,r=e,a=t,l=a.flags;switch(a.tag){case 0:case 11:case 15:Uo(r,a,s),io(4,a);break;case 1:if(Uo(r,a,s),"function"==typeof(r=(n=a).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){md(n,n.return,c)}if(null!==(r=(n=a).updateQueue)){var i=n.stateNode;try{var o=r.shared.hiddenCallbacks;if(null!==o)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)ha(o[r],i)}catch(c){md(n,n.return,c)}}s&&64&l&&co(a),mo(a,a.return);break;case 27:yo(a);case 26:case 5:Uo(r,a,s),s&&null===n&&4&l&&xo(a),mo(a,a.return);break;case 12:Uo(r,a,s);break;case 13:Uo(r,a,s),s&&4&l&&Do(r,a);break;case 22:null===a.memoizedState&&Uo(r,a,s),mo(a,a.return);break;case 30:break;default:Uo(r,a,s)}t=t.sibling}}function Bo(e,t){var s=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(s=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==s&&(null!=e&&e.refCount++,null!=s&&Tr(s))}function $o(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Tr(e))}function Ho(e,t,s,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)qo(e,t,s,n),t=t.sibling}function qo(e,t,s,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Ho(e,t,s,n),2048&r&&io(9,t);break;case 1:case 13:default:Ho(e,t,s,n);break;case 3:Ho(e,t,s,n),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Tr(e)));break;case 12:if(2048&r){Ho(e,t,s,n),e=t.stateNode;try{var a=t.memoizedProps,l=a.id,i=a.onPostCommit;"function"==typeof i&&i(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){md(t,t.return,o)}}else Ho(e,t,s,n);break;case 23:break;case 22:a=t.stateNode,l=t.alternate,null!==t.memoizedState?2&a._visibility?Ho(e,t,s,n):Wo(e,t):2&a._visibility?Ho(e,t,s,n):(a._visibility|=2,Go(e,t,s,n,!!(10256&t.subtreeFlags))),2048&r&&Bo(l,t);break;case 24:Ho(e,t,s,n),2048&r&&$o(t.alternate,t)}}function Go(e,t,s,n,r){for(r=r&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,l=t,i=s,o=n,c=l.flags;switch(l.tag){case 0:case 11:case 15:Go(a,l,i,o,r),io(8,l);break;case 23:break;case 22:var d=l.stateNode;null!==l.memoizedState?2&d._visibility?Go(a,l,i,o,r):Wo(a,l):(d._visibility|=2,Go(a,l,i,o,r)),r&&2048&c&&Bo(l.alternate,l);break;case 24:Go(a,l,i,o,r),r&&2048&c&&$o(l.alternate,l);break;default:Go(a,l,i,o,r)}t=t.sibling}}function Wo(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var s=e,n=t,r=n.flags;switch(n.tag){case 22:Wo(s,n),2048&r&&Bo(n.alternate,n);break;case 24:Wo(s,n),2048&r&&$o(n.alternate,n);break;default:Wo(s,n)}t=t.sibling}}var Ko=8192;function Qo(e){if(e.subtreeFlags&Ko)for(e=e.child;null!==e;)Yo(e),e=e.sibling}function Yo(e){switch(e.tag){case 26:Qo(e),e.flags&Ko&&null!==e.memoizedState&&function(e,t,s){if(null===Hu)throw Error(r(475));var n=Hu;if(!("stylesheet"!==t.type||"string"==typeof s.media&&!1===matchMedia(s.media).matches||4&t.state.loading)){if(null===t.instance){var a=Pu(s.href),l=e.querySelector(Du(a));if(l)return null!==(e=l._p)&&"object"==typeof e&&"function"==typeof e.then&&(n.count++,n=Gu.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=l,void We(l);l=e.ownerDocument||e,s=Au(s),(a=wu.get(a))&&zu(s,a),We(l=l.createElement("link"));var i=l;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),su(l,"link",s),t.instance=l}null===n.stylesheets&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(n.count++,t=Gu.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}(Io,e.memoizedState,e.memoizedProps);break;case 5:default:Qo(e);break;case 3:case 4:var t=Io;Io=ku(e.stateNode.containerInfo),Qo(e),Io=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Ko,Ko=16777216,Qo(e),Ko=t):Qo(e))}}function Xo(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Jo(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var s=0;s<t.length;s++){var n=t[s];So=n,tc(n,e)}Xo(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Zo(e),e=e.sibling}function Zo(e){switch(e.tag){case 0:case 11:case 15:Jo(e),2048&e.flags&&oo(9,e,e.return);break;case 3:case 12:default:Jo(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Jo(e)}}function ec(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var s=0;s<t.length;s++){var n=t[s];So=n,tc(n,e)}Xo(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:oo(8,t,t.return),ec(t);break;case 22:2&(s=t.stateNode)._visibility&&(s._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==So;){var s=So;switch(s.tag){case 0:case 11:case 15:oo(8,s,t);break;case 23:case 22:if(null!==s.memoizedState&&null!==s.memoizedState.cachePool){var n=s.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Tr(s.memoizedState.cache)}if(null!==(n=s.child))n.return=s,So=n;else e:for(s=e;null!==So;){var r=(n=So).sibling,a=n.return;if(Co(n),n===s){So=null;break e}if(null!==r){r.return=a,So=r;break e}So=a}}}var sc={getCacheForType:function(e){var t=Mr(Rr),s=t.data.get(e);return void 0===s&&(s=e(),t.data.set(e,s)),s}},nc="function"==typeof WeakMap?WeakMap:Map,rc=0,ac=null,lc=null,ic=0,oc=0,cc=null,dc=!1,uc=!1,mc=!1,hc=0,xc=0,fc=0,pc=0,gc=0,vc=0,jc=0,yc=null,bc=null,Nc=!1,_c=0,wc=1/0,Sc=null,kc=null,Cc=0,Mc=null,Ec=null,Fc=0,Pc=0,Dc=null,Ac=null,Rc=0,Ic=null;function Tc(){return 2&rc&&0!==ic?ic&-ic:null!==A.T?0!==Or?Or:Pd():De()}function Lc(){0===vc&&(vc=536870912&ic&&!ir?536870912:be());var e=ai.current;return null!==e&&(e.flags|=32),vc}function zc(e,t,s){(e!==ac||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(qc(e,0),Bc(e,ic,vc,!1)),ke(e,s),2&rc&&e===ac||(e===ac&&(!(2&rc)&&(pc|=s),4===xc&&Bc(e,ic,vc,!1)),wd(e))}function Oc(e,t,s){if(6&rc)throw Error(r(327));for(var n=!s&&!(124&t)&&0===(t&e.expiredLanes)||je(e,t),a=n?function(e,t){var s=rc;rc|=2;var n=Wc(),a=Kc();ac!==e||ic!==t?(Sc=null,wc=ee()+500,qc(e,t)):uc=je(e,t);e:for(;;)try{if(0!==oc&&null!==lc){t=lc;var l=cc;t:switch(oc){case 1:oc=0,cc=null,td(e,t,l,1);break;case 2:case 9:if(Xr(l)){oc=0,cc=null,ed(t);break}t=function(){2!==oc&&9!==oc||ac!==e||(oc=7),wd(e)},l.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Xr(l)?(oc=0,cc=null,ed(t)):(oc=0,cc=null,td(e,t,l,7));break;case 5:var i=null;switch(lc.tag){case 26:i=lc.memoizedState;case 5:case 27:var o=lc;if(!i||$u(i)){oc=0,cc=null;var c=o.sibling;if(null!==c)lc=c;else{var d=o.return;null!==d?(lc=d,sd(d)):lc=null}break t}}oc=0,cc=null,td(e,t,l,5);break;case 6:oc=0,cc=null,td(e,t,l,6);break;case 8:Hc(),xc=6;break e;default:throw Error(r(462))}}Jc();break}catch(u){Gc(e,u)}return yr=jr=null,A.H=n,A.A=a,rc=s,null!==lc?0:(ac=null,ic=0,Fn(),xc)}(e,t):Yc(e,t,!0),l=n;;){if(0===a){uc&&!n&&Bc(e,t,0,!1);break}if(s=e.current.alternate,!l||Uc(s)){if(2===a){if(l=t,e.errorRecoveryDisabledLanes&l)var i=0;else i=0!=(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var o=e;a=yc;var c=o.current.memoizedState.isDehydrated;if(c&&(qc(o,i).flags|=256),2!==(i=Yc(o,i,!1))){if(mc&&!c){o.errorRecoveryDisabledLanes|=l,pc|=l,a=4;break e}l=bc,bc=a,null!==l&&(null===bc?bc=l:bc.push.apply(bc,l))}a=i}if(l=!1,2!==a)continue}}if(1===a){qc(e,0),Bc(e,t,0,!0);break}e:{switch(n=e,l=a){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:Bc(n,t,vc,!dc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(a=_c+300-ee())){if(Bc(n,t,vc,!dc),0!==ve(n,0,!0))break e;n.timeoutHandle=du(Vc.bind(null,n,s,bc,Sc,Nc,t,vc,pc,jc,dc,l,2,-0,0),a)}else Vc(n,s,bc,Sc,Nc,t,vc,pc,jc,dc,l,0,-0,0)}break}a=Yc(e,t,!1),l=!1}wd(e)}function Vc(e,t,s,n,a,l,i,o,c,d,u,m,h,x){if(e.timeoutHandle=-1,(8192&(m=t.subtreeFlags)||!(16785408&~m))&&(Hu={stylesheets:null,count:0,unsuspend:qu},Yo(t),null!==(m=function(){if(null===Hu)throw Error(r(475));var e=Hu;return e.stylesheets&&0===e.count&&Ku(e,e.stylesheets),0<e.count?function(t){var s=setTimeout(function(){if(e.stylesheets&&Ku(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(s)}}:null}())))return e.cancelPendingCommit=m(rd.bind(null,e,t,l,s,n,a,i,o,c,u,1,h,x)),void Bc(e,l,i,!d);rd(e,t,l,s,n,a,i,o,c)}function Uc(e){for(var t=e;;){var s=t.tag;if((0===s||11===s||15===s)&&16384&t.flags&&null!==(s=t.updateQueue)&&null!==(s=s.stores))for(var n=0;n<s.length;n++){var r=s[n],a=r.getSnapshot;r=r.value;try{if(!Ys(a(),r))return!1}catch(l){return!1}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,s,n){t&=~gc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var a=31-me(r),l=1<<a;n[a]=-1,r&=~l}0!==s&&Me(e,s,t)}function $c(){return!!(6&rc)||(Sd(0),!1)}function Hc(){if(null!==lc){if(0===oc)var e=lc.return;else yr=jr=null,Oa(e=lc),Yl=null,Xl=0,e=lc;for(;null!==e;)lo(e.alternate,e),e=e.return;lc=null}}function qc(e,t){var s=e.timeoutHandle;-1!==s&&(e.timeoutHandle=-1,uu(s)),null!==(s=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,s()),Hc(),ac=e,lc=s=Vn(e.current,null),ic=t,oc=0,cc=null,dc=!1,uc=je(e,t),mc=!1,jc=vc=gc=pc=fc=xc=0,bc=yc=null,Nc=!1,8&t&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var r=31-me(n),a=1<<r;t|=e[r],n&=~a}return hc=t,Fn(),s}function Gc(e,t){ba=null,A.H=Gl,t===Wr||t===Qr?(t=ta(),oc=3):t===Kr?(t=ta(),oc=4):oc=t===Ci?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,cc=t,null===lc&&(xc=1,Ni(e,kn(t,e.current)))}function Wc(){var e=A.H;return A.H=Gl,null===e?Gl:e}function Kc(){var e=A.A;return A.A=sc,e}function Qc(){xc=4,dc||(4194048&ic)!==ic&&null!==ai.current||(uc=!0),!(134217727&fc)&&!(134217727&pc)||null===ac||Bc(ac,ic,vc,!1)}function Yc(e,t,s){var n=rc;rc|=2;var r=Wc(),a=Kc();ac===e&&ic===t||(Sc=null,qc(e,t)),t=!1;var l=xc;e:for(;;)try{if(0!==oc&&null!==lc){var i=lc,o=cc;switch(oc){case 8:Hc(),l=6;break e;case 3:case 2:case 9:case 6:null===ai.current&&(t=!0);var c=oc;if(oc=0,cc=null,td(e,i,o,c),s&&uc){l=0;break e}break;default:c=oc,oc=0,cc=null,td(e,i,o,c)}}Xc(),l=xc;break}catch(d){Gc(e,d)}return t&&e.shellSuspendCounter++,yr=jr=null,rc=n,A.H=r,A.A=a,null===lc&&(ac=null,ic=0,Fn()),l}function Xc(){for(;null!==lc;)Zc(lc)}function Jc(){for(;null!==lc&&!J();)Zc(lc)}function Zc(e){var t=Ji(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?sd(e):lc=t}function ed(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Li(s,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Li(s,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Oa(t);default:lo(s,t),t=Ji(s,t=lc=Un(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?sd(e):lc=t}function td(e,t,s,n){yr=jr=null,Oa(t),Yl=null,Xl=0;var a=t.return;try{if(function(e,t,s,n,a){if(s.flags|=32768,null!==n&&"object"==typeof n&&"function"==typeof n.then){if(null!==(t=s.alternate)&&Sr(t,s,a,!0),null!==(s=ai.current)){switch(s.tag){case 13:return null===li?Qc():null===s.alternate&&0===xc&&(xc=3),s.flags&=-257,s.flags|=65536,s.lanes=a,n===Yr?s.flags|=16384:(null===(t=s.updateQueue)?s.updateQueue=new Set([n]):t.add(n),hd(e,n,a)),!1;case 22:return s.flags|=65536,n===Yr?s.flags|=16384:(null===(t=s.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},s.updateQueue=t):null===(s=t.retryQueue)?t.retryQueue=new Set([n]):s.add(n),hd(e,n,a)),!1}throw Error(r(435,s.tag))}return hd(e,n,a),Qc(),!1}if(ir)return null!==(t=ai.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==dr&&gr(kn(e=Error(r(422),{cause:n}),s))):(n!==dr&&gr(kn(t=Error(r(423),{cause:n}),s)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,n=kn(n,s),ca(e,a=wi(e.stateNode,n,a)),4!==xc&&(xc=2)),!1;var l=Error(r(520),{cause:n});if(l=kn(l,s),null===yc?yc=[l]:yc.push(l),4!==xc&&(xc=2),null===t)return!0;n=kn(n,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=a&-a,s.lanes|=e,ca(s,e=wi(s.stateNode,n,e)),!1;case 1:if(t=s.type,l=s.stateNode,!(128&s.flags||"function"!=typeof t.getDerivedStateFromError&&(null===l||"function"!=typeof l.componentDidCatch||null!==kc&&kc.has(l))))return s.flags|=65536,a&=-a,s.lanes|=a,ki(a=Si(a),e,s,n),ca(s,a),!1}s=s.return}while(null!==s);return!1}(e,a,t,s,ic))return xc=1,Ni(e,kn(s,e.current)),void(lc=null)}catch(l){if(null!==a)throw lc=a,l;return xc=1,Ni(e,kn(s,e.current)),void(lc=null)}32768&t.flags?(ir||1===n?e=!0:uc||536870912&ic?e=!1:(dc=e=!0,(2===n||9===n||3===n||6===n)&&null!==(n=ai.current)&&13===n.tag&&(n.flags|=16384)),nd(t,e)):sd(t)}function sd(e){var t=e;do{if(32768&t.flags)return void nd(t,dc);e=t.return;var s=ro(t.alternate,t,hc);if(null!==s)return void(lc=s);if(null!==(t=t.sibling))return void(lc=t);lc=t=e}while(null!==t);0===xc&&(xc=5)}function nd(e,t){do{var s=ao(e.alternate,e);if(null!==s)return s.flags&=32767,void(lc=s);if(null!==(s=e.return)&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&null!==(e=e.sibling))return void(lc=e);lc=e=s}while(null!==e);xc=6,lc=null}function rd(e,t,s,n,a,l,i,o,c){e.cancelPendingCommit=null;do{cd()}while(0!==Cc);if(6&rc)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(l=t.lanes|t.childLanes,function(e,t,s,n,r,a){var l=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var i=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(s=l&~s;0<s;){var d=31-me(s),u=1<<d;i[d]=0,o[d]=-1;var m=c[d];if(null!==m)for(c[d]=null,d=0;d<m.length;d++){var h=m[d];null!==h&&(h.lane&=-536870913)}s&=~u}0!==n&&Me(e,n,0),0!==a&&0===r&&0!==e.tag&&(e.suspendedLanes|=a&~(l&~t))}(e,s,l|=En,i,o,c),e===ac&&(lc=ac=null,ic=0),Ec=t,Mc=e,Fc=s,Pc=l,Dc=a,Ac=n,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Y(re,function(){return dd(),null})):(e.callbackNode=null,e.callbackPriority=0),n=!!(13878&t.flags),13878&t.subtreeFlags||n){n=A.T,A.T=null,a=R.p,R.p=2,i=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,nu=rm,sn(e=tn(e))){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(n&&0!==n.rangeCount){s=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{s.nodeType,l.nodeType}catch(p){s=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var x;m!==s||0!==a&&3!==m.nodeType||(o=i+a),m!==l||0!==n&&3!==m.nodeType||(c=i+n),3===m.nodeType&&(i+=m.nodeValue.length),null!==(x=m.firstChild);)h=m,m=x;for(;;){if(m===e)break t;if(h===s&&++d===a&&(o=i),h===l&&++u===n&&(c=i),null!==(x=m.nextSibling))break;h=(m=h).parentNode}m=x}s=-1===o||-1===c?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(ru={focusedElem:e,selectionRange:s},rm=!1,So=t;null!==So;)if(e=(t=So).child,1024&t.subtreeFlags&&null!==e)e.return=t,So=e;else for(;null!==So;){switch(l=(t=So).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==l){e=void 0,s=t,a=l.memoizedProps,l=l.memoizedState,n=s.stateNode;try{var f=gi(s.type,a,(s.elementType,s.type));e=n.getSnapshotBeforeUpdate(f,l),n.__reactInternalSnapshotBeforeUpdate=e}catch(g){md(s,s.return,g)}}break;case 3:if(1024&e)if(9===(s=(e=t.stateNode.containerInfo).nodeType))gu(e);else if(1===s)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gu(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,So=e;break}So=t.return}}(e,t)}finally{rc=i,R.p=a,A.T=n}}Cc=1,ad(),ld(),id()}}function ad(){if(1===Cc){Cc=0;var e=Mc,t=Ec,s=!!(13878&t.flags);if(13878&t.subtreeFlags||s){s=A.T,A.T=null;var n=R.p;R.p=2;var r=rc;rc|=4;try{To(t,e);var a=ru,l=tn(e.containerInfo),i=a.focusedElem,o=a.selectionRange;if(l!==i&&i&&i.ownerDocument&&en(i.ownerDocument.documentElement,i)){if(null!==o&&sn(i)){var c=o.start,d=o.end;if(void 0===d&&(d=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(d,i.value.length);else{var u=i.ownerDocument||document,m=u&&u.defaultView||window;if(m.getSelection){var h=m.getSelection(),x=i.textContent.length,f=Math.min(o.start,x),p=void 0===o.end?f:Math.min(o.end,x);!h.extend&&f>p&&(l=p,p=f,f=l);var g=Zs(i,f),v=Zs(i,p);if(g&&v&&(1!==h.rangeCount||h.anchorNode!==g.node||h.anchorOffset!==g.offset||h.focusNode!==v.node||h.focusOffset!==v.offset)){var j=u.createRange();j.setStart(g.node,g.offset),h.removeAllRanges(),f>p?(h.addRange(j),h.extend(v.node,v.offset)):(j.setEnd(v.node,v.offset),h.addRange(j))}}}}for(u=[],h=i;h=h.parentNode;)1===h.nodeType&&u.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"==typeof i.focus&&i.focus(),i=0;i<u.length;i++){var y=u[i];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}rm=!!nu,ru=nu=null}finally{rc=r,R.p=n,A.T=s}}e.current=t,Cc=2}}function ld(){if(2===Cc){Cc=0;var e=Mc,t=Ec,s=!!(8772&t.flags);if(8772&t.subtreeFlags||s){s=A.T,A.T=null;var n=R.p;R.p=2;var r=rc;rc|=4;try{ko(e,t.alternate,t)}finally{rc=r,R.p=n,A.T=s}}Cc=3}}function id(){if(4===Cc||3===Cc){Cc=0,Z();var e=Mc,t=Ec,s=Fc,n=Ac;10256&t.subtreeFlags||10256&t.flags?Cc=5:(Cc=0,Ec=Mc=null,od(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(kc=null),Pe(s),t=t.stateNode,de&&"function"==typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ce,t,void 0,!(128&~t.current.flags))}catch(o){}if(null!==n){t=A.T,r=R.p,R.p=2,A.T=null;try{for(var a=e.onRecoverableError,l=0;l<n.length;l++){var i=n[l];a(i.value,{componentStack:i.stack})}}finally{A.T=t,R.p=r}}3&Fc&&cd(),wd(e),r=e.pendingLanes,4194090&s&&42&r?e===Ic?Rc++:(Rc=0,Ic=e):Rc=0,Sd(0)}}function od(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Tr(t))}function cd(e){return ad(),ld(),id(),dd()}function dd(){if(5!==Cc)return!1;var e=Mc,t=Pc;Pc=0;var s=Pe(Fc),n=A.T,a=R.p;try{R.p=32>s?32:s,A.T=null,s=Dc,Dc=null;var l=Mc,i=Fc;if(Cc=0,Ec=Mc=null,Fc=0,6&rc)throw Error(r(331));var o=rc;if(rc|=4,Zo(l.current),qo(l,l.current,i,s),rc=o,Sd(0),de&&"function"==typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ce,l)}catch(c){}return!0}finally{R.p=a,A.T=n,od(e,t)}}function ud(e,t,s){t=kn(s,t),null!==(e=ia(e,t=wi(e.stateNode,t,2),2))&&(ke(e,2),wd(e))}function md(e,t,s){if(3===e.tag)ud(e,e,s);else for(;null!==t;){if(3===t.tag){ud(t,e,s);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===kc||!kc.has(n))){e=kn(s,e),null!==(n=ia(t,s=Si(2),2))&&(ki(s,n,t,e),ke(n,2),wd(n));break}}t=t.return}}function hd(e,t,s){var n=e.pingCache;if(null===n){n=e.pingCache=new nc;var r=new Set;n.set(t,r)}else void 0===(r=n.get(t))&&(r=new Set,n.set(t,r));r.has(s)||(mc=!0,r.add(s),e=xd.bind(null,e,t,s),t.then(e,e))}function xd(e,t,s){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ac===e&&(ic&s)===s&&(4===xc||3===xc&&(62914560&ic)===ic&&300>ee()-_c?!(2&rc)&&qc(e,0):gc|=s,jc===ic&&(jc=0)),wd(e)}function fd(e,t){0===t&&(t=Ne()),null!==(e=An(e,t))&&(ke(e,t),wd(e))}function pd(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),fd(e,s)}function gd(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(s=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==n&&n.delete(t),fd(e,s)}var vd=null,jd=null,yd=!1,bd=!1,Nd=!1,_d=0;function wd(e){e!==jd&&null===e.next&&(null===jd?vd=jd=e:jd=jd.next=e),bd=!0,yd||(yd=!0,hu(function(){6&rc?Y(se,kd):Cd()}))}function Sd(e,t){if(!Nd&&bd){Nd=!0;do{for(var s=!1,n=vd;null!==n;){if(0!==e){var r=n.pendingLanes;if(0===r)var a=0;else{var l=n.suspendedLanes,i=n.pingedLanes;a=(1<<31-me(42|e)+1)-1,a=201326741&(a&=r&~(l&~i))?201326741&a|1:a?2|a:0}0!==a&&(s=!0,Fd(n,a))}else a=ic,!(3&(a=ve(n,n===ac?a:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||je(n,a)||(s=!0,Fd(n,a));n=n.next}}while(s);Nd=!1}}function kd(){Cd()}function Cd(){bd=yd=!1;var e,t=0;0!==_d&&(((e=window.event)&&"popstate"===e.type?e!==cu&&(cu=e,!0):(cu=null,!1))&&(t=_d),_d=0);for(var s=ee(),n=null,r=vd;null!==r;){var a=r.next,l=Md(r,s);0===l?(r.next=null,null===n?vd=a:n.next=a,null===a&&(jd=n)):(n=r,(0!==t||3&l)&&(bd=!0)),r=a}Sd(t)}function Md(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var l=31-me(a),i=1<<l,o=r[l];-1===o?0!==(i&s)&&0===(i&n)||(r[l]=ye(i,t)):o<=t&&(e.expiredLanes|=i),a&=~i}if(s=ic,s=ve(e,e===(t=ac)?s:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===s||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&X(n),e.callbackNode=null,e.callbackPriority=0;if(!(3&s)||je(e,s)){if((t=s&-s)===e.callbackPriority)return t;switch(null!==n&&X(n),Pe(s)){case 2:case 8:s=ne;break;case 32:default:s=re;break;case 268435456:s=le}return n=Ed.bind(null,e),s=Y(s,n),e.callbackPriority=t,e.callbackNode=s,t}return null!==n&&null!==n&&X(n),e.callbackPriority=2,e.callbackNode=null,2}function Ed(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(cd()&&e.callbackNode!==s)return null;var n=ic;return 0===(n=ve(e,e===ac?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Oc(e,n,t),Md(e,ee()),null!=e.callbackNode&&e.callbackNode===s?Ed.bind(null,e):null)}function Fd(e,t){if(cd())return null;Oc(e,t,!0)}function Pd(){return 0===_d&&(_d=be()),_d}function Dd(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Pt(""+e)}function Ad(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}for(var Rd=0;Rd<_n.length;Rd++){var Id=_n[Rd];wn(Id.toLowerCase(),"on"+(Id[0].toUpperCase()+Id.slice(1)))}wn(fn,"onAnimationEnd"),wn(pn,"onAnimationIteration"),wn(gn,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(vn,"onTransitionRun"),wn(jn,"onTransitionStart"),wn(yn,"onTransitionCancel"),wn(bn,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ld=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Td));function zd(e,t){t=!!(4&t);for(var s=0;s<e.length;s++){var n=e[s],r=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var i=n[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==a&&r.isPropagationStopped())break e;a=i,r.currentTarget=c;try{a(r)}catch(d){vi(d)}r.currentTarget=null,a=o}else for(l=0;l<n.length;l++){if(o=(i=n[l]).instance,c=i.currentTarget,i=i.listener,o!==a&&r.isPropagationStopped())break e;a=i,r.currentTarget=c;try{a(r)}catch(d){vi(d)}r.currentTarget=null,a=o}}}}function Od(e,t){var s=t[Le];void 0===s&&(s=t[Le]=new Set);var n=e+"__bubble";s.has(n)||($d(t,e,2,!1),s.add(n))}function Vd(e,t,s){var n=0;t&&(n|=4),$d(s,e,n,t)}var Ud="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[Ud]){e[Ud]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Ld.has(t)||Vd(t,!1,e),Vd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ud]||(t[Ud]=!0,Vd("selectionchange",!1,t))}}function $d(e,t,s,n){switch(um(t)){case 2:var r=am;break;case 8:r=lm;break;default:r=im}s=r.bind(null,t,s,e),r=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),n?void 0!==r?e.addEventListener(t,s,{capture:!0,passive:r}):e.addEventListener(t,s,!0):void 0!==r?e.addEventListener(t,s,{passive:r}):e.addEventListener(t,s,!1)}function Hd(e,t,s,n,r){var a=n;if(!(1&t||2&t||null===n))e:for(;;){if(null===n)return;var l=n.tag;if(3===l||4===l){var o=n.stateNode.containerInfo;if(o===r)break;if(4===l)for(l=n.return;null!==l;){var c=l.tag;if((3===c||4===c)&&l.stateNode.containerInfo===r)return;l=l.return}for(;null!==o;){if(null===(l=$e(o)))return;if(5===(c=l.tag)||6===c||26===c||27===c){n=a=l;continue e}o=o.parentNode}}n=n.return}zt(function(){var n=a,r=At(s),l=[];e:{var o=Nn.get(e);if(void 0!==o){var c=ts,d=e;switch(e){case"keypress":if(0===Wt(s))break e;case"keydown":case"keyup":c=ps;break;case"focusin":d="focus",c=is;break;case"focusout":d="blur",c=is;break;case"beforeblur":case"afterblur":c=is;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=as;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ls;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vs;break;case fn:case pn:case gn:c=os;break;case bn:c=js;break;case"scroll":case"scrollend":c=ns;break;case"wheel":c=ys;break;case"copy":case"cut":case"paste":c=cs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gs;break;case"toggle":case"beforetoggle":c=bs}var u=!!(4&t),m=!u&&("scroll"===e||"scrollend"===e),h=u?null!==o?o+"Capture":null:o;u=[];for(var x,f=n;null!==f;){var p=f;if(x=p.stateNode,5!==(p=p.tag)&&26!==p&&27!==p||null===x||null===h||null!=(p=Ot(f,h))&&u.push(qd(f,p,x)),m)break;f=f.return}0<u.length&&(o=new c(o,d,null,s,r),l.push({event:o,listeners:u}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||s===Dt||!(d=s.relatedTarget||s.fromElement)||!$e(d)&&!d[Te])&&(c||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=n,null!==(d=(d=s.relatedTarget||s.toElement)?$e(d):null)&&(m=i(d),u=d.tag,d!==m||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=n),c!==d)){if(u=as,p="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=gs,p="onPointerLeave",h="onPointerEnter",f="pointer"),m=null==c?o:qe(c),x=null==d?o:qe(d),(o=new u(p,f+"leave",c,s,r)).target=m,o.relatedTarget=x,p=null,$e(r)===n&&((u=new u(h,f+"enter",d,s,r)).target=x,u.relatedTarget=m,p=u),m=p,c&&d)e:{for(h=d,f=0,x=u=c;x;x=Wd(x))f++;for(x=0,p=h;p;p=Wd(p))x++;for(;0<f-x;)u=Wd(u),f--;for(;0<x-f;)h=Wd(h),x--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Wd(u),h=Wd(h)}u=null}else u=null;null!==c&&Kd(l,o,c,u,!1),null!==d&&null!==m&&Kd(l,m,d,u,!0)}if("select"===(c=(o=n?qe(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var g=Os;else if(As(o))if(Vs)g=Qs;else{g=Ws;var v=Gs}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?n&&Mt(n.elementType)&&(g=Os):g=Ks;switch(g&&(g=g(e,n))?Rs(l,g,s,r):(v&&v(e,o,n),"focusout"===e&&n&&"number"===o.type&&null!=n.memoizedProps.value&&yt(o,"number",o.value)),v=n?qe(n):window,e){case"focusin":(As(v)||"true"===v.contentEditable)&&(rn=v,an=n,ln=null);break;case"focusout":ln=an=rn=null;break;case"mousedown":on=!0;break;case"contextmenu":case"mouseup":case"dragend":on=!1,cn(l,s,r);break;case"selectionchange":if(nn)break;case"keydown":case"keyup":cn(l,s,r)}var j;if(_s)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Ps?Es(e,s)&&(y="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(y="onCompositionStart");y&&(ks&&"ko"!==s.locale&&(Ps||"onCompositionStart"!==y?"onCompositionEnd"===y&&Ps&&(j=Gt()):(Ht="value"in($t=r)?$t.value:$t.textContent,Ps=!0)),0<(v=Gd(n,y)).length&&(y=new ds(y,e,null,s,r),l.push({event:y,listeners:v}),(j||null!==(j=Fs(s)))&&(y.data=j))),(j=Ss?function(e,t){switch(e){case"compositionend":return Fs(t);case"keypress":return 32!==t.which?null:(Ms=!0,Cs);case"textInput":return(e=t.data)===Cs&&Ms?null:e;default:return null}}(e,s):function(e,t){if(Ps)return"compositionend"===e||!_s&&Es(e,t)?(e=Gt(),qt=Ht=$t=null,Ps=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ks&&"ko"!==t.locale?null:t.data}}(e,s))&&0<(y=Gd(n,"onBeforeInput")).length&&(v=new ds("onBeforeInput","beforeinput",null,s,r),l.push({event:v,listeners:y}),v.data=j),function(e,t,s,n,r){if("submit"===t&&s&&s.stateNode===r){var a=Dd((r[Ie]||null).action),l=n.submitter;l&&null!==(t=(t=l[Ie]||null)?Dd(t.formAction):l.getAttribute("formAction"))&&(a=t,l=null);var i=new ts("action","action",null,n,r);e.push({event:i,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==_d){var e=l?Ad(r,l):new FormData(r);Dl(s,{pending:!0,data:e,method:r.method,action:a},null,e)}}else"function"==typeof a&&(i.preventDefault(),e=l?Ad(r,l):new FormData(r),Dl(s,{pending:!0,data:e,method:r.method,action:a},a,e))},currentTarget:r}]})}}(l,e,n,s,r)}zd(l,t)})}function qd(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Gd(e,t){for(var s=t+"Capture",n=[];null!==e;){var r=e,a=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===a||(null!=(r=Ot(e,s))&&n.unshift(qd(e,r,a)),null!=(r=Ot(e,t))&&n.push(qd(e,r,a))),3===e.tag)return n;e=e.return}return[]}function Wd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Kd(e,t,s,n,r){for(var a=t._reactName,l=[];null!==s&&s!==n;){var i=s,o=i.alternate,c=i.stateNode;if(i=i.tag,null!==o&&o===n)break;5!==i&&26!==i&&27!==i||null===c||(o=c,r?null!=(c=Ot(s,a))&&l.unshift(qd(s,c,o)):r||null!=(c=Ot(s,a))&&l.push(qd(s,c,o))),s=s.return}0!==l.length&&e.push({event:t,listeners:l})}var Qd=/\r\n?/g,Yd=/\u0000|\uFFFD/g;function Xd(e){return("string"==typeof e?e:""+e).replace(Qd,"\n").replace(Yd,"")}function Jd(e,t){return t=Xd(t),Xd(e)===t}function Zd(){}function eu(e,t,s,n,a,l){switch(s){case"children":"string"==typeof n?"body"===t||"textarea"===t&&""===n||wt(e,n):("number"==typeof n||"bigint"==typeof n)&&"body"!==t&&wt(e,""+n);break;case"className":rt(e,"class",n);break;case"tabIndex":rt(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,s,n);break;case"style":Ct(e,n,l);break;case"data":if("object"!==t){rt(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==s)){e.removeAttribute(s);break}if(null==n||"function"==typeof n||"symbol"==typeof n||"boolean"==typeof n){e.removeAttribute(s);break}n=Pt(""+n),e.setAttribute(s,n);break;case"action":case"formAction":if("function"==typeof n){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof l&&("formAction"===s?("input"!==t&&eu(e,t,"name",a.name,a,null),eu(e,t,"formEncType",a.formEncType,a,null),eu(e,t,"formMethod",a.formMethod,a,null),eu(e,t,"formTarget",a.formTarget,a,null)):(eu(e,t,"encType",a.encType,a,null),eu(e,t,"method",a.method,a,null),eu(e,t,"target",a.target,a,null))),null==n||"symbol"==typeof n||"boolean"==typeof n){e.removeAttribute(s);break}n=Pt(""+n),e.setAttribute(s,n);break;case"onClick":null!=n&&(e.onclick=Zd);break;case"onScroll":null!=n&&Od("scroll",e);break;case"onScrollEnd":null!=n&&Od("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!=typeof n||!("__html"in n))throw Error(r(61));if(null!=(s=n.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=n&&"function"!=typeof n&&"symbol"!=typeof n;break;case"muted":e.muted=n&&"function"!=typeof n&&"symbol"!=typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"==typeof n||"boolean"==typeof n||"symbol"==typeof n){e.removeAttribute("xlink:href");break}s=Pt(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!=typeof n&&"symbol"!=typeof n?e.setAttribute(s,""+n):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!=typeof n&&"symbol"!=typeof n?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":!0===n?e.setAttribute(s,""):!1!==n&&null!=n&&"function"!=typeof n&&"symbol"!=typeof n?e.setAttribute(s,n):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!=typeof n&&"symbol"!=typeof n&&!isNaN(n)&&1<=n?e.setAttribute(s,n):e.removeAttribute(s);break;case"rowSpan":case"start":null==n||"function"==typeof n||"symbol"==typeof n||isNaN(n)?e.removeAttribute(s):e.setAttribute(s,n);break;case"popover":Od("beforetoggle",e),Od("toggle",e),nt(e,"popover",n);break;case"xlinkActuate":at(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":at(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":at(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":at(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":at(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":at(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":at(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":at(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":at(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":nt(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<s.length)||"o"!==s[0]&&"O"!==s[0]||"n"!==s[1]&&"N"!==s[1])&&nt(e,s=Et.get(s)||s,n)}}function tu(e,t,s,n,a,l){switch(s){case"style":Ct(e,n,l);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!=typeof n||!("__html"in n))throw Error(r(61));if(null!=(s=n.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=s}}break;case"children":"string"==typeof n?wt(e,n):("number"==typeof n||"bigint"==typeof n)&&wt(e,""+n);break;case"onScroll":null!=n&&Od("scroll",e);break;case"onScrollEnd":null!=n&&Od("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Zd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Qe.hasOwnProperty(s)||("o"!==s[0]||"n"!==s[1]||(a=s.endsWith("Capture"),t=s.slice(2,a?s.length-7:void 0),"function"==typeof(l=null!=(l=e[Ie]||null)?l[s]:null)&&e.removeEventListener(t,l,a),"function"!=typeof n)?s in e?e[s]=n:!0===n?e.setAttribute(s,""):nt(e,s,n):("function"!=typeof l&&null!==l&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,n,a)))}}function su(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Od("error",e),Od("load",e);var n,a=!1,l=!1;for(n in s)if(s.hasOwnProperty(n)){var i=s[n];if(null!=i)switch(n){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:eu(e,t,n,i,s,null)}}return l&&eu(e,t,"srcSet",s.srcSet,s,null),void(a&&eu(e,t,"src",s.src,s,null));case"input":Od("invalid",e);var o=n=i=l=null,c=null,d=null;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];if(null!=u)switch(a){case"name":l=u;break;case"type":i=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":n=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(r(137,t));break;default:eu(e,t,a,u,s,null)}}return jt(e,n,o,c,d,i,l,!1),void ht(e);case"select":for(l in Od("invalid",e),a=i=n=null,s)if(s.hasOwnProperty(l)&&null!=(o=s[l]))switch(l){case"value":n=o;break;case"defaultValue":i=o;break;case"multiple":a=o;default:eu(e,t,l,o,s,null)}return t=n,s=i,e.multiple=!!a,void(null!=t?bt(e,!!a,t,!1):null!=s&&bt(e,!!a,s,!0));case"textarea":for(i in Od("invalid",e),n=l=a=null,s)if(s.hasOwnProperty(i)&&null!=(o=s[i]))switch(i){case"value":a=o;break;case"defaultValue":l=o;break;case"children":n=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(r(91));break;default:eu(e,t,i,o,s,null)}return _t(e,a,l,n),void ht(e);case"option":for(c in s)s.hasOwnProperty(c)&&null!=(a=s[c])&&("selected"===c?e.selected=a&&"function"!=typeof a&&"symbol"!=typeof a:eu(e,t,c,a,s,null));return;case"dialog":Od("beforetoggle",e),Od("toggle",e),Od("cancel",e),Od("close",e);break;case"iframe":case"object":Od("load",e);break;case"video":case"audio":for(a=0;a<Td.length;a++)Od(Td[a],e);break;case"image":Od("error",e),Od("load",e);break;case"details":Od("toggle",e);break;case"embed":case"source":case"link":Od("error",e),Od("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in s)if(s.hasOwnProperty(d)&&null!=(a=s[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:eu(e,t,d,a,s,null)}return;default:if(Mt(t)){for(u in s)s.hasOwnProperty(u)&&void 0!==(a=s[u])&&tu(e,t,u,a,s,void 0);return}}for(o in s)s.hasOwnProperty(o)&&null!=(a=s[o])&&eu(e,t,o,a,s,null)}var nu=null,ru=null;function au(e){return 9===e.nodeType?e:e.ownerDocument}function lu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ou(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cu=null,du="function"==typeof setTimeout?setTimeout:void 0,uu="function"==typeof clearTimeout?clearTimeout:void 0,mu="function"==typeof Promise?Promise:void 0,hu="function"==typeof queueMicrotask?queueMicrotask:void 0!==mu?function(e){return mu.resolve(null).then(e).catch(xu)}:du;function xu(e){setTimeout(function(){throw e})}function fu(e){return"head"===e}function pu(e,t){var s=t,n=0,r=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&8===a.nodeType)if("/$"===(s=a.data)){if(0<n&&8>n){s=n;var l=e.ownerDocument;if(1&s&&_u(l.documentElement),2&s&&_u(l.body),4&s)for(_u(s=l.head),l=s.firstChild;l;){var i=l.nextSibling,o=l.nodeName;l[Ue]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===l.rel.toLowerCase()||s.removeChild(l),l=i}}if(0===r)return e.removeChild(a),void Em(t);r--}else"$"===s||"$?"===s||"$!"===s?r++:n=s.charCodeAt(0)-48;else n=0;s=a}while(s);Em(t)}function gu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gu(s),Be(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===s.rel.toLowerCase())continue}e.removeChild(s)}}function vu(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function ju(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yu=null;function bu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}function Nu(e,t,s){switch(t=au(s),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function _u(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var wu=new Map,Su=new Set;function ku(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cu=R.d;R.d={f:function(){var e=Cu.f(),t=$c();return e||t},r:function(e){var t=He(e);null!==t&&5===t.tag&&"form"===t.type?Rl(t):Cu.r(e)},D:function(e){Cu.D(e),Eu("dns-prefetch",e,null)},C:function(e,t){Cu.C(e,t),Eu("preconnect",e,t)},L:function(e,t,s){Cu.L(e,t,s);var n=Mu;if(n&&e&&t){var r='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&s&&s.imageSrcSet?(r+='[imagesrcset="'+gt(s.imageSrcSet)+'"]',"string"==typeof s.imageSizes&&(r+='[imagesizes="'+gt(s.imageSizes)+'"]')):r+='[href="'+gt(e)+'"]';var a=r;switch(t){case"style":a=Pu(e);break;case"script":a=Ru(e)}wu.has(a)||(e=u({rel:"preload",href:"image"===t&&s&&s.imageSrcSet?void 0:e,as:t},s),wu.set(a,e),null!==n.querySelector(r)||"style"===t&&n.querySelector(Du(a))||"script"===t&&n.querySelector(Iu(a))||(su(t=n.createElement("link"),"link",e),We(t),n.head.appendChild(t)))}},m:function(e,t){Cu.m(e,t);var s=Mu;if(s&&e){var n=t&&"string"==typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+gt(n)+'"][href="'+gt(e)+'"]',a=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ru(e)}if(!wu.has(a)&&(e=u({rel:"modulepreload",href:e},t),wu.set(a,e),null===s.querySelector(r))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Iu(a)))return}su(n=s.createElement("link"),"link",e),We(n),s.head.appendChild(n)}}},X:function(e,t){Cu.X(e,t);var s=Mu;if(s&&e){var n=Ge(s).hoistableScripts,r=Ru(e),a=n.get(r);a||((a=s.querySelector(Iu(r)))||(e=u({src:e,async:!0},t),(t=wu.get(r))&&Ou(e,t),We(a=s.createElement("script")),su(a,"link",e),s.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(r,a))}},S:function(e,t,s){Cu.S(e,t,s);var n=Mu;if(n&&e){var r=Ge(n).hoistableStyles,a=Pu(e);t=t||"default";var l=r.get(a);if(!l){var i={loading:0,preload:null};if(l=n.querySelector(Du(a)))i.loading=5;else{e=u({rel:"stylesheet",href:e,"data-precedence":t},s),(s=wu.get(a))&&zu(e,s);var o=l=n.createElement("link");We(o),su(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){i.loading|=1}),o.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Lu(l,t,n)}l={type:"stylesheet",instance:l,count:1,state:i},r.set(a,l)}}},M:function(e,t){Cu.M(e,t);var s=Mu;if(s&&e){var n=Ge(s).hoistableScripts,r=Ru(e),a=n.get(r);a||((a=s.querySelector(Iu(r)))||(e=u({src:e,async:!0,type:"module"},t),(t=wu.get(r))&&Ou(e,t),We(a=s.createElement("script")),su(a,"link",e),s.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(r,a))}}};var Mu="undefined"==typeof document?null:document;function Eu(e,t,s){var n=Mu;if(n&&"string"==typeof t&&t){var r=gt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"==typeof s&&(r+='[crossorigin="'+s+'"]'),Su.has(r)||(Su.add(r),e={rel:e,crossOrigin:s,href:t},null===n.querySelector(r)&&(su(t=n.createElement("link"),"link",e),We(t),n.head.appendChild(t)))}}function Fu(e,t,s,n){var a,l,i,o,c=(c=$.current)?ku(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof s.precedence&&"string"==typeof s.href?(t=Pu(s.href),(n=(s=Ge(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},s.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===s.rel&&"string"==typeof s.href&&"string"==typeof s.precedence){e=Pu(s.href);var d=Ge(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Du(e)))&&!d._p&&(u.instance=d,u.state.loading=5),wu.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},wu.set(e,s),d||(a=c,l=e,i=s,o=u.state,a.querySelector('link[rel="preload"][as="style"]['+l+"]")?o.loading=1:(l=a.createElement("link"),o.preload=l,l.addEventListener("load",function(){return o.loading|=1}),l.addEventListener("error",function(){return o.loading|=2}),su(l,"link",i),We(l),a.head.appendChild(l))))),t&&null===n)throw Error(r(528,""));return u}if(t&&null!==n)throw Error(r(529,""));return null;case"script":return t=s.async,"string"==typeof(s=s.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Ru(s),(n=(s=Ge(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},s.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Pu(e){return'href="'+gt(e)+'"'}function Du(e){return'link[rel="stylesheet"]['+e+"]"}function Au(e){return u({},e,{"data-precedence":e.precedence,precedence:null})}function Ru(e){return'[src="'+gt(e)+'"]'}function Iu(e){return"script[async]"+e}function Tu(e,t,s){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+gt(s.href)+'"]');if(n)return t.instance=n,We(n),n;var a=u({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return We(n=(e.ownerDocument||e).createElement("style")),su(n,"style",a),Lu(n,s.precedence,e),t.instance=n;case"stylesheet":a=Pu(s.href);var l=e.querySelector(Du(a));if(l)return t.state.loading|=4,t.instance=l,We(l),l;n=Au(s),(a=wu.get(a))&&zu(n,a),We(l=(e.ownerDocument||e).createElement("link"));var i=l;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),su(l,"link",n),t.state.loading|=4,Lu(l,s.precedence,e),t.instance=l;case"script":return l=Ru(s.src),(a=e.querySelector(Iu(l)))?(t.instance=a,We(a),a):(n=s,(a=wu.get(l))&&Ou(n=u({},s),a),We(a=(e=e.ownerDocument||e).createElement("script")),su(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Lu(n,s.precedence,e));return t.instance}function Lu(e,t,s){for(var n=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,a=r,l=0;l<n.length;l++){var i=n[l];if(i.dataset.precedence===t)a=i;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===s.nodeType?s.head:s).insertBefore(e,t.firstChild)}function zu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ou(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Vu=null;function Uu(e,t,s){if(null===Vu){var n=new Map,r=Vu=new Map;r.set(s,n)}else(n=(r=Vu).get(s))||(n=new Map,r.set(s,n));if(n.has(e))return n;for(n.set(e,null),s=s.getElementsByTagName(e),r=0;r<s.length;r++){var a=s[r];if(!(a[Ue]||a[Re]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var l=a.getAttribute(t)||"";l=e+l;var i=n.get(l);i?i.push(a):n.set(l,[a])}}return n}function Bu(e,t,s){(e=e.ownerDocument||e).head.insertBefore(s,"title"===t?e.querySelector("head > title"):null)}function $u(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Hu=null;function qu(){}function Gu(){if(this.count--,0===this.count)if(this.stylesheets)Ku(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wu=null;function Ku(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wu=new Map,t.forEach(Qu,e),Wu=null,Gu.call(e))}function Qu(e,t){if(!(4&t.state.loading)){var s=Wu.get(e);if(s)var n=s.get(null);else{s=new Map,Wu.set(e,s);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var l=r[a];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(s.set(l.dataset.precedence,l),n=l)}n&&s.set(null,n)}l=(r=t.instance).getAttribute("data-precedence"),(a=s.get(l)||n)===n&&s.set(null,r),s.set(l,r),this.count++,n=Gu.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),a?a.parentNode.insertBefore(r,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Yu={$$typeof:y,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Xu(e,t,s,n,r,a,l,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Ju(e,t,s,n,r,a,l,i,o,c,d,u){return e=new Xu(e,t,s,l,i,o,c,u),t=1,!0===a&&(t|=24),a=zn(3,null,null,t),e.current=a,a.stateNode=e,(t=Ir()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:n,isDehydrated:s,cache:t},ra(a),e}function Zu(e){return e?e=Tn:Tn}function em(e,t,s,n,r,a){r=Zu(r),null===n.context?n.context=r:n.pendingContext=r,(n=la(t)).payload={element:s},null!==(a=void 0===a?null:a)&&(n.callback=a),null!==(s=ia(e,n,t))&&(zc(s,0,t),oa(s,e,t))}function tm(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function sm(e,t){tm(e,t),(e=e.alternate)&&tm(e,t)}function nm(e){if(13===e.tag){var t=An(e,67108864);null!==t&&zc(t,0,67108864),sm(e,67108864)}}var rm=!0;function am(e,t,s,n){var r=A.T;A.T=null;var a=R.p;try{R.p=2,im(e,t,s,n)}finally{R.p=a,A.T=r}}function lm(e,t,s,n){var r=A.T;A.T=null;var a=R.p;try{R.p=8,im(e,t,s,n)}finally{R.p=a,A.T=r}}function im(e,t,s,n){if(rm){var r=om(n);if(null===r)Hd(e,t,n,cm,s),ym(e,n);else if(function(e,t,s,n,r){switch(t){case"focusin":return hm=bm(hm,e,t,s,n,r),!0;case"dragenter":return xm=bm(xm,e,t,s,n,r),!0;case"mouseover":return fm=bm(fm,e,t,s,n,r),!0;case"pointerover":var a=r.pointerId;return pm.set(a,bm(pm.get(a)||null,e,t,s,n,r)),!0;case"gotpointercapture":return a=r.pointerId,gm.set(a,bm(gm.get(a)||null,e,t,s,n,r)),!0}return!1}(r,e,t,s,n))n.stopPropagation();else if(ym(e,n),4&t&&-1<jm.indexOf(e)){for(;null!==r;){var a=He(r);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var l=ge(a.pendingLanes);if(0!==l){var i=a;for(i.pendingLanes|=2,i.entangledLanes|=2;l;){var o=1<<31-me(l);i.entanglements[1]|=o,l&=~o}wd(a),!(6&rc)&&(wc=ee()+500,Sd(0))}}break;case 13:null!==(i=An(a,2))&&zc(i,0,2),$c(),sm(a,2)}if(null===(a=om(n))&&Hd(e,t,n,cm,s),a===r)break;r=a}null!==r&&n.stopPropagation()}else Hd(e,t,n,null,s)}}function om(e){return dm(e=At(e))}var cm=null;function dm(e){if(cm=null,null!==(e=$e(e))){var t=i(e);if(null===t)e=null;else{var s=t.tag;if(13===s){if(null!==(e=o(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return cm=e,null}function um(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(te()){case se:return 2;case ne:return 8;case re:case ae:return 32;case le:return 268435456;default:return 32}default:return 32}}var mm=!1,hm=null,xm=null,fm=null,pm=new Map,gm=new Map,vm=[],jm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(e,t){switch(e){case"focusin":case"focusout":hm=null;break;case"dragenter":case"dragleave":xm=null;break;case"mouseover":case"mouseout":fm=null;break;case"pointerover":case"pointerout":pm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gm.delete(t.pointerId)}}function bm(e,t,s,n,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[r]},null!==t&&null!==(t=He(t))&&nm(t),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Nm(e){var t=$e(e.target);if(null!==t){var s=i(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=o(s)))return e.blockedOn=t,void function(e,t){var s=R.p;try{return R.p=e,t()}finally{R.p=s}}(e.priority,function(){if(13===s.tag){var e=Tc();e=Fe(e);var t=An(s,e);null!==t&&zc(t,0,e),sm(s,e)}})}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function _m(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=om(e.nativeEvent);if(null!==s)return null!==(t=He(s))&&nm(t),e.blockedOn=s,!1;var n=new(s=e.nativeEvent).constructor(s.type,s);Dt=n,s.target.dispatchEvent(n),Dt=null,t.shift()}return!0}function wm(e,t,s){_m(e)&&s.delete(t)}function Sm(){mm=!1,null!==hm&&_m(hm)&&(hm=null),null!==xm&&_m(xm)&&(xm=null),null!==fm&&_m(fm)&&(fm=null),pm.forEach(wm),gm.forEach(wm)}function km(t,s){t.blockedOn===s&&(t.blockedOn=null,mm||(mm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Sm)))}var Cm=null;function Mm(t){Cm!==t&&(Cm=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Cm===t&&(Cm=null);for(var e=0;e<t.length;e+=3){var s=t[e],n=t[e+1],r=t[e+2];if("function"!=typeof n){if(null===dm(n||s))continue;break}var a=He(s);null!==a&&(t.splice(e,3),e-=3,Dl(a,{pending:!0,data:r,method:s.method,action:n},n,r))}}))}function Em(e){function t(t){return km(t,e)}null!==hm&&km(hm,e),null!==xm&&km(xm,e),null!==fm&&km(fm,e),pm.forEach(t),gm.forEach(t);for(var s=0;s<vm.length;s++){var n=vm[s];n.blockedOn===e&&(n.blockedOn=null)}for(;0<vm.length&&null===(s=vm[0]).blockedOn;)Nm(s),null===s.blockedOn&&vm.shift();if(null!=(s=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<s.length;n+=3){var r=s[n],a=s[n+1],l=r[Ie]||null;if("function"==typeof a)l||Mm(s);else if(l){var i=null;if(a&&a.hasAttribute("formAction")){if(r=a,l=a[Ie]||null)i=l.formAction;else if(null!==dm(r))continue}else i=l.action;"function"==typeof i?s[n+1]=i:(s.splice(n,3),n-=3),Mm(s)}}}function Fm(e){this._internalRoot=e}function Pm(e){this._internalRoot=e}Pm.prototype.render=Fm.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));em(t.current,Tc(),e,t,null,null)},Pm.prototype.unmount=Fm.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;em(e.current,2,null,e,null,null),$c(),t[Te]=null}},Pm.prototype.unstable_scheduleHydration=function(e){if(e){var t=De();e={blockedOn:null,target:e,priority:t};for(var s=0;s<vm.length&&0!==t&&t<vm[s].priority;s++);vm.splice(s,0,e),0===s&&Nm(e)}};var Dm=t.version;if("19.1.0"!==Dm)throw Error(r(527,Dm,"19.1.0"));R.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(r(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(n=a.return)){s=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===s)return c(a),e;if(l===n)return c(a),t;l=l.sibling}throw Error(r(188))}if(s.return!==n.return)s=a,n=l;else{for(var o=!1,d=a.child;d;){if(d===s){o=!0,s=a,n=l;break}if(d===n){o=!0,n=a,s=l;break}d=d.sibling}if(!o){for(d=l.child;d;){if(d===s){o=!0,s=l,n=a;break}if(d===n){o=!0,n=l,s=a;break}d=d.sibling}if(!o)throw Error(r(189))}}if(s.alternate!==n)throw Error(r(190))}if(3!==s.tag)throw Error(r(188));return s.stateNode.current===s?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Am={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Rm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rm.isDisabled&&Rm.supportsFiber)try{ce=Rm.inject(Am),de=Rm}catch(Tm){}}return l.createRoot=function(e,t){if(!a(e))throw Error(r(299));var s=!1,n="",l=ji,i=yi,o=bi;return null!=t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(l=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Ju(e,1,!1,null,0,s,n,l,i,o,0,null),e[Te]=t.current,Bd(e),new Fm(t)},l.hydrateRoot=function(e,t,s){if(!a(e))throw Error(r(299));var n=!1,l="",i=ji,o=yi,c=bi,d=null;return null!=s&&(!0===s.unstable_strictMode&&(n=!0),void 0!==s.identifierPrefix&&(l=s.identifierPrefix),void 0!==s.onUncaughtError&&(i=s.onUncaughtError),void 0!==s.onCaughtError&&(o=s.onCaughtError),void 0!==s.onRecoverableError&&(c=s.onRecoverableError),void 0!==s.unstable_transitionCallbacks&&s.unstable_transitionCallbacks,void 0!==s.formState&&(d=s.formState)),(t=Ju(e,1,!0,t,0,n,l,i,o,c,0,d)).context=Zu(null),s=t.current,(l=la(n=Fe(n=Tc()))).callback=null,ia(s,l,n),s=n,t.current.lanes=s,ke(t,s),wd(t),e[Te]=t.current,Bd(e),new Pm(t)},l.version="19.1.0",l}var Ee=(r||(r=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),a.exports=Me()),a.exports);const Fe=Se(Ee),Pe=e=>{let t;const s=new Set,n=(e,n)=>{const r="function"==typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=n?n:"object"!=typeof r||null===r)?r:Object.assign({},t,r),s.forEach(s=>s(t,e))}},r=()=>t,a={setState:n,getState:r,getInitialState:()=>l,subscribe:e=>(s.add(e),()=>s.delete(e))},l=t=e(n,r,a);return a},De=e=>e,Ae=e=>{const t=(e=>e?Pe(e):Pe)(e),s=e=>function(e,t=De){const s=ue.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return ue.useDebugValue(s),s}(t,e);return Object.assign(s,t),s},Re=e=>e?Ae(e):Ae,Ie=e=>(t,s,n)=>{const r=n.subscribe;return n.subscribe=(e,t,s)=>{let a=e;if(t){const r=(null==s?void 0:s.equalityFn)||Object.is;let l=e(n.getState());a=s=>{const n=e(s);if(!r(l,n)){const e=l;t(l=n,e)}},(null==s?void 0:s.fireImmediately)&&t(l,l)}return r(a)},e(t,s,n)};function Te(e,t){let s;try{s=e()}catch(n){return}return{getItem:e=>{var t;const n=e=>null===e?null:JSON.parse(e,void 0),r=null!=(t=s.getItem(e))?t:null;return r instanceof Promise?r.then(n):n(r)},setItem:(e,t)=>s.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>s.removeItem(e)}}const Le=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then:e=>Le(e)(s),catch(e){return this}}}catch(s){return{then(e){return this},catch:e=>Le(e)(s)}}},ze=(e,t)=>(s,n,r)=>{let a=o({storage:Te(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>o(o({},t),e)},t),l=!1;const i=new Set,c=new Set;let d=a.storage;if(!d)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),s(...e)},n,r);const u=()=>{const e=a.partialize(o({},n()));return d.setItem(a.name,{state:e,version:a.version})},m=r.setState;r.setState=(e,t)=>{m(e,t),u()};const h=e((...e)=>{s(...e),u()},n,r);let x;r.getInitialState=()=>h;const f=()=>{var e,t;if(!d)return;l=!1,i.forEach(e=>{var t;return e(null!=(t=n())?t:h)});const r=(null==(t=a.onRehydrateStorage)?void 0:t.call(a,null!=(e=n())?e:h))||void 0;return Le(d.getItem.bind(d))(a.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return[!1,e.state];if(a.migrate){const t=a.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;const[r,l]=e;if(x=a.merge(l,null!=(t=n())?t:h),s(x,!0),r)return u()}).then(()=>{null==r||r(x,void 0),x=n(),l=!0,c.forEach(e=>e(x))}).catch(e=>{null==r||r(void 0,e)})};return r.persist={setOptions:e=>{a=o(o({},a),e),e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>f(),hasHydrated:()=>l,onHydrate:e=>(i.add(e),()=>{i.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},a.skipHydration||f(),x||h},Oe=Re()(ze(e=>({theme:"dark",setTheme:t=>e({theme:t})}),{name:"theme-storage"})),Ve=me.createContext({theme:"system",setTheme:()=>null});function Ue(e){var t=e,{children:s,defaultTheme:n="system",storageKey:r="vite-ui-theme"}=t,a=u(t,["children","defaultTheme","storageKey"]);const{theme:l,setTheme:i}=Oe();me.useEffect(()=>{const e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===l){const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return void e.classList.add(t)}e.classList.add(l)},[l]);const d={theme:l,setTheme:i};return x.jsx(Ve.Provider,c(o({},a),{value:d,children:s}))}const Be=Array(12).fill(0),$e=({visible:e,className:t})=>ue.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ue.createElement("div",{className:"sonner-spinner"},Be.map((e,t)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),He=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qe=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ge=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),We=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ke=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let Qe=1;const Ye=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const s=e,{message:n}=s,r=u(s,["message"]),a="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:Qe++,l=this.toasts.find(e=>e.id===a),i=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(t=>t.id===a?(this.publish(c(o(o({},t),e),{id:a,title:n})),c(o(o({},t),e),{id:a,dismissible:i,title:n})):t):this.addToast(c(o({title:n},r),{dismissible:i,id:a})),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create(c(o({},t),{message:e})),this.error=(e,t)=>this.create(c(o({},t),{message:e,type:"error"})),this.success=(e,t)=>this.create(c(o({},t),{type:"success",message:e})),this.info=(e,t)=>this.create(c(o({},t),{type:"info",message:e})),this.warning=(e,t)=>this.create(c(o({},t),{type:"warning",message:e})),this.loading=(e,t)=>this.create(c(o({},t),{type:"loading",message:e})),this.promise=(e,t)=>{if(!t)return;let s;void 0!==t.loading&&(s=this.create(c(o({},t),{promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0})));const n=Promise.resolve(e instanceof Function?e():e);let r,a=void 0!==s;const l=n.then(e=>h(this,null,function*(){if(r=["resolve",e],ue.isValidElement(e))a=!1,this.create({id:s,type:"default",message:e});else if(Xe(e)&&!e.ok){a=!1;const n="function"==typeof t.error?yield t.error(`HTTP error! status: ${e.status}`):t.error,r="function"==typeof t.description?yield t.description(`HTTP error! status: ${e.status}`):t.description,l="object"!=typeof n||ue.isValidElement(n)?{message:n}:n;this.create(o({id:s,type:"error",description:r},l))}else if(e instanceof Error){a=!1;const n="function"==typeof t.error?yield t.error(e):t.error,r="function"==typeof t.description?yield t.description(e):t.description,l="object"!=typeof n||ue.isValidElement(n)?{message:n}:n;this.create(o({id:s,type:"error",description:r},l))}else if(void 0!==t.success){a=!1;const n="function"==typeof t.success?yield t.success(e):t.success,r="function"==typeof t.description?yield t.description(e):t.description,l="object"!=typeof n||ue.isValidElement(n)?{message:n}:n;this.create(o({id:s,type:"success",description:r},l))}})).catch(e=>h(this,null,function*(){if(r=["reject",e],void 0!==t.error){a=!1;const n="function"==typeof t.error?yield t.error(e):t.error,r="function"==typeof t.description?yield t.description(e):t.description,l="object"!=typeof n||ue.isValidElement(n)?{message:n}:n;this.create(o({id:s,type:"error",description:r},l))}})).finally(()=>{a&&(this.dismiss(s),s=void 0),null==t.finally||t.finally.call(t)}),i=()=>new Promise((e,t)=>l.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!=typeof s&&"number"!=typeof s?{unwrap:i}:Object.assign(s,{unwrap:i})},this.custom=(e,t)=>{const s=(null==t?void 0:t.id)||Qe++;return this.create(o({jsx:e(s),id:s},t)),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Xe=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,Je=(e,t)=>{const s=(null==t?void 0:t.id)||Qe++;return Ye.addToast(c(o({title:e},t),{id:s})),s},Ze=Object.assign(Je,{success:Ye.success,info:Ye.info,warning:Ye.warning,error:Ye.error,custom:Ye.custom,message:Ye.message,promise:Ye.promise,dismiss:Ye.dismiss,loading:Ye.loading},{getHistory:()=>Ye.toasts,getToasts:()=>Ye.getActiveToasts()});function et(e){return void 0!==e.label}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const tt=3,st=14;function nt(...e){return e.filter(Boolean).join(" ")}const rt=e=>{var t,s,n,r,a,l,i,d,u;const{invert:m,toast:h,unstyled:x,interacting:f,setHeights:p,visibleToasts:g,heights:v,index:j,toasts:y,expanded:b,removeToast:N,defaultRichColors:_,closeButton:w,style:S,cancelButtonStyle:k,actionButtonStyle:C,className:M="",descriptionClassName:E="",duration:F,position:P,gap:D,expandByDefault:A,classNames:R,icons:I,closeButtonAriaLabel:T="Close toast"}=e,[L,z]=ue.useState(null),[O,V]=ue.useState(null),[U,B]=ue.useState(!1),[$,H]=ue.useState(!1),[q,G]=ue.useState(!1),[W,K]=ue.useState(!1),[Q,Y]=ue.useState(!1),[X,J]=ue.useState(0),[Z,ee]=ue.useState(0),te=ue.useRef(h.duration||F||4e3),se=ue.useRef(null),ne=ue.useRef(null),re=0===j,ae=j+1<=g,le=h.type,ie=!1!==h.dismissible,oe=h.className||"",ce=h.descriptionClassName||"",de=ue.useMemo(()=>v.findIndex(e=>e.toastId===h.id)||0,[v,h.id]),me=ue.useMemo(()=>{var e;return null!=(e=h.closeButton)?e:w},[h.closeButton,w]),he=ue.useMemo(()=>h.duration||F||4e3,[h.duration,F]),xe=ue.useRef(0),fe=ue.useRef(0),pe=ue.useRef(0),ge=ue.useRef(null),[ve,je]=P.split("-"),ye=ue.useMemo(()=>v.reduce((e,t,s)=>s>=de?e:e+t.height,0),[v,de]),be=(()=>{const[e,t]=ue.useState(document.hidden);return ue.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),Ne=h.invert||m,_e="loading"===le;fe.current=ue.useMemo(()=>de*D+ye,[de,ye]),ue.useEffect(()=>{te.current=he},[he]),ue.useEffect(()=>{B(!0)},[]),ue.useEffect(()=>{const e=ne.current;if(e){const t=e.getBoundingClientRect().height;return ee(t),p(e=>[{toastId:h.id,height:t,position:h.position},...e]),()=>p(e=>e.filter(e=>e.toastId!==h.id))}},[p,h.id]),ue.useLayoutEffect(()=>{if(!U)return;const e=ne.current,t=e.style.height;e.style.height="auto";const s=e.getBoundingClientRect().height;e.style.height=t,ee(s),p(e=>e.find(e=>e.toastId===h.id)?e.map(e=>e.toastId===h.id?c(o({},e),{height:s}):e):[{toastId:h.id,height:s,position:h.position},...e])},[U,h.title,h.description,p,h.id,h.jsx,h.action,h.cancel]);const we=ue.useCallback(()=>{H(!0),J(fe.current),p(e=>e.filter(e=>e.toastId!==h.id)),setTimeout(()=>{N(h)},200)},[h,N,p,fe]);ue.useEffect(()=>{if(h.promise&&"loading"===le||h.duration===1/0||"loading"===h.type)return;let e;return b||f||be?(()=>{if(pe.current<xe.current){const e=(new Date).getTime()-xe.current;te.current=te.current-e}pe.current=(new Date).getTime()})():te.current!==1/0&&(xe.current=(new Date).getTime(),e=setTimeout(()=>{null==h.onAutoClose||h.onAutoClose.call(h,h),we()},te.current)),()=>clearTimeout(e)},[b,f,h,le,be,we]),ue.useEffect(()=>{h.delete&&(we(),null==h.onDismiss||h.onDismiss.call(h,h))},[we,h.delete]);const Se=h.icon||(null==I?void 0:I[le])||(e=>{switch(e){case"success":return He;case"info":return Ge;case"warning":return qe;case"error":return We;default:return null}})(le);var ke,Ce,Me,Ee;return ue.createElement("li",{tabIndex:0,ref:ne,className:nt(M,oe,null==R?void 0:R.toast,null==h||null==(t=h.classNames)?void 0:t.toast,null==R?void 0:R.default,null==R?void 0:R[le],null==h||null==(s=h.classNames)?void 0:s[le]),"data-sonner-toast":"","data-rich-colors":null!=(ke=h.richColors)?ke:_,"data-styled":!Boolean(h.jsx||h.unstyled||x),"data-mounted":U,"data-promise":Boolean(h.promise),"data-swiped":Q,"data-removed":$,"data-visible":ae,"data-y-position":ve,"data-x-position":je,"data-index":j,"data-front":re,"data-swiping":q,"data-dismissible":ie,"data-type":le,"data-invert":Ne,"data-swipe-out":W,"data-swipe-direction":O,"data-expanded":Boolean(b||A&&U),style:o(o({"--index":j,"--toasts-before":j,"--z-index":y.length-j,"--offset":`${$?X:fe.current}px`,"--initial-height":A?"auto":`${Z}px`},S),h.style),onDragEnd:()=>{G(!1),z(null),ge.current=null},onPointerDown:e=>{2!==e.button&&!_e&&ie&&(se.current=new Date,J(fe.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(G(!0),ge.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,s;if(W||!ie)return;ge.current=null;const n=Number((null==(e=ne.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),r=Number((null==(t=ne.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),a=(new Date).getTime()-(null==(s=se.current)?void 0:s.getTime()),l="x"===L?n:r,i=Math.abs(l)/a;if(Math.abs(l)>=45||i>.11)return J(fe.current),null==h.onDismiss||h.onDismiss.call(h,h),V("x"===L?n>0?"right":"left":r>0?"down":"up"),we(),void K(!0);var o,c;null==(o=ne.current)||o.style.setProperty("--swipe-amount-x","0px"),null==(c=ne.current)||c.style.setProperty("--swipe-amount-y","0px"),Y(!1),G(!1),z(null)},onPointerMove:t=>{var s,n,r;if(!ge.current||!ie)return;if((null==(s=window.getSelection())?void 0:s.toString().length)>0)return;const a=t.clientY-ge.current.y,l=t.clientX-ge.current.x;var i;const o=null!=(i=e.swipeDirections)?i:function(e){const[t,s]=e.split("-"),n=[];return t&&n.push(t),s&&n.push(s),n}(P);!L&&(Math.abs(l)>1||Math.abs(a)>1)&&z(Math.abs(l)>Math.abs(a)?"x":"y");let c={x:0,y:0};const d=e=>1/(1.5+Math.abs(e)/20);if("y"===L){if(o.includes("top")||o.includes("bottom"))if(o.includes("top")&&a<0||o.includes("bottom")&&a>0)c.y=a;else{const e=a*d(a);c.y=Math.abs(e)<Math.abs(a)?e:a}}else if("x"===L&&(o.includes("left")||o.includes("right")))if(o.includes("left")&&l<0||o.includes("right")&&l>0)c.x=l;else{const e=l*d(l);c.x=Math.abs(e)<Math.abs(l)?e:l}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&Y(!0),null==(n=ne.current)||n.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(r=ne.current)||r.style.setProperty("--swipe-amount-y",`${c.y}px`)}},me&&!h.jsx&&"loading"!==le?ue.createElement("button",{"aria-label":T,"data-disabled":_e,"data-close-button":!0,onClick:_e||!ie?()=>{}:()=>{we(),null==h.onDismiss||h.onDismiss.call(h,h)},className:nt(null==R?void 0:R.closeButton,null==h||null==(n=h.classNames)?void 0:n.closeButton)},null!=(Ce=null==I?void 0:I.close)?Ce:Ke):null,(le||h.icon||h.promise)&&null!==h.icon&&(null!==(null==I?void 0:I[le])||h.icon)?ue.createElement("div",{"data-icon":"",className:nt(null==R?void 0:R.icon,null==h||null==(r=h.classNames)?void 0:r.icon)},h.promise||"loading"===h.type&&!h.icon?h.icon||((null==I?void 0:I.loading)?ue.createElement("div",{className:nt(null==R?void 0:R.loader,null==h||null==(Ee=h.classNames)?void 0:Ee.loader,"sonner-loader"),"data-visible":"loading"===le},I.loading):ue.createElement($e,{className:nt(null==R?void 0:R.loader,null==h||null==(Me=h.classNames)?void 0:Me.loader),visible:"loading"===le})):null,"loading"!==h.type?Se:null):null,ue.createElement("div",{"data-content":"",className:nt(null==R?void 0:R.content,null==h||null==(a=h.classNames)?void 0:a.content)},ue.createElement("div",{"data-title":"",className:nt(null==R?void 0:R.title,null==h||null==(l=h.classNames)?void 0:l.title)},h.jsx?h.jsx:"function"==typeof h.title?h.title():h.title),h.description?ue.createElement("div",{"data-description":"",className:nt(E,ce,null==R?void 0:R.description,null==h||null==(i=h.classNames)?void 0:i.description)},"function"==typeof h.description?h.description():h.description):null),ue.isValidElement(h.cancel)?h.cancel:h.cancel&&et(h.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||k,onClick:e=>{et(h.cancel)&&ie&&(null==h.cancel.onClick||h.cancel.onClick.call(h.cancel,e),we())},className:nt(null==R?void 0:R.cancelButton,null==h||null==(d=h.classNames)?void 0:d.cancelButton)},h.cancel.label):null,ue.isValidElement(h.action)?h.action:h.action&&et(h.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||C,onClick:e=>{et(h.action)&&(null==h.action.onClick||h.action.onClick.call(h.action,e),e.defaultPrevented||we())},className:nt(null==R?void 0:R.actionButton,null==h||null==(u=h.classNames)?void 0:u.actionButton)},h.action.label):null)};function at(){if("undefined"==typeof window)return"ltr";if("undefined"==typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function lt(e,t){const s={};return[e,t].forEach((e,t)=>{const n=1===t,r=n?"--mobile-offset":"--offset",a=n?"16px":"24px";function l(e){["top","right","bottom","left"].forEach(t=>{s[`${r}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?l(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?s[`${r}-${t}`]=a:s[`${r}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):l(a)}),s}const it=ue.forwardRef(function(e,t){const{invert:s,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:a,closeButton:l,className:i,offset:d,mobileOffset:u,theme:m="light",richColors:h,duration:x,style:f,visibleToasts:p=tt,toastOptions:g,dir:v=at(),gap:j=st,icons:y,containerAriaLabel:b="Notifications"}=e,[N,_]=ue.useState([]),w=ue.useMemo(()=>Array.from(new Set([n].concat(N.filter(e=>e.position).map(e=>e.position)))),[N,n]),[S,k]=ue.useState([]),[C,M]=ue.useState(!1),[E,F]=ue.useState(!1),[P,D]=ue.useState("system"!==m?m:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),A=ue.useRef(null),R=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=ue.useRef(null),T=ue.useRef(!1),L=ue.useCallback(e=>{_(t=>{var s;return(null==(s=t.find(t=>t.id===e.id))?void 0:s.delete)||Ye.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return ue.useEffect(()=>Ye.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{_(t=>t.map(t=>t.id===e.id?c(o({},t),{delete:!0}):t))}):setTimeout(()=>{he.flushSync(()=>{_(t=>{const s=t.findIndex(t=>t.id===e.id);return-1!==s?[...t.slice(0,s),o(o({},t[s]),e),...t.slice(s+1)]:[e,...t]})})})}),[N]),ue.useEffect(()=>{if("system"!==m)return void D(m);if("system"===m&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),"undefined"==typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{D(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{D(e?"dark":"light")}catch(t){console.error(t)}})}},[m]),ue.useEffect(()=>{N.length<=1&&M(!1)},[N]),ue.useEffect(()=>{const e=e=>{var t,s;r.every(t=>e[t]||e.code===t)&&(M(!0),null==(s=A.current)||s.focus()),"Escape"!==e.code||document.activeElement!==A.current&&!(null==(t=A.current)?void 0:t.contains(document.activeElement))||M(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[r]),ue.useEffect(()=>{if(A.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,T.current=!1)}},[A.current]),ue.createElement("section",{ref:t,"aria-label":`${b} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},w.map((t,n)=>{var r;const[c,m]=t.split("-");return N.length?ue.createElement("ol",{key:t,dir:"auto"===v?at():v,tabIndex:-1,ref:A,className:i,"data-sonner-toaster":!0,"data-sonner-theme":P,"data-y-position":c,"data-x-position":m,style:o(o({"--front-toast-height":`${(null==(r=S[0])?void 0:r.height)||0}px`,"--width":"356px","--gap":`${j}px`},f),lt(d,u)),onBlur:e=>{T.current&&!e.currentTarget.contains(e.relatedTarget)&&(T.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||T.current||(T.current=!0,I.current=e.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{E||M(!1)},onDragEnd:()=>M(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||F(!0)},onPointerUp:()=>F(!1)},N.filter(e=>!e.position&&0===n||e.position===t).map((n,r)=>{var i,o;return ue.createElement(rt,{key:n.id,icons:y,index:r,toast:n,defaultRichColors:h,duration:null!=(i=null==g?void 0:g.duration)?i:x,className:null==g?void 0:g.className,descriptionClassName:null==g?void 0:g.descriptionClassName,invert:s,visibleToasts:p,closeButton:null!=(o=null==g?void 0:g.closeButton)?o:l,interacting:E,position:t,style:null==g?void 0:g.style,unstyled:null==g?void 0:g.unstyled,classNames:null==g?void 0:g.classNames,cancelButtonStyle:null==g?void 0:g.cancelButtonStyle,actionButtonStyle:null==g?void 0:g.actionButtonStyle,closeButtonAriaLabel:null==g?void 0:g.closeButtonAriaLabel,removeToast:L,toasts:N.filter(e=>e.position==n.position),heights:S.filter(e=>e.position==n.position),setHeights:k,expandByDefault:a,gap:j,expanded:C,swipeDirections:e.swipeDirections})})):null}))});function ot(e){try{const t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(s)}catch(t){return console.error("Failed to parse JWT token:",t),null}}function ct(e){const t=ot(e);if(!t)return!0;const s=Math.floor(Date.now()/1e3);return t.exp<s+300}const dt=Re()(ze((e,t)=>({user:null,token:null,isAuthenticated:!1,loading:!1,error:null,success:null,rememberMe:!1,login:t=>h(null,null,function*(){e({loading:!0,error:null});try{const s=yield fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=yield s.json();if(!s.ok)throw new Error(n.error||"Login failed");e({user:n.user,token:n.token,isAuthenticated:!0,loading:!1,error:null,rememberMe:t.rememberMe||!1})}catch(s){const t=s instanceof Error?s.message:"Login failed";throw e({loading:!1,error:t}),s}}),logout:()=>{e({user:null,token:null,isAuthenticated:!1,error:null,success:null,rememberMe:!1})},forgotPassword:t=>h(null,null,function*(){e({loading:!0,error:null,success:null});try{const s=yield fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),n=yield s.json();if(!s.ok)throw new Error(n.error||"Failed to send reset email");e({loading:!1,success:n.message,error:null})}catch(s){const t=s instanceof Error?s.message:"Failed to send reset email";throw e({loading:!1,error:t}),s}}),clearError:()=>e({error:null}),clearSuccess:()=>e({success:null}),checkTokenExpiration:()=>{const{token:e}=t();if(e){const s=function(e){const t=ot(e);if(!t)return 0;const s=Math.floor(Date.now()/1e3);return Math.max(0,t.exp-s)}(e),n=300;s<=0?(console.log("JWT token is expired, logging out user"),t().logout(),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"):s<=n&&console.log(`JWT token will expire in ${Math.floor(s/60)} minutes`)}},checkAuth:()=>{const{token:s,user:n,rememberMe:r}=t();return s&&n?ct(s)?(console.log("JWT token is expired, logging out user"),e({user:null,token:null,isAuthenticated:!1}),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login",!1):(e({isAuthenticated:!0}),!0):(r||e({user:null,token:null,isAuthenticated:!1}),e({isAuthenticated:!1}),!1)},setLoading:t=>e({loading:t}),setError:t=>e({error:t}),setSuccess:t=>e({success:t}),setRememberMe:t=>e({rememberMe:t})}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated,rememberMe:e.rememberMe}),onRehydrateStorage:()=>e=>{e&&e.checkAuth()}}));function ut({children:e}){const{isAuthenticated:t,checkAuth:s}=dt();return me.useEffect(()=>{s()},[s]),t?x.jsx(x.Fragment,{children:e}):x.jsx(xe,{to:"/login",replace:!0})}const mt=Re()(Ie((e,t)=>{let s=null,n=0,r=null;const a=new Map,l=[],i=()=>{r&&(clearInterval(r),r=null)};document.addEventListener("visibilitychange",()=>{if(!document.hidden&&(null==s?void 0:s.readyState)===WebSocket.CLOSED){const{token:e}=dt.getState();e&&t().connect(e)}});const c=e=>{console.log("WebSocket: Alarm resolved received:",e),t().updateAlarmLog(Date.now(),{resolved:!0,resolved_at:(new Date).toISOString()}),Ze(" Alarm Resolved",{description:`${e.alarm_type}: ${e.message}`,duration:4e3})};return{isConnected:!1,isConnecting:!1,error:null,devices:new Map,alarmLogs:[],smsLogs:[],smppUsers:new Map,connect:(a,o=!1)=>h(null,null,function*(){if((null==s?void 0:s.readyState)!==WebSocket.OPEN){if(ct(a))return console.log("JWT token is expired, logging out user"),dt.getState().logout(),localStorage.removeItem("token"),localStorage.removeItem("user"),void(window.location.href="/login");e({isConnecting:!0,error:null});try{const c=`/ws?type=frontend&token=${a}`;s=new WebSocket(c),s.onopen=()=>{e({isConnecting:!1,isConnected:!0}),n=0,console.log("WebSocket connected"),r=setInterval(()=>{(null==s?void 0:s.readyState)===WebSocket.OPEN&&s.send(JSON.stringify({type:"ping",timestamp:Date.now()}))},3e4),l.forEach(e=>e(!0))},s.onmessage=e=>{console.log("Raw WebSocket message:",e.data);try{const s=JSON.parse(e.data);t().handleMessage(s)}catch(s){console.error("Failed to parse WebSocket message:",s,"Raw data:",e.data)}},s.onclose=s=>{var r,c,d;if(e({isConnected:!1,isConnecting:!1}),i(),console.log("WebSocket disconnected:",s.code,s.reason),l.forEach(e=>e(!1)),1008===s.code||1003===s.code||(null==(r=s.reason)?void 0:r.includes("Invalid token"))||(null==(c=s.reason)?void 0:c.includes("JWT"))||(null==(d=s.reason)?void 0:d.includes("Token expired")))return console.log("WebSocket connection closed due to authentication failure, logging out user"),dt.getState().logout(),localStorage.removeItem("token"),localStorage.removeItem("user"),void(window.location.href="/login");1e3!==s.code&&n<5&&setTimeout(()=>{n++,t().connect(a,o)},5e3)},s.onerror=t=>{console.error("WebSocket error:",t),e({error:"Connection failed",isConnecting:!1})}}catch(c){throw e({error:"Failed to establish connection",isConnecting:!1}),c}}}),disconnect:()=>{s&&(s.close(1e3,"Manual disconnect"),s=null),i(),e({isConnected:!1,isConnecting:!1}),l.forEach(e=>e(!1))},reconnect:()=>h(null,null,function*(){t().disconnect();const{token:e}=dt.getState();e&&(yield t().connect(e))}),send:e=>{(null==s?void 0:s.readyState)===WebSocket.OPEN?s.send(JSON.stringify(e)):console.warn("WebSocket is not connected")},onMessage:(e,t)=>{a.has(e)||a.set(e,[]),a.get(e).push(t)},offMessage:(e,t)=>{const s=a.get(e);if(s){const e=s.indexOf(t);e>-1&&s.splice(e,1)}},onConnectionChange:e=>{l.push(e)},offConnectionChange:e=>{const t=l.indexOf(e);t>-1&&l.splice(t,1)},ping:()=>{t().send({type:"ping",data:"ping"})},updateDevice:(t,s)=>{e(e=>{const n=new Map(e.devices),r=n.get(t);if(r){const e=o(o({},r),s);n.set(t,e),console.log(`WebSocket: Device updated: ${t} (${e.name})`)}else{const e={id:t,name:s.name||`Device-${t}`,device_group:s.device_group||"",sitename:s.sitename||"",status:s.status||"offline",last_heartbeat:s.last_heartbeat||Date.now(),battery_level:void 0!==s.battery_level&&null!==s.battery_level&&s.battery_level>0?s.battery_level:0,battery_status:s.battery_status||"",signal_strength:void 0!==s.signal_strength&&null!==s.signal_strength?s.signal_strength:0,signal_dbm:void 0!==s.signal_dbm&&null!==s.signal_dbm?s.signal_dbm:0,network_type:s.network_type||"",manufacturer:s.manufacturer||"",model:s.model||"",android_version:s.android_version||"",sim_cards:s.sim_cards||[],location:s.location||{latitude:0,longitude:0},alarms:s.alarms||[],maintenance_mode:s.maintenance_mode||!1,maintenance_reason:s.maintenance_reason||"",maintenance_started_at:s.maintenance_started_at||""};n.set(t,e),console.log(`WebSocket: New device added: ${t} (${e.name})`)}return{devices:n}})},removeDevice:t=>{e(e=>{const s=new Map(e.devices);return s.delete(t),{devices:s}})},getDevice:e=>t().devices.get(e),getAllDevices:()=>Array.from(t().devices.values()),getDevicesByGroup:e=>Array.from(t().devices.values()).filter(t=>t.device_group===e),getDevicesBySitename:e=>Array.from(t().devices.values()).filter(t=>t.sitename===e),addAlarmLog:t=>{e(e=>({alarmLogs:[...e.alarmLogs,t]}))},updateAlarmLog:(t,s)=>{e(e=>({alarmLogs:e.alarmLogs.map(e=>e.id===t?o(o({},e),s):e)}))},removeAlarmLog:t=>{e(e=>({alarmLogs:e.alarmLogs.filter(e=>e.id!==t)}))},getAllAlarmLogs:()=>t().alarmLogs,addSmsLog:t=>{e(e=>({smsLogs:[...e.smsLogs,t].slice(-100)}))},updateSmsLog:(t,s)=>{e(e=>({smsLogs:e.smsLogs.map(e=>e.id===t?o(o({},e),s):e)}))},removeSmsLog:t=>{e(e=>({smsLogs:e.smsLogs.filter(e=>e.id!==t)}))},getAllSmsLogs:()=>t().smsLogs,updateSmppUser:(t,s)=>{e(e=>{const n=new Map(e.smppUsers),r=n.get(t);return n.set(t,o(o({},r),s)),{smppUsers:n}})},getSmppUser:e=>t().smppUsers.get(e),getAllSmppUsers:()=>Array.from(t().smppUsers.values()),SendSms:(e,s)=>h(null,null,function*(){t().send({type:"send_sms",data:o({device_id:e},s)})}),SendUssd:(e,s)=>h(null,null,function*(){t().send({type:"send_ussd",data:o({device_id:e},s)})}),FindDevice:(e,s)=>h(null,null,function*(){t().send({type:"find_device",data:o({device_id:e},s)})}),StartAlarm:(e,s)=>h(null,null,function*(){t().send({type:"alarm_start",data:o({device_id:e},s)})}),StopAlarm:e=>h(null,null,function*(){t().send({type:"alarm_stop",data:{device_id:e}})}),handleMessage:s=>{const{type:n,data:r}=s;console.log("WebSocket message received:",{type:n,data:r});const l=a.get(n);switch(l&&l.forEach(e=>e(r)),n){case"connection_established":console.log("Connection established, settings received:",r);break;case"pong":console.log("Pong received from server");break;case"error":console.error("Error from server:",r),r&&"object"==typeof r&&"error"in r&&("Invalid token"===r.error||"Token expired"===r.error)&&(console.log("Authentication error received, logging out user"),dt.getState().logout(),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login");break;case"heartbeat":(e=>{var s,n,r,a,l,i;const o=e.device_id||(null==(s=e.device_info)?void 0:s.imei);console.log("WebSocket: Heartbeat received for device:",o,"Battery:",e.battery_level,"Signal:",e.signal_strength),t().updateDevice(o,{name:e.device_name,device_group:null==(n=e.device_info)?void 0:n.device_group,sitename:null==(r=e.device_info)?void 0:r.country_site,status:"online",last_heartbeat:Date.now(),battery_level:void 0!==e.battery_level&&null!==e.battery_level&&e.battery_level>0?e.battery_level:void 0,battery_status:e.battery_status,signal_strength:void 0!==e.signal_strength&&null!==e.signal_strength?e.signal_strength:void 0,signal_dbm:void 0!==e.signal_dbm&&null!==e.signal_dbm?e.signal_dbm:void 0,network_type:e.network_type,manufacturer:null==(a=e.device_info)?void 0:a.manufacturer,model:null==(l=e.device_info)?void 0:l.model,android_version:null==(i=e.device_info)?void 0:i.android_version,sim_cards:e.sim_cards,location:e.location}),e.sim_cards&&Array.isArray(e.sim_cards)&&console.log("WebSocket: Enhanced SIM cards data:",e.sim_cards.map(e=>({slot:e.slot_index,carrier:e.carrier_name,status:e.sim_card_status,signal:e.signal_strength})))})(r);break;case"device_status":(e=>{console.log("WebSocket: Device status received:",e)})(r);break;case"device_online":(e=>{console.log("WebSocket: Device online received:",e),t().updateDevice(e.device_id,{status:"online",last_heartbeat:Date.now()})})(r);break;case"device_offline":(e=>{console.log("WebSocket: Device offline received:",e),t().updateDevice(e.device_id,{status:"offline",last_heartbeat:Date.now()})})(r);break;case"alarm":(e=>{console.log("WebSocket: Alarm received:",e),t().addAlarmLog({id:Date.now(),alarm_type:e.alarm_type,message:e.message,severity:e.severity,device_group:e.device_group,country_site:e.sitename,created_at:(new Date).toISOString()});const s={warning:{icon:"",duration:6e3},error:{icon:"",duration:8e3},critical:{icon:"",duration:0}},n=s[e.severity]||s.warning;Ze(`Alarm: ${e.alarm_type.replace("_"," ").toUpperCase()}`,{description:e.message,duration:n.duration,icon:n.icon,action:{label:"View Alarms",onClick:()=>{window.location.href="/alarm-logs"}}})})(r);break;case"alarm_resolved":case"sim_card_change_alarm_resolved":c(r);break;case"sms_log":(e=>{console.log("WebSocket: SMS log received:",e);const s={id:Date.now(),message_id:`ws_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,device_id:null,device_name:null,device_imei:null,device_imsi:null,simcard_name:null,sim_slot:e.sim_slot,simcard_number:e.phone_number,simcard_iccid:null,source_addr:null,source_connector:null,source_user:null,destination_addr:e.phone_number,message:e.message,message_length:e.message?e.message.length:0,direction:"outbound",priority:null,status:e.status,sent_at:null,delivered_at:null,delivery_report_status:null,delivery_report_received_at:null,received_at:null,error_message:null,device_group_id:null,device_group:e.device_group,country_site_id:null,country_site:e.sitename,campaign_id:null,batch_id:null,queued_at:null,metadata:null,total_cost:null,currency:null,smpp_sent:null,delivery_report_requested:null,retry_count:null,max_retries:null,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),pdu_count:null,is_blacklisted:!1};t().addSmsLog(s)})(r);break;case"sms_message":(e=>{console.log("WebSocket: SMS message received:",e);const s={id:Date.now(),message_id:`ws_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,device_id:null,device_name:null,device_imei:null,device_imsi:null,simcard_name:null,sim_slot:e.sim_slot,simcard_number:e.phone_number,simcard_iccid:null,source_addr:"received"===e.direction?e.phone_number:null,source_connector:null,source_user:null,destination_addr:"sent"===e.direction?e.phone_number:null,message:e.message,message_length:e.message?e.message.length:0,direction:e.direction,priority:null,status:"received"===e.direction?"delivered":"sent",sent_at:"sent"===e.direction?new Date(e.timestamp).toISOString():null,delivered_at:"received"===e.direction?new Date(e.timestamp).toISOString():null,delivery_report_status:null,delivery_report_received_at:null,received_at:"received"===e.direction?new Date(e.timestamp).toISOString():null,error_message:null,device_group_id:null,device_group:e.device_group,country_site_id:null,country_site:e.sitename,campaign_id:null,batch_id:null,queued_at:null,metadata:null,total_cost:null,currency:null,smpp_sent:null,delivery_report_requested:null,retry_count:null,max_retries:null,created_at:new Date(e.timestamp).toISOString(),updated_at:new Date(e.timestamp).toISOString(),pdu_count:null,is_blacklisted:!1};t().addSmsLog(s)})(r);break;case"ussd_response":(e=>{console.log("WebSocket: USSD response received:",e)})(r);break;case"ussd_response_failed":(e=>{console.log("WebSocket: USSD response failed received:",e)})(r);break;case"mms_received":(e=>{console.log("WebSocket: MMS received:",e)})(r);break;case"rcs_received":(e=>{console.log("WebSocket: RCS received:",e)})(r);break;case"ussd_code":(e=>{console.log("WebSocket: USSD code received:",e)})(r);break;case"find_device_success":(e=>{console.log("WebSocket: Find device success:",e),Ze(" Device Found",{description:e.message,duration:4e3})})(r);break;case"find_device_failed":(e=>{console.log("WebSocket: Find device failed:",e),Ze(" Device Not Found",{description:e.error,duration:4e3})})(r);break;case"alarm_started":(e=>{console.log("WebSocket: Alarm started:",e),Ze(" Alarm Started",{description:`${e.alarm_type}: ${e.message}`,duration:8e3,action:{label:"View Alarms",onClick:()=>{window.location.href="/alarm-logs"}}})})(r);break;case"alarm_failed":(e=>{console.log("WebSocket: Alarm failed:",e),Ze(" Alarm Failed",{description:e.error,duration:4e3})})(r);break;case"alarm_stopped":(e=>{console.log("WebSocket: Alarm stopped:",e),Ze(" Alarm Stopped",{description:"Alarm has been stopped",duration:4e3})})(r);break;case"alarm_stop_failed":(e=>{console.log("WebSocket: Alarm stop failed:",e),Ze(" Alarm Stop Failed",{description:e.error,duration:4e3})})(r);break;case"ussd_cancelled":(e=>{console.log("WebSocket: USSD cancelled:",e),Ze(" USSD Cancelled",{description:e.reason,duration:4e3})})(r);break;case"device_alert":(e=>{console.log("Device alert received:",e);const t={info:{icon:"",duration:4e3},warning:{icon:"",duration:6e3},error:{icon:"",duration:8e3}}[e.severity];Ze(e.message,{description:`${e.device_name} (${e.device_id})`,duration:t.duration,icon:t.icon,action:{label:"View Device",onClick:()=>{window.location.href=`/devices/${e.device_id}`}}})})(r);break;case"smpp_user_status_update":(t=>{console.log("SMPP User Status Update:",t),e(e=>{const s=new Map(e.smppUsers);return s.set(t.system_id,t),{smppUsers:s}});const s=t.is_online?"connected":"disconnected",n=t.is_online?"":"";Ze(`${n} SMPP User ${s}`,{description:`${t.system_id} (${t.bind_type}) - ${t.remote_addr}`,duration:4e3,action:{label:"View Users",onClick:()=>{window.location.href="/smpp-users"}}});const r=new CustomEvent("smpp-user-status-update",{detail:t});window.dispatchEvent(r)})(r);break;default:console.log("Unhandled message type:",n)}}}})),ht=me.createContext(void 0),xt=()=>{const e=me.useContext(ht);if(void 0===e)throw new Error("useWebSocket must be used within a WebSocketProvider");return e},ft=({children:e})=>{const{isConnected:t,isConnecting:s,error:n,devices:r,alarmLogs:a,smsLogs:l,smppUsers:i,connect:o,disconnect:c,reconnect:d,getDevice:u,getAllDevices:m,getDevicesByGroup:h,getDevicesBySitename:f,getAllAlarmLogs:p,getAllSmsLogs:g,getAllSmppUsers:v}=mt(),{token:j,isAuthenticated:y,user:b,checkTokenExpiration:N}=dt();me.useEffect(()=>{if(y&&j){const e=setInterval(()=>{N()},6e4);return()=>clearInterval(e)}},[y,j,N]),me.useEffect(()=>{if(y&&j&&!t&&!s){if(ct(j))return console.log("JWT token is expired, logging out user"),dt.getState().logout(),localStorage.removeItem("token"),localStorage.removeItem("user"),void(window.location.href="/login");o(j,!1).catch(e=>{console.error("Failed to connect to WebSocket:",e)})}},[y,j,t,s,null==b?void 0:b.role]),me.useEffect(()=>{!y&&t&&c()},[y,t]),me.useEffect(()=>{if(n&&y&&!s&&j){const e=setTimeout(()=>{d().catch(e=>{console.error("Failed to reconnect:",e)})},5e3);return()=>clearTimeout(e)}},[n,y,s,j]);const _={isConnected:t,isConnecting:s,error:n,devices:Array.from(r.values()),alarmLogs:a,smsLogs:l,smppUsers:Array.from(i.values()),connect:o,disconnect:c,reconnect:d,getDevice:u,getAllDevices:m,getDevicesByGroup:h,getDevicesBySitename:f,getAllAlarmLogs:p,getAllSmsLogs:g,getAllSmppUsers:v};return me.useEffect(()=>{r.size>0&&(console.log("WebSocket Context - Devices updated:",r.size,"devices"),console.log("WebSocket Context - Device statuses:",Array.from(r.values()).map(e=>({id:e.id,name:e.name,status:e.status,battery_level:e.battery_level,signal_strength:e.signal_strength,is_online:"online"===e.status}))))},[r]),x.jsx(ht.Provider,{value:_,children:e})};function pt(e){var t,s,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(s=pt(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function gt(){for(var e,t,s=0,n="",r=arguments.length;s<r;s++)(e=arguments[s])&&(t=pt(e))&&(n&&(n+=" "),n+=t);return n}const vt=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,jt=gt,yt=(e,t)=>s=>{var n;if(null==(null==t?void 0:t.variants))return jt(e,null==s?void 0:s.class,null==s?void 0:s.className);const{variants:r,defaultVariants:a}=t,l=Object.keys(r).map(e=>{const t=null==s?void 0:s[e],n=null==a?void 0:a[e];if(null===t)return null;const l=vt(t)||vt(n);return r[e][l]}),i=s&&Object.entries(s).reduce((e,t)=>{let[s,n]=t;return void 0===n||(e[s]=n),e},{}),c=null==t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let s=t,{class:n,className:r}=s,l=u(s,["class","className"]);return Object.entries(l).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes(o(o({},a),i)[t]):o(o({},a),i)[t]===s})?[...e,n,r]:e},[]);return jt(e,l,c,null==s?void 0:s.class,null==s?void 0:s.className)},bt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Nt=(...e)=>e.filter((e,t,s)=>Boolean(e)&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();
/**
     * @license lucide-react v0.525.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */
var _t={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
     * @license lucide-react v0.525.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */const wt=me.forwardRef((e,t)=>{var s=e,{color:n="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:i="",children:d,iconNode:m}=s,h=u(s,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return me.createElement("svg",o(o(c(o({ref:t},_t),{width:r,height:r,stroke:n,strokeWidth:l?24*Number(a)/Number(r):a,className:Nt("lucide",i)}),!d&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...m.map(([e,t])=>me.createElement(e,t)),...Array.isArray(d)?d:[d]])}),St=(e,t)=>{const s=me.forwardRef((s,n)=>{var r,a=s,{className:l}=a,i=u(a,["className"]);return me.createElement(wt,o({ref:n,iconNode:t,className:Nt(`lucide-${r=bt(e),r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l)},i))});return s.displayName=bt(e),s},kt=St("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),Ct=St("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Mt=St("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Et=St("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Ft=St("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),Pt=St("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Dt=St("battery",[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]]),At=St("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Rt=St("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),It=St("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Tt=St("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Lt=St("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),zt=St("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ot=St("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Vt=St("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ut=St("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Bt=St("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),$t=St("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),Ht=St("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),qt=St("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Gt=St("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Wt=St("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Kt=St("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Qt=St("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Yt=St("clock-4",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Xt=St("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Jt=St("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),Zt=St("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),es=St("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),ts=St("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),ss=St("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),ns=St("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),rs=St("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),as=St("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),ls=St("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),is=St("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),os=St("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]),cs=St("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),ds=St("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),us=St("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ms=St("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),hs=St("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),xs=St("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),fs=St("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),ps=St("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),gs=St("panel-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]),vs=St("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),js=St("phone-off",[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]]),ys=St("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),bs=St("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Ns=St("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),_s=St("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),ws=St("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Ss=St("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ks=St("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Cs=St("route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]),Ms=St("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Es=St("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Fs=St("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Ps=St("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),Ds=St("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),As=St("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Rs=St("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Is=St("signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]),Ts=St("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Ls=St("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),zs=St("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Os=St("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Vs=St("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Us=St("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Bs=St("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),$s=St("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Hs=St("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),qs=St("user-cog",[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Gs=St("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ws=St("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Ks=St("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Qs=St("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),Ys=St("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Xs=St("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Js=St("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);
/**
     * @license lucide-react v0.525.0 - ISC
     *
     * This source code is licensed under the ISC license.
     * See the LICENSE file in the root directory of this source tree.
     */function Zs(){const[e,t]=me.useState(void 0);return me.useEffect(()=>{const e=window.matchMedia("(max-width: 767px)"),s=()=>{t(window.innerWidth<768)};return e.addEventListener("change",s),t(window.innerWidth<768),()=>e.removeEventListener("change",s)},[]),!!e}const en=(e,t)=>{var s;if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?en(e.slice(1),r):void 0;if(a)return a;if(0===t.validators.length)return;const l=e.join("-");return null==(s=t.validators.find(({validator:e})=>e(l)))?void 0:s.classGroupId},tn=/^\[(.+)\]$/,sn=e=>{if(tn.test(e)){const t=tn.exec(e)[1],s=null==t?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},nn=e=>{const{theme:t,classGroups:s}=e,n={nextPart:new Map,validators:[]};for(const r in s)rn(s[r],n,r,t);return n},rn=(e,t,s,n)=>{e.forEach(e=>{if("string"!=typeof e)return"function"==typeof e?ln(e)?void rn(e(n),t,s,n):void t.validators.push({validator:e,classGroupId:s}):void Object.entries(e).forEach(([e,r])=>{rn(r,an(t,e),s,n)});(""===e?t:an(t,e)).classGroupId=s})},an=(e,t)=>{let s=e;return t.split("-").forEach(e=>{s.nextPart.has(e)||s.nextPart.set(e,{nextPart:new Map,validators:[]}),s=s.nextPart.get(e)}),s},ln=e=>e.isThemeGetter,on=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const r=(r,a)=>{s.set(r,a),t++,t>e&&(t=0,n=s,s=new Map)};return{get(e){let t=s.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(r(e,t),t):void 0},set(e,t){s.has(e)?s.set(e,t):r(e,t)}}},cn=e=>{const{prefix:t,experimentalParseClassName:s}=e;let n=e=>{const t=[];let s,n=0,r=0,a=0;for(let o=0;o<e.length;o++){let l=e[o];if(0===n&&0===r){if(":"===l){t.push(e.slice(a,o)),a=o+1;continue}if("/"===l){s=o;continue}}"["===l?n++:"]"===l?n--:"("===l?r++:")"===l&&r--}const l=0===t.length?e:e.substring(a),i=dn(l);return{modifiers:t,hasImportantModifier:i!==l,baseClassName:i,maybePostfixModifierPosition:s&&s>a?s-a:void 0}};if(t){const e=t+":",s=n;n=t=>t.startsWith(e)?s(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(s){const e=n;n=t=>s({className:t,parseClassName:e})}return n},dn=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,un=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const s=[];let n=[];return e.forEach(e=>{"["===e[0]||t[e]?(s.push(...n.sort(),e),n=[]):n.push(e)}),s.push(...n.sort()),s}},mn=e=>o({cache:on(e.cacheSize),parseClassName:cn(e),sortModifiers:un(e)},(e=>{const t=nn(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{const s=e.split("-");return""===s[0]&&1!==s.length&&s.shift(),en(s,t)||sn(e)},getConflictingClassGroupIds:(e,t)=>{const r=s[e]||[];return t&&n[e]?[...r,...n[e]]:r}}})(e)),hn=/\s+/;function xn(){let e,t,s=0,n="";for(;s<arguments.length;)(e=arguments[s++])&&(t=fn(e))&&(n&&(n+=" "),n+=t);return n}const fn=e=>{if("string"==typeof e)return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=fn(e[n]))&&(s&&(s+=" "),s+=t);return s};function pn(e,...t){let s,n,r,a=function(i){const o=t.reduce((e,t)=>t(e),e());return s=mn(o),n=s.cache.get,r=s.cache.set,a=l,l(i)};function l(e){const t=n(e);if(t)return t;const a=((e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:r,sortModifiers:a}=t,l=[],i=e.trim().split(hn);let o="";for(let c=i.length-1;c>=0;c-=1){const e=i[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:h}=s(e);if(t){o=e+(o.length>0?" "+o:o);continue}let x=!!h,f=n(x?m.substring(0,h):m);if(!f){if(!x){o=e+(o.length>0?" "+o:o);continue}if(f=n(m),!f){o=e+(o.length>0?" "+o:o);continue}x=!1}const p=a(d).join(":"),g=u?p+"!":p,v=g+f;if(l.includes(v))continue;l.push(v);const j=r(f,x);for(let s=0;s<j.length;++s){const e=j[s];l.push(g+e)}o=e+(o.length>0?" "+o:o)}return o})(e,s);return r(e,a),a}return function(){return a(xn.apply(null,arguments))}}const gn=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},vn=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,jn=/^\((?:(\w[\w-]*):)?(.+)\)$/i,yn=/^\d+\/\d+$/,bn=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Nn=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_n=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,wn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kn=e=>yn.test(e),Cn=e=>!!e&&!Number.isNaN(Number(e)),Mn=e=>!!e&&Number.isInteger(Number(e)),En=e=>e.endsWith("%")&&Cn(e.slice(0,-1)),Fn=e=>bn.test(e),Pn=()=>!0,Dn=e=>Nn.test(e)&&!_n.test(e),An=()=>!1,Rn=e=>wn.test(e),In=e=>Sn.test(e),Tn=e=>!zn(e)&&!Hn(e),Ln=e=>Xn(e,tr,An),zn=e=>vn.test(e),On=e=>Xn(e,sr,Dn),Vn=e=>Xn(e,nr,Cn),Un=e=>Xn(e,Zn,An),Bn=e=>Xn(e,er,In),$n=e=>Xn(e,ar,Rn),Hn=e=>jn.test(e),qn=e=>Jn(e,sr),Gn=e=>Jn(e,rr),Wn=e=>Jn(e,Zn),Kn=e=>Jn(e,tr),Qn=e=>Jn(e,er),Yn=e=>Jn(e,ar,!0),Xn=(e,t,s)=>{const n=vn.exec(e);return!!n&&(n[1]?t(n[1]):s(n[2]))},Jn=(e,t,s=!1)=>{const n=jn.exec(e);return!!n&&(n[1]?t(n[1]):s)},Zn=e=>"position"===e||"percentage"===e,er=e=>"image"===e||"url"===e,tr=e=>"length"===e||"size"===e||"bg-size"===e,sr=e=>"length"===e,nr=e=>"number"===e,rr=e=>"family-name"===e,ar=e=>"shadow"===e,lr=pn(()=>{const e=gn("color"),t=gn("font"),s=gn("text"),n=gn("font-weight"),r=gn("tracking"),a=gn("leading"),l=gn("breakpoint"),i=gn("container"),o=gn("spacing"),c=gn("radius"),d=gn("shadow"),u=gn("inset-shadow"),m=gn("text-shadow"),h=gn("drop-shadow"),x=gn("blur"),f=gn("perspective"),p=gn("aspect"),g=gn("ease"),v=gn("animate"),j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Hn,zn],y=()=>[Hn,zn,o],b=()=>[kn,"full","auto",...y()],N=()=>[Mn,"none","subgrid",Hn,zn],_=()=>["auto",{span:["full",Mn,Hn,zn]},Mn,Hn,zn],w=()=>[Mn,"auto",Hn,zn],S=()=>["auto","min","max","fr",Hn,zn],k=()=>["auto",...y()],C=()=>[kn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],M=()=>[e,Hn,zn],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Wn,Un,{position:[Hn,zn]}],F=()=>["auto","cover","contain",Kn,Ln,{size:[Hn,zn]}],P=()=>[En,qn,On],D=()=>["","none","full",c,Hn,zn],A=()=>["",Cn,qn,On],R=()=>[Cn,En,Wn,Un],I=()=>["","none",x,Hn,zn],T=()=>["none",Cn,Hn,zn],L=()=>["none",Cn,Hn,zn],z=()=>[Cn,Hn,zn],O=()=>[kn,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fn],breakpoint:[Fn],color:[Pn],container:[Fn],"drop-shadow":[Fn],ease:["in","out","in-out"],font:[Tn],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fn],shadow:[Fn],spacing:["px",Cn],text:[Fn],"text-shadow":[Fn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",kn,zn,Hn,p]}],container:["container"],columns:[{columns:[Cn,zn,Hn,i]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:b()}],"inset-x":[{"inset-x":b()}],"inset-y":[{"inset-y":b()}],start:[{start:b()}],end:[{end:b()}],top:[{top:b()}],right:[{right:b()}],bottom:[{bottom:b()}],left:[{left:b()}],visibility:["visible","invisible","collapse"],z:[{z:[Mn,"auto",Hn,zn]}],basis:[{basis:[kn,"full","auto",i,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Cn,kn,"auto","initial","none",zn]}],grow:[{grow:["",Cn,Hn,zn]}],shrink:[{shrink:["",Cn,Hn,zn]}],order:[{order:[Mn,"first","last","none",Hn,zn]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:_()}],"col-start":[{"col-start":w()}],"col-end":[{"col-end":w()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:_()}],"row-start":[{"row-start":w()}],"row-end":[{"row-end":w()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[i,"screen",...C()]}],"min-w":[{"min-w":[i,"screen","none",...C()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[l]},...C()]}],h:[{h:["screen","lh",...C()]}],"min-h":[{"min-h":["screen","lh","none",...C()]}],"max-h":[{"max-h":["screen","lh",...C()]}],"font-size":[{text:["base",s,qn,On]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Hn,Vn]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",En,zn]}],"font-family":[{font:[Gn,zn,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,Hn,zn]}],"line-clamp":[{"line-clamp":[Cn,"none",Hn,Vn]}],leading:[{leading:[a,...y()]}],"list-image":[{"list-image":["none",Hn,zn]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Hn,zn]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[Cn,"from-font","auto",Hn,On]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[Cn,"auto",Hn,zn]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Hn,zn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Hn,zn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:E()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Mn,Hn,zn],radial:["",Hn,zn],conic:[Mn,Hn,zn]},Qn,Bn]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:P()}],"gradient-via-pos":[{via:P()}],"gradient-to-pos":[{to:P()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:D()}],"rounded-s":[{"rounded-s":D()}],"rounded-e":[{"rounded-e":D()}],"rounded-t":[{"rounded-t":D()}],"rounded-r":[{"rounded-r":D()}],"rounded-b":[{"rounded-b":D()}],"rounded-l":[{"rounded-l":D()}],"rounded-ss":[{"rounded-ss":D()}],"rounded-se":[{"rounded-se":D()}],"rounded-ee":[{"rounded-ee":D()}],"rounded-es":[{"rounded-es":D()}],"rounded-tl":[{"rounded-tl":D()}],"rounded-tr":[{"rounded-tr":D()}],"rounded-br":[{"rounded-br":D()}],"rounded-bl":[{"rounded-bl":D()}],"border-w":[{border:A()}],"border-w-x":[{"border-x":A()}],"border-w-y":[{"border-y":A()}],"border-w-s":[{"border-s":A()}],"border-w-e":[{"border-e":A()}],"border-w-t":[{"border-t":A()}],"border-w-r":[{"border-r":A()}],"border-w-b":[{"border-b":A()}],"border-w-l":[{"border-l":A()}],"divide-x":[{"divide-x":A()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":A()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[Cn,Hn,zn]}],"outline-w":[{outline:["",Cn,qn,On]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",d,Yn,$n]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",u,Yn,$n]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[Cn,On]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":A()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",m,Yn,$n]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[Cn,Hn,zn]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Cn]}],"mask-image-linear-from-pos":[{"mask-linear-from":R()}],"mask-image-linear-to-pos":[{"mask-linear-to":R()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":R()}],"mask-image-t-to-pos":[{"mask-t-to":R()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":R()}],"mask-image-r-to-pos":[{"mask-r-to":R()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":R()}],"mask-image-b-to-pos":[{"mask-b-to":R()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":R()}],"mask-image-l-to-pos":[{"mask-l-to":R()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":R()}],"mask-image-x-to-pos":[{"mask-x-to":R()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":R()}],"mask-image-y-to-pos":[{"mask-y-to":R()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[Hn,zn]}],"mask-image-radial-from-pos":[{"mask-radial-from":R()}],"mask-image-radial-to-pos":[{"mask-radial-to":R()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[Cn]}],"mask-image-conic-from-pos":[{"mask-conic-from":R()}],"mask-image-conic-to-pos":[{"mask-conic-to":R()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:E()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Hn,zn]}],filter:[{filter:["","none",Hn,zn]}],blur:[{blur:I()}],brightness:[{brightness:[Cn,Hn,zn]}],contrast:[{contrast:[Cn,Hn,zn]}],"drop-shadow":[{"drop-shadow":["","none",h,Yn,$n]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",Cn,Hn,zn]}],"hue-rotate":[{"hue-rotate":[Cn,Hn,zn]}],invert:[{invert:["",Cn,Hn,zn]}],saturate:[{saturate:[Cn,Hn,zn]}],sepia:[{sepia:["",Cn,Hn,zn]}],"backdrop-filter":[{"backdrop-filter":["","none",Hn,zn]}],"backdrop-blur":[{"backdrop-blur":I()}],"backdrop-brightness":[{"backdrop-brightness":[Cn,Hn,zn]}],"backdrop-contrast":[{"backdrop-contrast":[Cn,Hn,zn]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Cn,Hn,zn]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Cn,Hn,zn]}],"backdrop-invert":[{"backdrop-invert":["",Cn,Hn,zn]}],"backdrop-opacity":[{"backdrop-opacity":[Cn,Hn,zn]}],"backdrop-saturate":[{"backdrop-saturate":[Cn,Hn,zn]}],"backdrop-sepia":[{"backdrop-sepia":["",Cn,Hn,zn]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Hn,zn]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Cn,"initial",Hn,zn]}],ease:[{ease:["linear","initial",g,Hn,zn]}],delay:[{delay:[Cn,Hn,zn]}],animate:[{animate:["none",v,Hn,zn]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[f,Hn,zn]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:T()}],"rotate-x":[{"rotate-x":T()}],"rotate-y":[{"rotate-y":T()}],"rotate-z":[{"rotate-z":T()}],scale:[{scale:L()}],"scale-x":[{"scale-x":L()}],"scale-y":[{"scale-y":L()}],"scale-z":[{"scale-z":L()}],"scale-3d":["scale-3d"],skew:[{skew:z()}],"skew-x":[{"skew-x":z()}],"skew-y":[{"skew-y":z()}],transform:[{transform:[Hn,zn,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:O()}],"translate-x":[{"translate-x":O()}],"translate-y":[{"translate-y":O()}],"translate-z":[{"translate-z":O()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Hn,zn]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Hn,zn]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[Cn,qn,On,Vn]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function ir(...e){return lr(gt(e))}const or=yt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function cr(e){var t=e,{className:s,variant:n,size:r,asChild:a=!1}=t,l=u(t,["className","variant","size","asChild"]);const i=a?f:"button";return x.jsx(i,o({"data-slot":"button",className:ir(or({variant:n,size:r,className:s}))},l))}function dr(e){var t=e,{className:s,type:n}=t,r=u(t,["className","type"]);return x.jsx("input",o({type:n,"data-slot":"input",className:ir("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s)},r))}var ur="horizontal",mr=["horizontal","vertical"],hr=me.forwardRef((e,t)=>{const s=e,{decorative:n,orientation:r=ur}=s,a=u(s,["decorative","orientation"]),l=function(e){return mr.includes(e)}(r)?r:ur,i=n?{role:"none"}:{"aria-orientation":"vertical"===l?l:void 0,role:"separator"};return x.jsx(p.div,c(o(o({"data-orientation":l},i),a),{ref:t}))});hr.displayName="Separator";var xr=hr;function fr(e){var t=e,{className:s,orientation:n="horizontal",decorative:r=!0}=t,a=u(t,["className","orientation","decorative"]);return x.jsx(xr,o({"data-slot":"separator",decorative:r,orientation:n,className:ir("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s)},a))}function pr(e){var t=u(e,[]);return x.jsx(g,o({"data-slot":"sheet"},t))}function gr(e){var t=u(e,[]);return x.jsx(N,o({"data-slot":"sheet-portal"},t))}function vr(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(_,o({"data-slot":"sheet-overlay",className:ir("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s)},n))}function jr(e){var t=e,{className:s,children:n,side:r="right"}=t,a=u(t,["className","children","side"]);return x.jsxs(gr,{children:[x.jsx(vr,{}),x.jsxs(v,c(o({"data-slot":"sheet-content",className:ir("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===r&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===r&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===r&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===r&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",s)},a),{children:[n,x.jsxs(j,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[x.jsx(Xs,{className:"size-4"}),x.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function yr(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("div",o({"data-slot":"sheet-header",className:ir("flex flex-col gap-1.5 p-4",s)},n))}function br(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(y,o({"data-slot":"sheet-title",className:ir("text-foreground font-semibold",s)},n))}function Nr(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(b,o({"data-slot":"sheet-description",className:ir("text-muted-foreground text-sm",s)},n))}var _r=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wr=me.forwardRef((e,t)=>x.jsx(p.span,c(o({},e),{ref:t,style:o(o({},_r),e.style)})));wr.displayName="VisuallyHidden";var Sr=wr,[kr,Cr]=w("Tooltip",[S]),Mr=S(),Er="TooltipProvider",Fr=700,Pr="tooltip.open",[Dr,Ar]=kr(Er),Rr=e=>{const{__scopeTooltip:t,delayDuration:s=Fr,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:a}=e,l=me.useRef(!0),i=me.useRef(!1),o=me.useRef(0);return me.useEffect(()=>{const e=o.current;return()=>window.clearTimeout(e)},[]),x.jsx(Dr,{scope:t,isOpenDelayedRef:l,delayDuration:s,onOpen:me.useCallback(()=>{window.clearTimeout(o.current),l.current=!1},[]),onClose:me.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:i,onPointerInTransitChange:me.useCallback(e=>{i.current=e},[]),disableHoverableContent:r,children:a})};Rr.displayName=Er;var Ir="Tooltip",[Tr,Lr]=kr(Ir),zr=e=>{const{__scopeTooltip:t,children:s,open:n,defaultOpen:r,onOpenChange:a,disableHoverableContent:l,delayDuration:i}=e,d=Ar(Ir,e.__scopeTooltip),u=Mr(t),[m,h]=me.useState(null),f=k(),p=me.useRef(0),g=null!=l?l:d.disableHoverableContent,v=null!=i?i:d.delayDuration,j=me.useRef(!1),[y,b]=C({prop:n,defaultProp:null!=r&&r,onChange:e=>{e?(d.onOpen(),document.dispatchEvent(new CustomEvent(Pr))):d.onClose(),null==a||a(e)},caller:Ir}),N=me.useMemo(()=>y?j.current?"delayed-open":"instant-open":"closed",[y]),_=me.useCallback(()=>{window.clearTimeout(p.current),p.current=0,j.current=!1,b(!0)},[b]),w=me.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),S=me.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{j.current=!0,b(!0),p.current=0},v)},[v,b]);return me.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),x.jsx(M,c(o({},u),{children:x.jsx(Tr,{scope:t,contentId:f,open:y,stateAttribute:N,trigger:m,onTriggerChange:h,onTriggerEnter:me.useCallback(()=>{d.isOpenDelayedRef.current?S():_()},[d.isOpenDelayedRef,S,_]),onTriggerLeave:me.useCallback(()=>{g?w():(window.clearTimeout(p.current),p.current=0)},[w,g]),onOpen:_,onClose:w,disableHoverableContent:g,children:s})}))};zr.displayName=Ir;var Or="TooltipTrigger",Vr=me.forwardRef((e,t)=>{const s=e,{__scopeTooltip:n}=s,r=u(s,["__scopeTooltip"]),a=Lr(Or,n),l=Ar(Or,n),i=Mr(n),d=me.useRef(null),m=E(t,d,a.onTriggerChange),h=me.useRef(!1),f=me.useRef(!1),g=me.useCallback(()=>h.current=!1,[]);return me.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),x.jsx(F,c(o({asChild:!0},i),{children:x.jsx(p.button,c(o({"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute},r),{ref:m,onPointerMove:P(e.onPointerMove,e=>{"touch"!==e.pointerType&&(f.current||l.isPointerInTransitRef.current||(a.onTriggerEnter(),f.current=!0))}),onPointerLeave:P(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:P(e.onPointerDown,()=>{a.open&&a.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:P(e.onFocus,()=>{h.current||a.onOpen()}),onBlur:P(e.onBlur,a.onClose),onClick:P(e.onClick,a.onClose)}))}))});Vr.displayName=Or;var Ur="TooltipPortal",[Br,$r]=kr(Ur,{forceMount:void 0}),Hr=e=>{const{__scopeTooltip:t,forceMount:s,children:n,container:r}=e,a=Lr(Ur,t);return x.jsx(Br,{scope:t,forceMount:s,children:x.jsx(D,{present:s||a.open,children:x.jsx(A,{asChild:!0,container:r,children:n})})})};Hr.displayName=Ur;var qr="TooltipContent",Gr=me.forwardRef((e,t)=>{const s=$r(qr,e.__scopeTooltip),n=e,{forceMount:r=s.forceMount,side:a="top"}=n,l=u(n,["forceMount","side"]),i=Lr(qr,e.__scopeTooltip);return x.jsx(D,{present:r||i.open,children:i.disableHoverableContent?x.jsx(Xr,c(o({side:a},l),{ref:t})):x.jsx(Wr,c(o({side:a},l),{ref:t}))})}),Wr=me.forwardRef((e,t)=>{const s=Lr(qr,e.__scopeTooltip),n=Ar(qr,e.__scopeTooltip),r=me.useRef(null),a=E(t,r),[l,i]=me.useState(null),{trigger:d,onClose:u}=s,m=r.current,{onPointerInTransitChange:h}=n,f=me.useCallback(()=>{i(null),h(!1)},[h]),p=me.useCallback((e,t)=>{const s=e.currentTarget,n={x:e.clientX,y:e.clientY},r=function(e,t,s=5){const n=[];switch(t){case"top":n.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":n.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":n.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":n.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s})}return n}(n,function(e,t){const s=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(s,n,r,a)){case a:return"left";case r:return"right";case s:return"top";case n:return"bottom";default:throw new Error("unreachable")}}(n,s.getBoundingClientRect())),a=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const e=t[t.length-1],n=t[t.length-2];if(!((e.x-n.x)*(s.y-n.y)>=(e.y-n.y)*(s.x-n.x)))break;t.pop()}t.push(s)}t.pop();const s=[];for(let n=e.length-1;n>=0;n--){const t=e[n];for(;s.length>=2;){const e=s[s.length-1],n=s[s.length-2];if(!((e.x-n.x)*(t.y-n.y)>=(e.y-n.y)*(t.x-n.x)))break;s.pop()}s.push(t)}return s.pop(),1===t.length&&1===s.length&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}(t)}([...r,...function(e){const{top:t,right:s,bottom:n,left:r}=e;return[{x:r,y:t},{x:s,y:t},{x:s,y:n},{x:r,y:n}]}(t.getBoundingClientRect())]);i(a),h(!0)},[h]);return me.useEffect(()=>()=>f(),[f]),me.useEffect(()=>{if(d&&m){const e=e=>p(e,m),t=e=>p(e,d);return d.addEventListener("pointerleave",e),m.addEventListener("pointerleave",t),()=>{d.removeEventListener("pointerleave",e),m.removeEventListener("pointerleave",t)}}},[d,m,p,f]),me.useEffect(()=>{if(l){const e=e=>{const t=e.target,s={x:e.clientX,y:e.clientY},n=(null==d?void 0:d.contains(t))||(null==m?void 0:m.contains(t)),r=!function(e,t){const{x:s,y:n}=e;let r=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const e=t[a],i=t[l],o=e.x,c=e.y,d=i.x,u=i.y;c>n!=u>n&&s<(d-o)*(n-c)/(u-c)+o&&(r=!r)}return r}(s,l);n?f():r&&(f(),u())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[d,m,l,u,f]),x.jsx(Xr,c(o({},e),{ref:a}))}),[Kr,Qr]=kr(Ir,{isInside:!1}),Yr=L("TooltipContent"),Xr=me.forwardRef((e,t)=>{const s=e,{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:l,onPointerDownOutside:i}=s,d=u(s,["__scopeTooltip","children","aria-label","onEscapeKeyDown","onPointerDownOutside"]),m=Lr(qr,n),h=Mr(n),{onClose:f}=m;return me.useEffect(()=>(document.addEventListener(Pr,f),()=>document.removeEventListener(Pr,f)),[f]),me.useEffect(()=>{if(m.trigger){const e=e=>{const t=e.target;(null==t?void 0:t.contains(m.trigger))&&f()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[m.trigger,f]),x.jsx(I,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:f,children:x.jsxs(T,c(o(o({"data-state":m.stateAttribute},h),d),{ref:t,style:o(o({},d.style),{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}),children:[x.jsx(Yr,{children:r}),x.jsx(Kr,{scope:n,isInside:!0,children:x.jsx(Sr,{id:m.contentId,role:"tooltip",children:a||r})})]}))})});Gr.displayName=qr;var Jr="TooltipArrow",Zr=me.forwardRef((e,t)=>{const s=e,{__scopeTooltip:n}=s,r=u(s,["__scopeTooltip"]),a=Mr(n);return Qr(Jr,n).isInside?null:x.jsx(R,c(o(o({},a),r),{ref:t}))});Zr.displayName=Jr;var ea=Rr,ta=zr,sa=Vr,na=Hr,ra=Gr,aa=Zr;function la(e){var t=e,{delayDuration:s=0}=t,n=u(t,["delayDuration"]);return x.jsx(ea,o({"data-slot":"tooltip-provider",delayDuration:s},n))}function ia(e){var t=u(e,[]);return x.jsx(la,{children:x.jsx(ta,o({"data-slot":"tooltip"},t))})}function oa(e){var t=u(e,[]);return x.jsx(sa,o({"data-slot":"tooltip-trigger"},t))}function ca(e){var t=e,{className:s,sideOffset:n=0,children:r}=t,a=u(t,["className","sideOffset","children"]);return x.jsx(na,{children:x.jsxs(ra,c(o({"data-slot":"tooltip-content",sideOffset:n,className:ir("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",s)},a),{children:[r,x.jsx(aa,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]}))})}const da=me.createContext(null);function ua(){const e=me.useContext(da);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function ma(e){var t=e,{defaultOpen:s=!0,open:n,onOpenChange:r,className:a,style:l,children:i}=t,d=u(t,["defaultOpen","open","onOpenChange","className","style","children"]);const m=Zs(),[h,f]=me.useState(!1),[p,g]=me.useState(s),v=null!=n?n:p,j=me.useCallback(e=>{const t="function"==typeof e?e(v):e;r?r(t):g(t),document.cookie=`sidebar_state=${t}; path=/; max-age=604800`},[r,v]),y=me.useCallback(()=>m?f(e=>!e):j(e=>!e),[m,j,f]);me.useEffect(()=>{const e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),y())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[y]);const b=v?"expanded":"collapsed",N=me.useMemo(()=>({state:b,open:v,setOpen:j,isMobile:m,openMobile:h,setOpenMobile:f,toggleSidebar:y}),[b,v,j,m,h,f,y]);return x.jsx(da.Provider,{value:N,children:x.jsx(la,{delayDuration:0,children:x.jsx("div",c(o({"data-slot":"sidebar-wrapper",style:o({"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"},l),className:ir("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",a)},d),{children:i}))})})}function ha(e){var t=e,{side:s="left",variant:n="sidebar",collapsible:r="offcanvas",className:a,children:l}=t,i=u(t,["side","variant","collapsible","className","children"]);const{isMobile:d,state:m,openMobile:h,setOpenMobile:f}=ua();return"none"===r?x.jsx("div",c(o({"data-slot":"sidebar",className:ir("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",a)},i),{children:l})):d?x.jsx(pr,c(o({open:h,onOpenChange:f},i),{children:x.jsxs(jr,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:s,children:[x.jsxs(yr,{className:"sr-only",children:[x.jsx(br,{children:"Sidebar"}),x.jsx(Nr,{children:"Displays the mobile sidebar."})]}),x.jsx("div",{className:"flex h-full w-full flex-col",children:l})]})})):x.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":m,"data-collapsible":"collapsed"===m?r:"","data-variant":n,"data-side":s,"data-slot":"sidebar",children:[x.jsx("div",{"data-slot":"sidebar-gap",className:ir("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===n||"inset"===n?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),x.jsx("div",c(o({"data-slot":"sidebar-container",className:ir("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex","left"===s?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===n||"inset"===n?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",a)},i),{children:x.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:l})}))]})}function xa(e){var t=e,{className:s,onClick:n}=t,r=u(t,["className","onClick"]);const{toggleSidebar:a}=ua();return x.jsxs(cr,c(o({"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:ir("size-7",s),onClick:e=>{null==n||n(e),a()}},r),{children:[x.jsx(gs,{}),x.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]}))}function fa(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("main",o({"data-slot":"sidebar-inset",className:ir("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",s)},n))}function pa(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("div",o({"data-slot":"sidebar-header","data-sidebar":"header",className:ir("flex flex-col gap-2 p-2",s)},n))}function ga(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("div",o({"data-slot":"sidebar-footer","data-sidebar":"footer",className:ir("flex flex-col gap-2 p-2",s)},n))}function va(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("div",o({"data-slot":"sidebar-content","data-sidebar":"content",className:ir("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",s)},n))}function ja(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("div",o({"data-slot":"sidebar-group","data-sidebar":"group",className:ir("relative flex w-full min-w-0 flex-col p-2",s)},n))}function ya(e){var t=e,{className:s,asChild:n=!1}=t,r=u(t,["className","asChild"]);const a=n?f:"div";return x.jsx(a,o({"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:ir("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",s)},r))}function ba(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("div",o({"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:ir("w-full text-sm",s)},n))}function Na(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("ul",o({"data-slot":"sidebar-menu","data-sidebar":"menu",className:ir("flex w-full min-w-0 flex-col gap-1",s)},n))}function _a(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("li",o({"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:ir("group/menu-item relative",s)},n))}const wa=yt("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function Sa(e){var t=e,{asChild:s=!1,isActive:n=!1,variant:r="default",size:a="default",tooltip:l,className:i}=t,c=u(t,["asChild","isActive","variant","size","tooltip","className"]);const d=s?f:"button",{isMobile:m,state:h}=ua(),p=x.jsx(d,o({"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":a,"data-active":n,className:ir(wa({variant:r,size:a}),i)},c));return l?("string"==typeof l&&(l={children:l}),x.jsxs(ia,{children:[x.jsx(oa,{asChild:!0,children:p}),x.jsx(ca,o({side:"right",align:"center",hidden:"collapsed"!==h||m},l))]})):p}function ka(e){var t=e,{className:s,asChild:n=!1,showOnHover:r=!1}=t,a=u(t,["className","asChild","showOnHover"]);const l=n?f:"button";return x.jsx(l,o({"data-slot":"sidebar-menu-action","data-sidebar":"menu-action",className:ir("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 md:after:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0",s)},a))}function Ca(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("ul",o({"data-slot":"sidebar-menu-sub","data-sidebar":"menu-sub",className:ir("border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",s)},n))}function Ma(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("li",o({"data-slot":"sidebar-menu-sub-item","data-sidebar":"menu-sub-item",className:ir("group/menu-sub-item relative",s)},n))}function Ea(e){var t=e,{asChild:s=!1,size:n="md",isActive:r=!1,className:a}=t,l=u(t,["asChild","size","isActive","className"]);const i=s?f:"a";return x.jsx(i,o({"data-slot":"sidebar-menu-sub-button","data-sidebar":"menu-sub-button","data-size":n,"data-active":r,className:ir("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===n&&"text-xs","md"===n&&"text-sm","group-data-[collapsible=icon]:hidden",a)},l))}function Fa(e){var t=e,{variant:s="header",children:n}=t,r=u(t,["variant","children"]);return"sidebar"===s?x.jsx(fa,c(o({},r),{children:n})):x.jsx("main",c(o({className:"mx-auto flex h-full w-full max-w-7xl flex-1 flex-col gap-4 rounded-xl"},r),{children:n}))}function Pa({children:e,variant:t="header",sidebarOpen:s=!0}){return"header"===t?x.jsx("div",{className:"flex min-h-screen w-full flex-col",children:e}):x.jsx(ma,{defaultOpen:s,children:e})}function Da(e){var t=e,{iconNode:s,className:n}=t,r=u(t,["iconNode","className"]);return x.jsx(s,o({className:ir("h-4 w-4",n)},r))}function Aa(e){var t=e,{items:s,className:n}=t,r=u(t,["items","className"]);return x.jsx(ja,c(o({},r),{className:`group-data-[collapsible=icon]:p-0 ${n||""}`,children:x.jsx(ba,{children:x.jsx(Na,{children:(null==s?void 0:s.map(e=>x.jsx(_a,{children:x.jsx(Sa,{asChild:!0,className:"text-neutral-600 hover:text-neutral-800 dark:text-neutral-300 dark:hover:text-neutral-100",children:x.jsxs("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",children:[e.icon&&x.jsx(Da,{iconNode:e.icon,className:"h-5 w-5"}),x.jsx("span",{children:e.title})]})})},e.title)))||null})})}))}var Ra="Collapsible",[Ia,Ta]=w(Ra),[La,za]=Ia(Ra),Oa=me.forwardRef((e,t)=>{const s=e,{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:l,onOpenChange:i}=s,d=u(s,["__scopeCollapsible","open","defaultOpen","disabled","onOpenChange"]),[m,h]=C({prop:r,defaultProp:null!=a&&a,onChange:i,caller:Ra});return x.jsx(La,{scope:n,disabled:l,contentId:k(),open:m,onOpenToggle:me.useCallback(()=>h(e=>!e),[h]),children:x.jsx(p.div,c(o({"data-state":qa(m),"data-disabled":l?"":void 0},d),{ref:t}))})});Oa.displayName=Ra;var Va="CollapsibleTrigger",Ua=me.forwardRef((e,t)=>{const s=e,{__scopeCollapsible:n}=s,r=u(s,["__scopeCollapsible"]),a=za(Va,n);return x.jsx(p.button,c(o({type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":qa(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled},r),{ref:t,onClick:P(e.onClick,a.onOpenToggle)}))});Ua.displayName=Va;var Ba="CollapsibleContent",$a=me.forwardRef((e,t)=>{const s=e,{forceMount:n}=s,r=u(s,["forceMount"]),a=za(Ba,e.__scopeCollapsible);return x.jsx(D,{present:n||a.open,children:({present:e})=>x.jsx(Ha,c(o({},r),{ref:t,present:e}))})});$a.displayName=Ba;var Ha=me.forwardRef((e,t)=>{const s=e,{__scopeCollapsible:n,present:r,children:a}=s,l=u(s,["__scopeCollapsible","present","children"]),i=za(Ba,n),[d,m]=me.useState(r),h=me.useRef(null),f=E(t,h),g=me.useRef(0),v=g.current,j=me.useRef(0),y=j.current,b=i.open||d,N=me.useRef(b),_=me.useRef(void 0);return me.useEffect(()=>{const e=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(e)},[]),z(()=>{const e=h.current;if(e){_.current=_.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const t=e.getBoundingClientRect();g.current=t.height,j.current=t.width,N.current||(e.style.transitionDuration=_.current.transitionDuration,e.style.animationName=_.current.animationName),m(r)}},[i.open,r]),x.jsx(p.div,c(o({"data-state":qa(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!b},l),{ref:f,style:o({"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0},e.style),children:b&&a}))});function qa(e){return e?"open":"closed"}var Ga=Oa;function Wa(e){var t=u(e,[]);return x.jsx(Ga,o({"data-slot":"collapsible"},t))}function Ka(e){var t=u(e,[]);return x.jsx(Ua,o({"data-slot":"collapsible-trigger"},t))}function Qa(e){var t=u(e,[]);return x.jsx($a,o({"data-slot":"collapsible-content"},t))}function Ya({items:e}){return x.jsxs(ja,{children:[x.jsx(ya,{children:"Platform"}),x.jsx(Na,{children:e.map(e=>{var t,s,n;return x.jsx(Wa,{asChild:!0,defaultOpen:e.isActive,children:x.jsxs(_a,{children:[(null==(t=e.items)?void 0:t.length)&&"#"===e.url?x.jsx(Ka,{asChild:!0,children:x.jsxs("div",{className:"flex items-center w-full cursor-pointer group",children:[x.jsx(Sa,{asChild:!0,tooltip:e.title,className:"flex-1 justify-start",children:x.jsxs("div",{className:"flex items-center gap-2 w-full",children:[x.jsx(e.icon,{}),x.jsx("span",{children:e.title})]})}),x.jsxs(ka,{className:"data-[state=open]:rotate-90",children:[x.jsx(Vt,{}),x.jsx("span",{className:"sr-only",children:"Toggle"})]})]})}):x.jsx(Sa,{asChild:!0,tooltip:e.title,children:x.jsxs(fe,{to:e.url,className:"flex items-center gap-2",children:[x.jsx(e.icon,{}),x.jsx("span",{children:e.title})]})}),(null==(s=e.items)?void 0:s.length)?x.jsx(Qa,{children:x.jsx(Ca,{children:null==(n=e.items)?void 0:n.map(e=>x.jsx(Ma,{children:x.jsx(Ea,{asChild:!0,children:x.jsx(fe,{to:e.url,className:"flex items-center gap-2 pl-6",children:x.jsx("span",{children:e.title})})})},e.title))})}):null]})},e.title)})})]})}function Xa(e){var t=u(e,[]);return x.jsx(O,o({"data-slot":"dropdown-menu"},t))}function Ja(e){var t=u(e,[]);return x.jsx(G,o({"data-slot":"dropdown-menu-trigger"},t))}function Za(e){var t=e,{className:s,sideOffset:n=4}=t,r=u(t,["className","sideOffset"]);return x.jsx(V,{children:x.jsx(U,o({"data-slot":"dropdown-menu-content",sideOffset:n,className:ir("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",s)},r))})}function el(e){var t=u(e,[]);return x.jsx(K,o({"data-slot":"dropdown-menu-group"},t))}function tl(e){var t=e,{className:s,inset:n,variant:r="default"}=t,a=u(t,["className","inset","variant"]);return x.jsx(W,o({"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":r,className:ir("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s)},a))}function sl(e){var t=e,{className:s,children:n,checked:r}=t,a=u(t,["className","children","checked"]);return x.jsxs(H,c(o({"data-slot":"dropdown-menu-checkbox-item",className:ir("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),checked:r},a),{children:[x.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:x.jsx(q,{children:x.jsx(Lt,{className:"size-4"})})}),n]}))}function nl(e){var t=e,{className:s,inset:n}=t,r=u(t,["className","inset"]);return x.jsx(B,o({"data-slot":"dropdown-menu-label","data-inset":n,className:ir("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",s)},r))}function rl(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx($,o({"data-slot":"dropdown-menu-separator",className:ir("bg-border -mx-1 my-1 h-px",s)},n))}var al,ll,il={exports:{}},ol={},cl=(ll||(ll=1,il.exports=function(){if(al)return ol;al=1;var e=_e(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=e.useState,n=e.useEffect,r=e.useLayoutEffect,a=e.useDebugValue;function l(e){var s=e.getSnapshot;e=e.value;try{var n=s();return!t(e,n)}catch(r){return!0}}var i="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var i=t(),o=s({inst:{value:i,getSnapshot:t}}),c=o[0].inst,d=o[1];return r(function(){c.value=i,c.getSnapshot=t,l(c)&&d({inst:c})},[e,i,t]),n(function(){return l(c)&&d({inst:c}),e(function(){l(c)&&d({inst:c})})},[e]),a(i),i};return ol.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:i,ol}()),il.exports);function dl(){return()=>{}}var ul="Avatar",[ml,hl]=w(ul),[xl,fl]=ml(ul),pl=me.forwardRef((e,t)=>{const s=e,{__scopeAvatar:n}=s,r=u(s,["__scopeAvatar"]),[a,l]=me.useState("idle");return x.jsx(xl,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:l,children:x.jsx(p.span,c(o({},r),{ref:t}))})});pl.displayName=ul;var gl="AvatarImage",vl=me.forwardRef((e,t)=>{const s=e,{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{}}=s,l=u(s,["__scopeAvatar","src","onLoadingStatusChange"]),i=fl(gl,n),d=function(e,{referrerPolicy:t,crossOrigin:s}){const n=cl.useSyncExternalStore(dl,()=>!0,()=>!1),r=me.useRef(null),a=n?(r.current||(r.current=new window.Image),r.current):null,[l,i]=me.useState(()=>bl(a,e));return z(()=>{i(bl(a,e))},[a,e]),z(()=>{const e=e=>()=>{i(e)};if(!a)return;const n=e("loaded"),r=e("error");return a.addEventListener("load",n),a.addEventListener("error",r),t&&(a.referrerPolicy=t),"string"==typeof s&&(a.crossOrigin=s),()=>{a.removeEventListener("load",n),a.removeEventListener("error",r)}},[a,s,t]),l}(r,l),m=Q(e=>{a(e),i.onImageLoadingStatusChange(e)});return z(()=>{"idle"!==d&&m(d)},[d,m]),"loaded"===d?x.jsx(p.img,c(o({},l),{ref:t,src:r})):null});vl.displayName=gl;var jl="AvatarFallback",yl=me.forwardRef((e,t)=>{const s=e,{__scopeAvatar:n,delayMs:r}=s,a=u(s,["__scopeAvatar","delayMs"]),l=fl(jl,n),[i,d]=me.useState(void 0===r);return me.useEffect(()=>{if(void 0!==r){const e=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(e)}},[r]),i&&"loaded"!==l.imageLoadingStatus?x.jsx(p.span,c(o({},a),{ref:t})):null});function bl(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}yl.displayName=jl;var Nl=pl,_l=vl,wl=yl;function Sl(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(Nl,o({"data-slot":"avatar",className:ir("relative flex size-8 shrink-0 overflow-hidden rounded-full",s)},n))}function kl(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(_l,o({"data-slot":"avatar-image",className:ir("aspect-square size-full",s)},n))}function Cl(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(wl,o({"data-slot":"avatar-fallback",className:ir("bg-muted flex size-full items-center justify-center rounded-full",s)},n))}function Ml({user:e,showEmail:t=!1}){const s=me.useCallback(e=>{const t=e.trim().split(" ");return 0===t.length?"":1===t.length?t[0].charAt(0).toUpperCase():`${t[0].charAt(0)}${t[t.length-1].charAt(0)}`.toUpperCase()},[]);return x.jsxs(x.Fragment,{children:[x.jsxs(Sl,{className:"h-8 w-8 overflow-hidden rounded-full",children:[x.jsx(kl,{src:e.avatar,alt:e.name}),x.jsx(Cl,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:s(e.name)})]}),x.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[x.jsx("span",{className:"truncate font-medium",children:e.name}),t&&x.jsx("span",{className:"truncate text-xs text-muted-foreground",children:e.email})]})]})}function El({user:e}){const t=me.useCallback(()=>{document.body.style.removeProperty("pointer-events")},[]),{logout:s}=dt(),n=pe();return x.jsxs(x.Fragment,{children:[x.jsx(nl,{className:"p-0 font-normal",children:x.jsx("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:x.jsx(Ml,{user:e,showEmail:!0})})}),x.jsx(rl,{}),x.jsx(el,{children:x.jsx(tl,{asChild:!0,children:x.jsxs(fe,{className:"block w-full",to:"/settings",onClick:t,children:[x.jsx(As,{className:"mr-2 h-4 w-4"}),"Settings"]})})}),x.jsx(rl,{}),x.jsxs(tl,{onClick:()=>{t(),s(),n("/login")},children:[x.jsx(ms,{className:"mr-2 h-4 w-4"}),"Log out"]})]})}function Fl(){const{state:e}=ua(),t=Zs(),{user:s}=dt();if(!s)return null;const n={name:s.username,email:s.email,avatar:void 0};return x.jsx(Na,{children:x.jsx(_a,{children:x.jsxs(Xa,{children:[x.jsx(Ja,{asChild:!0,children:x.jsxs(Sa,{size:"lg",className:"group text-sidebar-accent-foreground data-[state=open]:bg-sidebar-accent",children:[x.jsx(Ml,{user:n}),x.jsx(Ht,{className:"ml-auto size-4"})]})}),x.jsx(Za,{className:"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg",align:"end",side:t?"bottom":"collapsed"===e?"left":"bottom",children:x.jsx(El,{user:n})})]})})})}function Pl(){return x.jsx(x.Fragment,{children:x.jsx("div",{className:"ml-1 grid flex-1 text-left text-sm",children:x.jsx("span",{className:"mb-0.5 truncate leading-tight font-semibold",children:"TSIM CLOUD"})})})}const Dl=[{title:"Dashboard",url:"/dashboard",icon:cs},{title:"Country Management",url:"#",icon:Rt,items:[{title:"Country Management",url:"/country-sites"},{title:"Site Device Groups",url:"/device-groups"},{title:"Android or Modem",url:"/devices"},{title:"Sim Card Management",url:"/sim-cards",icon:Zt}]},{title:"Reports",url:"#",icon:Tt,items:[{title:"SMS Logs",url:"/sms-logs"},{title:"USSD Logs",url:"/ussd-logs"},{title:"Alarm Logs",url:"/alarm-logs"}]},{title:"SMPP Management",url:"#",icon:Ps,items:[{title:"SMPP Users",url:"/smpp-users"},{title:"SMPP Routings",url:"/smpp-routings",icon:Cs}]},{title:"User Management",url:"#",icon:qs,items:[{title:"Users",url:"/users",icon:Ws},{title:"Roles",url:"/roles",icon:Rs},{title:"Permissions",url:"/permissions",icon:os}]},{title:"System Settings",url:"#",icon:As,items:[{title:"Schedule Tasks",url:"/schedule-tasks",icon:Xt},{title:"Blacklist Numbers",url:"/blacklist-numbers",icon:js},{title:"Filters",url:"/filters",icon:rs},{title:"MCC-MNC",url:"/mcc-mnc",icon:es},{title:"Operator Commands",url:"/operator-commands",icon:Fs}]}];function Al(){return x.jsxs(ha,{children:[x.jsx(pa,{children:x.jsx(Pl,{})}),x.jsx(va,{children:x.jsx(Ya,{items:Dl})}),x.jsxs(ga,{children:[x.jsx(Fl,{}),x.jsx(Aa,{items:[]})]})]})}function Rl(e){var t=u(e,[]);return x.jsx("nav",o({"aria-label":"breadcrumb","data-slot":"breadcrumb"},t))}function Il(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("ol",o({"data-slot":"breadcrumb-list",className:ir("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",s)},n))}function Tl(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("li",o({"data-slot":"breadcrumb-item",className:ir("inline-flex items-center gap-1.5",s)},n))}function Ll(e){var t=e,{asChild:s,className:n}=t,r=u(t,["asChild","className"]);const a=s?f:"a";return x.jsx(a,o({"data-slot":"breadcrumb-link",className:ir("hover:text-foreground transition-colors",n)},r))}function zl(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("span",o({"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:ir("text-foreground font-normal",s)},n))}function Ol(e){var t=e,{children:s,className:n}=t,r=u(t,["children","className"]);return x.jsx("li",c(o({"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:ir("[&>svg]:size-3.5",n)},r),{children:null!=s?s:x.jsx(Vt,{})}))}function Vl({items:e}){return x.jsx(x.Fragment,{children:e&&e.length>0&&x.jsx(Rl,{children:x.jsx(Il,{children:null==e?void 0:e.map((t,s)=>{const n=s===((null==e?void 0:e.length)||0)-1;return x.jsxs(me.Fragment,{children:[x.jsx(Tl,{children:n?x.jsx(zl,{children:t.title}):x.jsx(Ll,{asChild:!0,children:x.jsx(fe,{to:t.href,children:t.title})})}),!n&&x.jsx(Ol,{})]},s)})})})})}function Ul(){const{setTheme:e}=(()=>{const e=me.useContext(Ve);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e})();return x.jsxs(Xa,{children:[x.jsx(Ja,{asChild:!0,children:x.jsxs(cr,{variant:"outline",size:"icon",children:[x.jsx(Os,{className:"h-[1.2rem] w-[1.2rem] scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90"}),x.jsx(ps,{className:"absolute h-[1.2rem] w-[1.2rem] scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0"}),x.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),x.jsxs(Za,{align:"end",children:[x.jsx(tl,{onClick:()=>e("light"),children:"Light"}),x.jsx(tl,{onClick:()=>e("dark"),children:"Dark"}),x.jsx(tl,{onClick:()=>e("system"),children:"System"})]})]})}const Bl=yt("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function $l(e){var t=e,{className:s,variant:n,asChild:r=!1}=t,a=u(t,["className","variant","asChild"]);const l=r?f:"span";return x.jsx(l,o({"data-slot":"badge",className:ir(Bl({variant:n}),s)},a))}function Hl(e,[t,s]){return Math.min(s,Math.max(t,e))}var ql="ScrollArea",[Gl,Wl]=w(ql),[Kl,Ql]=Gl(ql),Yl=me.forwardRef((e,t)=>{const s=e,{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:l=600}=s,i=u(s,["__scopeScrollArea","type","dir","scrollHideDelay"]),[d,m]=me.useState(null),[h,f]=me.useState(null),[g,v]=me.useState(null),[j,y]=me.useState(null),[b,N]=me.useState(null),[_,w]=me.useState(0),[S,k]=me.useState(0),[C,M]=me.useState(!1),[F,P]=me.useState(!1),D=E(t,e=>m(e)),A=Y(a);return x.jsx(Kl,{scope:n,type:r,dir:A,scrollHideDelay:l,scrollArea:d,viewport:h,onViewportChange:f,content:g,onContentChange:v,scrollbarX:j,onScrollbarXChange:y,scrollbarXEnabled:C,onScrollbarXEnabledChange:M,scrollbarY:b,onScrollbarYChange:N,scrollbarYEnabled:F,onScrollbarYEnabledChange:P,onCornerWidthChange:w,onCornerHeightChange:k,children:x.jsx(p.div,c(o({dir:A},i),{ref:D,style:o({position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":S+"px"},e.style)}))})});Yl.displayName=ql;var Xl="ScrollAreaViewport",Jl=me.forwardRef((e,t)=>{const s=e,{__scopeScrollArea:n,children:r,nonce:a}=s,l=u(s,["__scopeScrollArea","children","nonce"]),i=Ql(Xl,n),d=me.useRef(null),m=E(t,d,i.onViewportChange);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),x.jsx(p.div,c(o({"data-radix-scroll-area-viewport":""},l),{ref:m,style:o({overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden"},e.style),children:x.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})}))]})});Jl.displayName=Xl;var Zl="ScrollAreaScrollbar",ei=me.forwardRef((e,t)=>{const s=e,{forceMount:n}=s,r=u(s,["forceMount"]),a=Ql(Zl,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:i}=a,d="horizontal"===e.orientation;return me.useEffect(()=>(d?l(!0):i(!0),()=>{d?l(!1):i(!1)}),[d,l,i]),"hover"===a.type?x.jsx(ti,c(o({},r),{ref:t,forceMount:n})):"scroll"===a.type?x.jsx(si,c(o({},r),{ref:t,forceMount:n})):"auto"===a.type?x.jsx(ni,c(o({},r),{ref:t,forceMount:n})):"always"===a.type?x.jsx(ri,c(o({},r),{ref:t})):null});ei.displayName=Zl;var ti=me.forwardRef((e,t)=>{const s=e,{forceMount:n}=s,r=u(s,["forceMount"]),a=Ql(Zl,e.__scopeScrollArea),[l,i]=me.useState(!1);return me.useEffect(()=>{const e=a.scrollArea;let t=0;if(e){const s=()=>{window.clearTimeout(t),i(!0)},n=()=>{t=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return e.addEventListener("pointerenter",s),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",s),e.removeEventListener("pointerleave",n)}}},[a.scrollArea,a.scrollHideDelay]),x.jsx(D,{present:n||l,children:x.jsx(ni,c(o({"data-state":l?"visible":"hidden"},r),{ref:t}))})}),si=me.forwardRef((e,t)=>{const s=e,{forceMount:n}=s,r=u(s,["forceMount"]),a=Ql(Zl,e.__scopeScrollArea),l="horizontal"===e.orientation,i=_i(()=>m("SCROLL_END"),100),[d,m]=(h="hidden",f={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},me.useReducer((e,t)=>{const s=f[e][t];return null!=s?s:e},h));var h,f;return me.useEffect(()=>{if("idle"===d){const e=window.setTimeout(()=>m("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(e)}},[d,a.scrollHideDelay,m]),me.useEffect(()=>{const e=a.viewport,t=l?"scrollLeft":"scrollTop";if(e){let s=e[t];const n=()=>{const n=e[t];s!==n&&(m("SCROLL"),i()),s=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}},[a.viewport,l,m,i]),x.jsx(D,{present:n||"hidden"!==d,children:x.jsx(ri,c(o({"data-state":"hidden"===d?"hidden":"visible"},r),{ref:t,onPointerEnter:P(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:P(e.onPointerLeave,()=>m("POINTER_LEAVE"))}))})}),ni=me.forwardRef((e,t)=>{const s=Ql(Zl,e.__scopeScrollArea),n=e,{forceMount:r}=n,a=u(n,["forceMount"]),[l,i]=me.useState(!1),d="horizontal"===e.orientation,m=_i(()=>{if(s.viewport){const e=s.viewport.offsetWidth<s.viewport.scrollWidth,t=s.viewport.offsetHeight<s.viewport.scrollHeight;i(d?e:t)}},10);return wi(s.viewport,m),wi(s.content,m),x.jsx(D,{present:r||l,children:x.jsx(ri,c(o({"data-state":l?"visible":"hidden"},a),{ref:t}))})}),ri=me.forwardRef((e,t)=>{const s=e,{orientation:n="vertical"}=s,r=u(s,["orientation"]),a=Ql(Zl,e.__scopeScrollArea),l=me.useRef(null),i=me.useRef(0),[d,m]=me.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=gi(d.viewport,d.content),f=c(o({},r),{sizes:d,onSizesChange:m,hasThumb:Boolean(h>0&&h<1),onThumbChange:e=>l.current=e,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:e=>i.current=e});function p(e,t){return function(e,t,s,n="ltr"){const r=vi(s),a=r/2,l=t||a,i=r-l,o=s.scrollbar.paddingStart+l,c=s.scrollbar.size-s.scrollbar.paddingEnd-i,d=s.content-s.viewport,u="ltr"===n?[0,d]:[-1*d,0];return yi([o,c],u)(e)}(e,i.current,d,t)}return"horizontal"===n?x.jsx(ai,c(o({},f),{ref:t,onThumbPositionChange:()=>{if(a.viewport&&l.current){const e=ji(a.viewport.scrollLeft,d,a.dir);l.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollLeft=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollLeft=p(e,a.dir))}})):"vertical"===n?x.jsx(li,c(o({},f),{ref:t,onThumbPositionChange:()=>{if(a.viewport&&l.current){const e=ji(a.viewport.scrollTop,d);l.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollTop=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollTop=p(e))}})):null}),ai=me.forwardRef((e,t)=>{const s=e,{sizes:n,onSizesChange:r}=s,a=u(s,["sizes","onSizesChange"]),l=Ql(Zl,e.__scopeScrollArea),[i,d]=me.useState(),m=me.useRef(null),h=E(t,m,l.onScrollbarXChange);return me.useEffect(()=>{m.current&&d(getComputedStyle(m.current))},[m]),x.jsx(ci,c(o({"data-orientation":"horizontal"},a),{ref:h,sizes:n,style:o({bottom:0,left:"rtl"===l.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===l.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":vi(n)+"px"},e.style),onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,s)=>{if(l.viewport){const n=l.viewport.scrollLeft+t.deltaX;e.onWheelScroll(n),bi(n,s)&&t.preventDefault()}},onResize:()=>{m.current&&l.viewport&&i&&r({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:m.current.clientWidth,paddingStart:pi(i.paddingLeft),paddingEnd:pi(i.paddingRight)}})}}))}),li=me.forwardRef((e,t)=>{const s=e,{sizes:n,onSizesChange:r}=s,a=u(s,["sizes","onSizesChange"]),l=Ql(Zl,e.__scopeScrollArea),[i,d]=me.useState(),m=me.useRef(null),h=E(t,m,l.onScrollbarYChange);return me.useEffect(()=>{m.current&&d(getComputedStyle(m.current))},[m]),x.jsx(ci,c(o({"data-orientation":"vertical"},a),{ref:h,sizes:n,style:o({top:0,right:"ltr"===l.dir?0:void 0,left:"rtl"===l.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":vi(n)+"px"},e.style),onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,s)=>{if(l.viewport){const n=l.viewport.scrollTop+t.deltaY;e.onWheelScroll(n),bi(n,s)&&t.preventDefault()}},onResize:()=>{m.current&&l.viewport&&i&&r({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:m.current.clientHeight,paddingStart:pi(i.paddingTop),paddingEnd:pi(i.paddingBottom)}})}}))}),[ii,oi]=Gl(Zl),ci=me.forwardRef((e,t)=>{const s=e,{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:l,onThumbPointerUp:i,onThumbPointerDown:d,onThumbPositionChange:m,onDragScroll:h,onWheelScroll:f,onResize:g}=s,v=u(s,["__scopeScrollArea","sizes","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize"]),j=Ql(Zl,n),[y,b]=me.useState(null),N=E(t,e=>b(e)),_=me.useRef(null),w=me.useRef(""),S=j.viewport,k=r.content-r.viewport,C=Q(f),M=Q(m),F=_i(g,10);function D(e){if(_.current){const t=e.clientX-_.current.left,s=e.clientY-_.current.top;h({x:t,y:s})}}return me.useEffect(()=>{const e=e=>{const t=e.target;(null==y?void 0:y.contains(t))&&C(e,k)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[S,y,k,C]),me.useEffect(M,[r,M]),wi(y,F),wi(j.content,F),x.jsx(ii,{scope:n,scrollbar:y,hasThumb:a,onThumbChange:Q(l),onThumbPointerUp:Q(i),onThumbPositionChange:M,onThumbPointerDown:Q(d),children:x.jsx(p.div,c(o({},v),{ref:N,style:o({position:"absolute"},v.style),onPointerDown:P(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),_.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",j.viewport&&(j.viewport.style.scrollBehavior="auto"),D(e))}),onPointerMove:P(e.onPointerMove,D),onPointerUp:P(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=w.current,j.viewport&&(j.viewport.style.scrollBehavior=""),_.current=null})}))})}),di="ScrollAreaThumb",ui=me.forwardRef((e,t)=>{const s=e,{forceMount:n}=s,r=u(s,["forceMount"]),a=oi(di,e.__scopeScrollArea);return x.jsx(D,{present:n||a.hasThumb,children:x.jsx(mi,o({ref:t},r))})}),mi=me.forwardRef((e,t)=>{const s=e,{__scopeScrollArea:n,style:r}=s,a=u(s,["__scopeScrollArea","style"]),l=Ql(di,n),i=oi(di,n),{onThumbPositionChange:d}=i,m=E(t,e=>i.onThumbChange(e)),h=me.useRef(void 0),f=_i(()=>{h.current&&(h.current(),h.current=void 0)},100);return me.useEffect(()=>{const e=l.viewport;if(e){const t=()=>{if(f(),!h.current){const t=Ni(e,d);h.current=t,d()}};return d(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[l.viewport,f,d]),x.jsx(p.div,c(o({"data-state":i.hasThumb?"visible":"hidden"},a),{ref:m,style:o({width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)"},r),onPointerDownCapture:P(e.onPointerDownCapture,e=>{const t=e.target.getBoundingClientRect(),s=e.clientX-t.left,n=e.clientY-t.top;i.onThumbPointerDown({x:s,y:n})}),onPointerUp:P(e.onPointerUp,i.onThumbPointerUp)}))});ui.displayName=di;var hi="ScrollAreaCorner",xi=me.forwardRef((e,t)=>{const s=Ql(hi,e.__scopeScrollArea),n=Boolean(s.scrollbarX&&s.scrollbarY);return"scroll"!==s.type&&n?x.jsx(fi,c(o({},e),{ref:t})):null});xi.displayName=hi;var fi=me.forwardRef((e,t)=>{const s=e,{__scopeScrollArea:n}=s,r=u(s,["__scopeScrollArea"]),a=Ql(hi,n),[l,i]=me.useState(0),[d,m]=me.useState(0),h=Boolean(l&&d);return wi(a.scrollbarX,()=>{var e;const t=(null==(e=a.scrollbarX)?void 0:e.offsetHeight)||0;a.onCornerHeightChange(t),m(t)}),wi(a.scrollbarY,()=>{var e;const t=(null==(e=a.scrollbarY)?void 0:e.offsetWidth)||0;a.onCornerWidthChange(t),i(t)}),h?x.jsx(p.div,c(o({},r),{ref:t,style:o({width:l,height:d,position:"absolute",right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:0},e.style)})):null});function pi(e){return e?parseInt(e,10):0}function gi(e,t){const s=e/t;return isNaN(s)?0:s}function vi(e){const t=gi(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-s)*t;return Math.max(n,18)}function ji(e,t,s="ltr"){const n=vi(t),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-r,l=t.content-t.viewport,i=a-n,o=Hl(e,"ltr"===s?[0,l]:[-1*l,0]);return yi([0,l],[0,i])(o)}function yi(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(s-e[0])}}function bi(e,t){return e>0&&e<t}var Ni=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},n=0;return function r(){const a={left:e.scrollLeft,top:e.scrollTop},l=s.left!==a.left,i=s.top!==a.top;(l||i)&&t(),s=a,n=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(n)};function _i(e,t){const s=Q(e),n=me.useRef(0);return me.useEffect(()=>()=>window.clearTimeout(n.current),[]),me.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(s,t)},[s,t])}function wi(e,t){const s=Q(t);z(()=>{let t=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(s)});return n.observe(e),()=>{window.cancelAnimationFrame(t),n.unobserve(e)}}},[e,s])}var Si=Yl,ki=Jl,Ci=xi;const Mi=me.forwardRef((e,t)=>{var s=e,{className:n,children:r}=s,a=u(s,["className","children"]);return x.jsxs(Si,c(o({ref:t,className:ir("relative overflow-hidden",n)},a),{children:[x.jsx(ki,{className:"h-full w-full rounded-[inherit]",children:r}),x.jsx(Ei,{}),x.jsx(Ci,{})]}))});Mi.displayName=Si.displayName;const Ei=me.forwardRef((e,t)=>{var s=e,{className:n,orientation:r="vertical"}=s,a=u(s,["className","orientation"]);return x.jsx(ei,c(o({ref:t,orientation:r,className:ir("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n)},a),{children:x.jsx(ui,{className:"relative flex-1 rounded-full bg-border"})}))});Ei.displayName=ei.displayName;var Fi="Popover",[Pi,Di]=w(Fi,[S]),Ai=S(),[Ri,Ii]=Pi(Fi),Ti=e=>{const{__scopePopover:t,children:s,open:n,defaultOpen:r,onOpenChange:a,modal:l=!1}=e,i=Ai(t),d=me.useRef(null),[u,m]=me.useState(!1),[h,f]=C({prop:n,defaultProp:null!=r&&r,onChange:a,caller:Fi});return x.jsx(M,c(o({},i),{children:x.jsx(Ri,{scope:t,contentId:k(),triggerRef:d,open:h,onOpenChange:f,onOpenToggle:me.useCallback(()=>f(e=>!e),[f]),hasCustomAnchor:u,onCustomAnchorAdd:me.useCallback(()=>m(!0),[]),onCustomAnchorRemove:me.useCallback(()=>m(!1),[]),modal:l,children:s})}))};Ti.displayName=Fi;var Li="PopoverAnchor";me.forwardRef((e,t)=>{const s=e,{__scopePopover:n}=s,r=u(s,["__scopePopover"]),a=Ii(Li,n),l=Ai(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:d}=a;return me.useEffect(()=>(i(),()=>d()),[i,d]),x.jsx(F,c(o(o({},l),r),{ref:t}))}).displayName=Li;var zi="PopoverTrigger",Oi=me.forwardRef((e,t)=>{const s=e,{__scopePopover:n}=s,r=u(s,["__scopePopover"]),a=Ii(zi,n),l=Ai(n),i=E(t,a.triggerRef),d=x.jsx(p.button,c(o({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Xi(a.open)},r),{ref:i,onClick:P(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?d:x.jsx(F,c(o({asChild:!0},l),{children:d}))});Oi.displayName=zi;var Vi="PopoverPortal",[Ui,Bi]=Pi(Vi,{forceMount:void 0}),$i=e=>{const{__scopePopover:t,forceMount:s,children:n,container:r}=e,a=Ii(Vi,t);return x.jsx(Ui,{scope:t,forceMount:s,children:x.jsx(D,{present:s||a.open,children:x.jsx(A,{asChild:!0,container:r,children:n})})})};$i.displayName=Vi;var Hi="PopoverContent",qi=me.forwardRef((e,t)=>{const s=Bi(Hi,e.__scopePopover),n=e,{forceMount:r=s.forceMount}=n,a=u(n,["forceMount"]),l=Ii(Hi,e.__scopePopover);return x.jsx(D,{present:r||l.open,children:l.modal?x.jsx(Wi,c(o({},a),{ref:t})):x.jsx(Ki,c(o({},a),{ref:t}))})});qi.displayName=Hi;var Gi=Z("PopoverContent.RemoveScroll"),Wi=me.forwardRef((e,t)=>{const s=Ii(Hi,e.__scopePopover),n=me.useRef(null),r=E(t,n),a=me.useRef(!1);return me.useEffect(()=>{const e=n.current;if(e)return X(e)},[]),x.jsx(J,{as:Gi,allowPinchZoom:!0,children:x.jsx(Qi,c(o({},e),{ref:r,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:P(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),a.current||null==(t=s.triggerRef.current)||t.focus()}),onPointerDownOutside:P(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey,n=2===t.button||s;a.current=n},{checkForDefaultPrevented:!1}),onFocusOutside:P(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})}))})}),Ki=me.forwardRef((e,t)=>{const s=Ii(Hi,e.__scopePopover),n=me.useRef(!1),r=me.useRef(!1);return x.jsx(Qi,c(o({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,l;null==(a=e.onCloseAutoFocus)||a.call(e,t),t.defaultPrevented||(n.current||null==(l=s.triggerRef.current)||l.focus(),t.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:t=>{var a,l;null==(a=e.onInteractOutside)||a.call(e,t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(r.current=!0));const i=t.target;(null==(l=s.triggerRef.current)?void 0:l.contains(i))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&r.current&&t.preventDefault()}}))}),Qi=me.forwardRef((e,t)=>{const s=e,{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:i,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:f}=s,p=u(s,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),g=Ii(Hi,n),v=Ai(n);return ee(),x.jsx(te,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:l,children:x.jsx(I,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:f,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:h,onDismiss:()=>g.onOpenChange(!1),children:x.jsx(T,c(o(o({"data-state":Xi(g.open),role:"dialog",id:g.contentId},v),p),{ref:t,style:o(o({},p.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),Yi="PopoverClose";function Xi(e){return e?"open":"closed"}me.forwardRef((e,t)=>{const s=e,{__scopePopover:n}=s,r=u(s,["__scopePopover"]),a=Ii(Yi,n);return x.jsx(p.button,c(o({type:"button"},r),{ref:t,onClick:P(e.onClick,()=>a.onOpenChange(!1))}))}).displayName=Yi,me.forwardRef((e,t)=>{const s=e,{__scopePopover:n}=s,r=u(s,["__scopePopover"]),a=Ai(n);return x.jsx(R,c(o(o({},a),r),{ref:t}))}).displayName="PopoverArrow";var Ji=Ti,Zi=Oi,eo=$i,to=qi;function so(e){var t=u(e,[]);return x.jsx(Ji,o({"data-slot":"popover"},t))}function no(e){var t=u(e,[]);return x.jsx(Zi,o({"data-slot":"popover-trigger"},t))}function ro(e){var t=e,{className:s,align:n="center",sideOffset:r=4}=t,a=u(t,["className","align","sideOffset"]);return x.jsx(eo,{children:x.jsx(to,o({"data-slot":"popover-content",align:n,sideOffset:r,className:ir("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",s)},a))})}const ao=Re((e,t)=>({notifications:[],addNotification:t=>{const s=c(o({},t),{id:crypto.randomUUID(),timestamp:Date.now(),read:!1});e(e=>({notifications:[s,...e.notifications].slice(0,100)}));const n=t.severity;("critical"===n||"error"===n?Ze.error:"warning"===n?Ze.warning:Ze.info)(t.title,{description:t.message,duration:"critical"===n?0:5e3})},markNotificationAsRead:t=>{e(e=>({notifications:e.notifications.map(e=>e.id===t?c(o({},e),{read:!0}):e)}))},markAllNotificationsAsRead:()=>{e(e=>({notifications:e.notifications.map(e=>c(o({},e),{read:!0}))}))},removeNotification:t=>{e(e=>({notifications:e.notifications.filter(e=>e.id!==t)}))},clearNotifications:()=>{e({notifications:[]})},getUnreadNotifications:()=>t().notifications.filter(e=>!e.read),getRecentNotifications:(e=10)=>t().notifications.slice(0,e)})),lo=43200,io=Symbol.for("constructDateFrom");function oo(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&io in e?e[io](t):e instanceof Date?new e.constructor(t):new Date(t)}function co(e,t){return oo(e,e)}let uo={};function mo(e){const t=co(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function ho(e,...t){const s=oo.bind(null,e||t.find(e=>"object"==typeof e));return t.map(s)}function xo(e,t){const s=+co(e)-+co(t);return s<0?-1:s>0?1:s}function fo(e,t){const s=co(e);return+function(e){const t=co(e);return t.setHours(23,59,59,999),t}(s)===+function(e){const t=co(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}(s)}function po(e,t,s){const[n,r,a]=ho(null==s?void 0:s.in,e,e,t),l=xo(r,a),i=Math.abs(function(e,t,s){const[n,r]=ho(null==s?void 0:s.in,e,t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(r,a));if(i<1)return 0;1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-l*i);let o=xo(r,a)===-l;fo(n)&&1===i&&1===xo(n,a)&&(o=!1);const c=l*(i-+o);return 0===c?0:c}function go(e,t,s){const n=function(e,t){return+co(e)-+co(t)}(e,t)/1e3;return(r=null==s?void 0:s.roundingMethod,e=>{const t=(r?Math[r]:Math.trunc)(e);return 0===t?0:t})(n);var r}const vo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function jo(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const yo={date:jo({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:jo({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:jo({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},bo={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function No(e){return(t,s)=>{let n;if("formatting"===((null==s?void 0:s.context)?String(s.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,r=(null==s?void 0:s.width)?String(s.width):t;n=e.formattingValues[r]||e.formattingValues[t]}else{const t=e.defaultWidth,r=(null==s?void 0:s.width)?String(s.width):e.defaultWidth;n=e.values[r]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function _o(e){return(t,s={})=>{const n=s.width,r=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(r);if(!a)return null;const l=a[0],i=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(i)?function(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}(i,e=>e.test(l)):function(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}(i,e=>e.test(l));let c;return c=e.valueCallback?e.valueCallback(o):o,c=s.valueCallback?s.valueCallback(c):c,{value:c,rest:t.slice(l.length)}}}var wo;const So={code:"en-US",formatDistance:(e,t,s)=>{let n;const r=vo[e];return n="string"==typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),(null==s?void 0:s.addSuffix)?s.comparison&&s.comparison>0?"in "+n:n+" ago":n},formatLong:yo,formatRelative:(e,t,s,n)=>bo[e],localize:{ordinalNumber:(e,t)=>{const s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},era:No({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:No({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:No({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:No({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:No({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(wo={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const s=e.match(wo.matchPattern);if(!s)return null;const n=s[0],r=e.match(wo.parsePattern);if(!r)return null;let a=wo.valueCallback?wo.valueCallback(r[0]):r[0];return a=t.valueCallback?t.valueCallback(a):a,{value:a,rest:e.slice(n.length)}}),era:_o({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:_o({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:_o({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:_o({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:_o({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function ko(e,t,s){var n,r;const a=uo,l=null!=(r=null!=(n=null==s?void 0:s.locale)?n:a.locale)?r:So,i=xo(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const o=Object.assign({},s,{addSuffix:null==s?void 0:s.addSuffix,comparison:i}),[c,d]=ho(null==s?void 0:s.in,...i>0?[t,e]:[e,t]),u=go(d,c),m=(mo(d)-mo(c))/1e3,h=Math.round((u-m)/60);let x;if(h<2)return(null==s?void 0:s.includeSeconds)?u<5?l.formatDistance("lessThanXSeconds",5,o):u<10?l.formatDistance("lessThanXSeconds",10,o):u<20?l.formatDistance("lessThanXSeconds",20,o):u<40?l.formatDistance("halfAMinute",0,o):u<60?l.formatDistance("lessThanXMinutes",1,o):l.formatDistance("xMinutes",1,o):0===h?l.formatDistance("lessThanXMinutes",1,o):l.formatDistance("xMinutes",h,o);if(h<45)return l.formatDistance("xMinutes",h,o);if(h<90)return l.formatDistance("aboutXHours",1,o);if(h<1440){const e=Math.round(h/60);return l.formatDistance("aboutXHours",e,o)}if(h<2520)return l.formatDistance("xDays",1,o);if(h<lo){const e=Math.round(h/1440);return l.formatDistance("xDays",e,o)}if(h<86400)return x=Math.round(h/lo),l.formatDistance("aboutXMonths",x,o);if(x=po(d,c),x<12){const e=Math.round(h/lo);return l.formatDistance("xMonths",e,o)}{const e=x%12,t=Math.trunc(x/12);return e<3?l.formatDistance("aboutXYears",t,o):e<9?l.formatDistance("overXYears",t,o):l.formatDistance("almostXYears",t+1,o)}}function Co(e,t){return ko(e,function(e){return oo(e,Date.now())}(e),t)}const Mo=e=>{switch(e){case"critical":case"error":return"bg-red-500";case"warning":return"bg-yellow-500";case"info":return"bg-blue-500";default:return"bg-gray-500"}};function Eo(){const{notifications:e,getUnreadNotifications:t,getRecentNotifications:s,markNotificationAsRead:n,markAllNotificationsAsRead:r,removeNotification:a,clearNotifications:l}=ao(),{getAllDevices:i,StopAlarm:o}=mt(),c=t().length,d=s(10);return x.jsxs(so,{children:[x.jsx(no,{asChild:!0,children:x.jsxs(cr,{variant:"ghost",size:"icon",className:"relative",children:[x.jsx(At,{className:"h-5 w-5"}),c>0&&x.jsx($l,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs flex items-center justify-center",children:c>99?"99+":c})]})}),x.jsxs(ro,{className:"w-80 p-0",align:"end",children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[x.jsx("h4",{className:"font-semibold",children:"Notifications"}),x.jsxs("div",{className:"flex gap-1",children:[e.filter(e=>"alarm"===e.type).length>0&&x.jsx(cr,{variant:"ghost",size:"sm",onClick:()=>h(null,null,function*(){const t=i(),s=e.filter(e=>"alarm"===e.type),n=[...new Set(s.map(e=>e.device_group))];let r=0,a=0;for(const e of t)if(n.includes(e.device_group))try{yield o(e.id),console.log(`Stop alarm sent to device: ${e.id}`),r++}catch(l){console.error(`Failed to stop alarm for device ${e.id}:`,l),a++}r>0?ao.getState().addNotification({type:"device_status",title:"Alarms Stopped",message:`Successfully sent stop alarm command to ${r} device(s)${a>0?`, ${a} failed`:""}`,severity:a>0?"warning":"info"}):a>0&&ao.getState().addNotification({type:"device_status",title:"Stop Alarm Failed",message:`Failed to send stop alarm command to ${a} device(s)`,severity:"error"})}),className:"h-8 px-2 text-xs text-orange-600 hover:text-orange-700",children:"Stop Alarms"}),c>0&&x.jsx(cr,{variant:"ghost",size:"sm",onClick:()=>{r()},className:"h-8 px-2 text-xs",children:"Mark all read"}),e.length>0&&x.jsx(cr,{variant:"ghost",size:"sm",onClick:()=>{l()},className:"h-8 px-2 text-xs text-destructive",children:"Clear all"})]})]}),x.jsx(Mi,{className:"h-80",children:0===d.length?x.jsx("div",{className:"flex items-center justify-center h-32 text-muted-foreground",children:x.jsxs("div",{className:"text-center",children:[x.jsx(At,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),x.jsx("p",{className:"text-sm",children:"No notifications"})]})}):x.jsx("div",{className:"p-2",children:d.map(e=>x.jsx("div",{className:"relative p-3 rounded-lg border mb-2 transition-colors "+(e.read?"bg-background":"bg-muted/50 border-primary/20"),children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${Mo(e.severity)}`}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"flex items-start justify-between gap-2",children:[x.jsx("h5",{className:"font-medium text-sm leading-tight",children:e.title}),x.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[!e.read&&x.jsx(cr,{variant:"ghost",size:"sm",onClick:()=>{return t=e.id,void n(t);var t},className:"h-6 w-6 p-0",children:x.jsx(Lt,{className:"h-3 w-3"})}),x.jsx(cr,{variant:"ghost",size:"sm",onClick:()=>{return t=e.id,void a(t);var t},className:"h-6 w-6 p-0 text-muted-foreground hover:text-destructive",children:x.jsx(Xs,{className:"h-3 w-3"})})]})]}),x.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:e.message}),x.jsxs("div",{className:"flex items-center justify-between mt-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx($l,{variant:"outline",className:"text-xs",children:e.type}),e.device_group&&x.jsx($l,{variant:"secondary",className:"text-xs",children:e.device_group})]}),x.jsx("span",{className:"text-xs text-muted-foreground",children:Co(e.timestamp,{addSuffix:!0})})]})]})]})},e.id))})}),e.length>10&&x.jsx("div",{className:"p-3 border-t bg-muted/30",children:x.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Showing 10 of ",e.length," notifications"]})})]})]})}function Fo({breadcrumbs:e=[]}){return x.jsxs("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b border-sidebar-border/50 px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4",children:[x.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[x.jsx(xa,{className:"-ml-1"}),x.jsx(Vl,{items:e})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Eo,{}),x.jsx(Ul,{})]})]})}function Po({children:e,breadcrumbs:t=[]}){return x.jsxs(Pa,{variant:"sidebar",children:[x.jsx(Al,{}),x.jsxs(Fa,{variant:"sidebar",className:"overflow-x-hidden",children:[x.jsx(Fo,{breadcrumbs:t}),e]})]})}const Do=e=>{var t=e,{children:s,breadcrumbs:n}=t,r=u(t,["children","breadcrumbs"]);return x.jsx(ft,{children:x.jsx(Po,c(o({breadcrumbs:n},r),{children:s}))})};var Ao=me.forwardRef((e,t)=>x.jsx(p.label,c(o({},e),{ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));Ao.displayName="Label";var Ro=Ao;function Io(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(Ro,o({"data-slot":"label",className:ir("text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s)},n))}function To(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("div",o({"data-slot":"card",className:ir("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s)},n))}function Lo(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("div",o({"data-slot":"card-header",className:ir("flex flex-col gap-1.5 px-6",s)},n))}function zo(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("div",o({"data-slot":"card-title",className:ir("leading-none font-semibold",s)},n))}function Oo(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("div",o({"data-slot":"card-description",className:ir("text-muted-foreground text-sm",s)},n))}function Vo(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("div",o({"data-slot":"card-content",className:ir("px-6",s)},n))}const Uo=yt("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80"}},defaultVariants:{variant:"default"}});function Bo(e){var t=e,{className:s,variant:n}=t,r=u(t,["className","variant"]);return x.jsx("div",o({"data-slot":"alert",role:"alert",className:ir(Uo({variant:n}),s)},r))}function $o(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("div",o({"data-slot":"alert-description",className:ir("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s)},n))}const Ho=new class{constructor(e="/api"){m(this,"baseURL"),this.baseURL=e}getAuthHeaders(){let e=dt.getState().token;e||(e=localStorage.getItem("token"));const t={"Content-Type":"application/json"};return e&&(t.Authorization=`Bearer ${e}`),t}request(e){return h(this,arguments,function*(e,t={}){const s=`${this.baseURL}${e}`,n=this.getAuthHeaders(),r=c(o({},t),{headers:o(o({},n),t.headers)});try{const e=yield fetch(s,r);if(!e.ok){const t=yield e.json().catch(()=>({}));throw new Error(t.error||`HTTP error! status: ${e.status}`)}return yield e.json()}catch(a){throw a instanceof Error&&a.message.includes("401")&&(dt.getState().logout(),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),a}})}get(e,t){return h(this,null,function*(){const s=t?this.buildUrlWithParams(e,t):e;return this.request(s,{method:"GET"})})}post(e,t){return h(this,null,function*(){return this.request(e,{method:"POST",body:t?JSON.stringify(t):void 0})})}put(e,t){return h(this,null,function*(){return this.request(e,{method:"PUT",body:t?JSON.stringify(t):void 0})})}delete(e){return h(this,null,function*(){return this.request(e,{method:"DELETE"})})}patch(e,t){return h(this,null,function*(){return this.request(e,{method:"PATCH",body:t?JSON.stringify(t):void 0})})}buildUrlWithParams(e,t){const s=new URL(e,window.location.origin);return Object.entries(t).forEach(([e,t])=>{null!=t&&""!==t&&(Array.isArray(t)?t.forEach(t=>s.searchParams.append(e,t.toString())):s.searchParams.append(e,t.toString()))}),s.pathname+s.search}},qo={getSmsMonitoringConfig(){return h(this,null,function*(){return(yield Ho.get("/api/config/sms-monitoring")).data})},updateSmsMonitoringConfig(e){return h(this,null,function*(){return yield Ho.put("/api/config/sms-monitoring",e)})},reloadConfig(){return h(this,null,function*(){return yield Ho.post("/api/config/reload")})}};function Go(){const[e,t]=me.useState({monitoring_window:10,min_sms_for_check:5,maintenance_threshold:5,check_interval_minutes:15}),[s,n]=me.useState(!1),[r,a]=me.useState(!1),[l,i]=me.useState(null);me.useEffect(()=>{d()},[]);const d=()=>h(null,null,function*(){try{n(!0),i(null);const e=yield qo.getSmsMonitoringConfig();t(e)}catch(e){i(e instanceof Error?e.message:"Failed to load configuration"),Ze.error("Failed to load SMS monitoring configuration")}finally{n(!1)}}),u=(e,s)=>{const n=parseInt(s)||0;t(t=>c(o({},t),{[e]:n}))};return s?x.jsx(To,{children:x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(ds,{className:"h-5 w-5 animate-spin"}),"Loading Configuration..."]})})}):x.jsxs(To,{children:[x.jsxs(Lo,{children:[x.jsx(zo,{children:"SMS Monitoring Configuration"}),x.jsx(Oo,{children:"Configure SMS monitoring parameters for system health checks"})]}),x.jsxs(Vo,{className:"space-y-6",children:[l&&x.jsxs(Bo,{variant:"destructive",children:[x.jsx(qt,{className:"h-4 w-4"}),x.jsx($o,{children:l})]}),x.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"monitoring_window",children:"Monitoring Window"}),x.jsx(dr,{id:"monitoring_window",type:"number",min:"1",value:e.monitoring_window,onChange:e=>u("monitoring_window",e.target.value),placeholder:"10"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Number of recent SMS messages to check"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"min_sms_for_check",children:"Minimum SMS for Check"}),x.jsx(dr,{id:"min_sms_for_check",type:"number",min:"1",max:e.monitoring_window,value:e.min_sms_for_check,onChange:e=>u("min_sms_for_check",e.target.value),placeholder:"5"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimum SMS count before starting health checks"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"maintenance_threshold",children:"Maintenance Threshold"}),x.jsx(dr,{id:"maintenance_threshold",type:"number",min:"1",value:e.maintenance_threshold,onChange:e=>u("maintenance_threshold",e.target.value),placeholder:"5"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Number of failed SMS to trigger maintenance mode"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"check_interval_minutes",children:"Check Interval (Minutes)"}),x.jsx(dr,{id:"check_interval_minutes",type:"number",min:"1",value:e.check_interval_minutes,onChange:e=>u("check_interval_minutes",e.target.value),placeholder:"15"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"How often to run monitoring checks"})]})]}),x.jsx("div",{className:"flex justify-end",children:x.jsx(cr,{onClick:()=>h(null,null,function*(){try{if(a(!0),i(null),e.min_sms_for_check>e.monitoring_window)return void i("Minimum SMS for check cannot be greater than monitoring window");const t=yield qo.updateSmsMonitoringConfig(e);Ze.success(t.message||"SMS monitoring configuration updated successfully and reloaded")}catch(t){i(t instanceof Error?t.message:"Failed to update configuration"),Ze.error("Failed to update SMS monitoring configuration")}finally{a(!1)}}),disabled:r,className:"min-w-[120px]",children:r?x.jsxs(x.Fragment,{children:[x.jsx(ds,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):x.jsxs(x.Fragment,{children:[x.jsx(Ms,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})})]})]})}function Wo(){return x.jsx(Do,{children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),x.jsx("p",{className:"text-muted-foreground",children:"Configure your TSIM Socket Server settings and preferences."})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsx(Go,{}),x.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[x.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:x.jsxs("div",{className:"p-6",children:[x.jsx("h3",{className:"text-lg font-semibold mb-4",children:"General Settings"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure general application settings."})]})}),x.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:x.jsxs("div",{className:"p-6",children:[x.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Security Settings"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage security and authentication settings."})]})})]})]})]})})}var Ko="Progress",Qo=100,[Yo,Xo]=w(Ko),[Jo,Zo]=Yo(Ko),ec=me.forwardRef((e,t)=>{const s=e,{__scopeProgress:n,value:r=null,max:a,getValueLabel:l=nc}=s,i=u(s,["__scopeProgress","value","max","getValueLabel"]);!a&&0!==a||lc(a)||console.error(`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`);const d=lc(a)?a:Qo;null===r||ic(r,d)||console.error(function(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:\n  - a positive number\n  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)\n  - \`null\` or \`undefined\` if the progress is indeterminate.\n\nDefaulting to \`null\`.`}(`${r}`,"Progress"));const m=ic(r,d)?r:null,h=ac(m)?l(m,d):void 0;return x.jsx(Jo,{scope:n,value:m,max:d,children:x.jsx(p.div,c(o({"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":ac(m)?m:void 0,"aria-valuetext":h,role:"progressbar","data-state":rc(m,d),"data-value":null!=m?m:void 0,"data-max":d},i),{ref:t}))})});ec.displayName=Ko;var tc="ProgressIndicator",sc=me.forwardRef((e,t)=>{var s;const n=e,{__scopeProgress:r}=n,a=u(n,["__scopeProgress"]),l=Zo(tc,r);return x.jsx(p.div,c(o({"data-state":rc(l.value,l.max),"data-value":null!=(s=l.value)?s:void 0,"data-max":l.max},a),{ref:t}))});function nc(e,t){return`${Math.round(e/t*100)}%`}function rc(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function ac(e){return"number"==typeof e}function lc(e){return ac(e)&&!isNaN(e)&&e>0}function ic(e,t){return ac(e)&&!isNaN(e)&&e<=t&&e>=0}sc.displayName=tc;var oc=ec,cc=sc;function dc(e){var t=e,{className:s,value:n}=t,r=u(t,["className","value"]);return x.jsx(oc,c(o({"data-slot":"progress",className:ir("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s)},r),{children:x.jsx(cc,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(n||0)}%)`}})}))}const uc=[{title:"Dashboard",href:"/dashboard"}];function mc({stats:e,recentAlarms:t,systemHealth:s}={}){var n,r,a,l,i,o,c,d,u,m,h,f,p,g,v,j,y;const{isConnected:b,isConnecting:N,error:_}=xt(),w=N?{text:"Connecting...",variant:"secondary",icon:x.jsx(kt,{className:"h-3 w-3 animate-spin"})}:b?{text:"System Online",variant:"outline",icon:x.jsx(Is,{className:"h-3 w-3 text-green-500"})}:{text:"System Offline",variant:"destructive",icon:x.jsx(Is,{className:"h-3 w-3 text-red-500"})};return x.jsx(Do,{breadcrumbs:uc,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-x-auto",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),x.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's what's happening with your system."})]}),x.jsx("div",{className:"flex items-center gap-2",children:x.jsxs($l,{variant:w.variant,className:"flex items-center gap-1",children:[w.icon,w.text]})})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Total Devices"}),x.jsx(Ts,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold",children:(null==(n=null==e?void 0:e.devices)?void 0:n.total)||0}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:[(null==(r=null==e?void 0:e.devices)?void 0:r.change)||"0%"," from last month"]})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"SMS Sent"}),x.jsx(fs,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold",children:(null==(a=null==e?void 0:e.smsLogs)?void 0:a.total)||0}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:[(null==(l=null==e?void 0:e.smsLogs)?void 0:l.change)||"0%"," from last month"]})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"USSD Requests"}),x.jsx(as,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold",children:(null==(i=null==e?void 0:e.ussdLogs)?void 0:i.total)||0}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:[(null==(o=null==e?void 0:e.ussdLogs)?void 0:o.change)||"0%"," from last month"]})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Active Alarms"}),x.jsx($s,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold",children:(null==(c=null==e?void 0:e.alarmLogs)?void 0:c.total)||0}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:[(null==(d=null==e?void 0:e.alarmLogs)?void 0:d.change)||"0%"," from last month"]})]})]})]}),x.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Qs,{className:"h-4 w-4"}),"Device Health"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm",children:"Online Devices"}),x.jsxs("span",{className:"text-sm font-medium",children:[(null==(u=null==s?void 0:s.devices)?void 0:u.online)||0," / ",(null==(m=null==s?void 0:s.devices)?void 0:m.total)||0]})]}),x.jsx(dc,{value:(null==(h=null==s?void 0:s.devices)?void 0:h.percentage)||0,className:"h-2"})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(fs,{className:"h-4 w-4"}),"SMS Delivery"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm",children:"Success Rate"}),x.jsxs("span",{className:"text-sm font-medium",children:[(null==(f=null==s?void 0:s.sms)?void 0:f.delivered)||0," / ",(null==(p=null==s?void 0:s.sms)?void 0:p.sent)||0]})]}),x.jsx(dc,{value:(null==(g=null==s?void 0:s.sms)?void 0:g.percentage)||0,className:"h-2"})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(as,{className:"h-4 w-4"}),"USSD Success"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm",children:"Success Rate"}),x.jsxs("span",{className:"text-sm font-medium",children:[(null==(v=null==s?void 0:s.ussd)?void 0:v.success)||0," / ",(null==(j=null==s?void 0:s.ussd)?void 0:j.total)||0]})]}),x.jsx(dc,{value:(null==(y=null==s?void 0:s.ussd)?void 0:y.percentage)||0,className:"h-2"})]})})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx($s,{className:"h-4 w-4"}),"Recent Alarms"]})}),x.jsx(Vo,{children:t&&(null==t?void 0:t.length)>0?x.jsx("div",{className:"space-y-4",children:t.slice(0,5).map(e=>x.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-2 h-2 rounded-full "+("active"===e.status?"bg-red-500":"bg-green-500")}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium",children:e.alarm_type}),x.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.device_sitename," - ",e.device_group_name]})]})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-sm font-medium",children:e.formatted_start}),x.jsx("p",{className:"text-xs text-muted-foreground",children:e.formatted_duration})]})]},e.id))}):x.jsx("div",{className:"text-center py-8",children:x.jsx("p",{className:"text-muted-foreground",children:"No recent alarms"})})})]})]})]})})}function hc(e){const t=me.useRef({value:e,previous:e});return me.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var xc="Checkbox",[fc,pc]=w(xc),[gc,vc]=fc(xc);function jc(e){const{__scopeCheckbox:t,checked:s,children:n,defaultChecked:r,disabled:a,form:l,name:i,onCheckedChange:d,required:u,value:m="on",internal_do_not_use_render:h}=e,[f,p]=C({prop:s,defaultProp:null!=r&&r,onChange:d,caller:xc}),[g,v]=me.useState(null),[j,y]=me.useState(null),b=me.useRef(!1),N=!g||!!l||!!g.closest("form"),_={checked:f,disabled:a,setChecked:p,control:g,setControl:v,name:i,form:l,value:m,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:!Mc(r)&&r,isFormControl:N,bubbleInput:j,setBubbleInput:y};return x.jsx(gc,c(o({scope:t},_),{children:Cc(h)?h(_):n}))}var yc="CheckboxTrigger",bc=me.forwardRef((e,t)=>{var s=e,{__scopeCheckbox:n,onKeyDown:r,onClick:a}=s,l=u(s,["__scopeCheckbox","onKeyDown","onClick"]);const{control:i,value:d,disabled:m,checked:h,required:f,setControl:g,setChecked:v,hasConsumerStoppedPropagationRef:j,isFormControl:y,bubbleInput:b}=vc(yc,n),N=E(t,g),_=me.useRef(h);return me.useEffect(()=>{const e=null==i?void 0:i.form;if(e){const t=()=>v(_.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[i,v]),x.jsx(p.button,c(o({type:"button",role:"checkbox","aria-checked":Mc(h)?"mixed":h,"aria-required":f,"data-state":Ec(h),"data-disabled":m?"":void 0,disabled:m,value:d},l),{ref:N,onKeyDown:P(r,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:P(a,e=>{v(e=>!!Mc(e)||!e),b&&y&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})}))});bc.displayName=yc;var Nc=me.forwardRef((e,t)=>{const s=e,{__scopeCheckbox:n,name:r,checked:a,defaultChecked:l,required:i,disabled:d,value:m,onCheckedChange:h,form:f}=s,p=u(s,["__scopeCheckbox","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]);return x.jsx(jc,{__scopeCheckbox:n,checked:a,defaultChecked:l,disabled:d,required:i,onCheckedChange:h,name:r,form:f,value:m,internal_do_not_use_render:({isFormControl:e})=>x.jsxs(x.Fragment,{children:[x.jsx(bc,c(o({},p),{ref:t,__scopeCheckbox:n})),e&&x.jsx(kc,{__scopeCheckbox:n})]})})});Nc.displayName=xc;var _c="CheckboxIndicator",wc=me.forwardRef((e,t)=>{const s=e,{__scopeCheckbox:n,forceMount:r}=s,a=u(s,["__scopeCheckbox","forceMount"]),l=vc(_c,n);return x.jsx(D,{present:r||Mc(l.checked)||!0===l.checked,children:x.jsx(p.span,c(o({"data-state":Ec(l.checked),"data-disabled":l.disabled?"":void 0},a),{ref:t,style:o({pointerEvents:"none"},e.style)}))})});wc.displayName=_c;var Sc="CheckboxBubbleInput",kc=me.forwardRef((e,t)=>{var s=e,{__scopeCheckbox:n}=s,r=u(s,["__scopeCheckbox"]);const{control:a,hasConsumerStoppedPropagationRef:l,checked:i,defaultChecked:d,required:m,disabled:h,name:f,value:g,form:v,bubbleInput:j,setBubbleInput:y}=vc(Sc,n),b=E(t,y),N=hc(i),_=se(a);me.useEffect(()=>{const e=j;if(!e)return;const t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set,n=!l.current;if(N!==i&&s){const t=new Event("click",{bubbles:n});e.indeterminate=Mc(i),s.call(e,!Mc(i)&&i),e.dispatchEvent(t)}},[j,N,i,l]);const w=me.useRef(!Mc(i)&&i);return x.jsx(p.input,c(o({type:"checkbox","aria-hidden":!0,defaultChecked:null!=d?d:w.current,required:m,disabled:h,name:f,value:g,form:v},r),{tabIndex:-1,ref:b,style:c(o(o({},r.style),_),{position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"})}))});function Cc(e){return"function"==typeof e}function Mc(e){return"indeterminate"===e}function Ec(e){return Mc(e)?"indeterminate":e?"checked":"unchecked"}function Fc(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(Nc,c(o({"data-slot":"checkbox",className:ir("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s)},n),{children:x.jsx(wc,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:x.jsx(Lt,{className:"size-3.5"})})}))}function Pc(e){var t=e,{className:s="",children:n}=t,r=u(t,["className","children"]);return x.jsx(fe,c(o({className:ir("text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",s)},r),{children:n}))}function Dc(e){return x.jsx("svg",c(o({},e),{viewBox:"0 0 40 42",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.2 5.63325L8.6 0.855469L0 5.63325V32.1434L16.2 41.1434L32.4 32.1434V23.699L40 19.4767V9.85547L31.4 5.07769L22.8 9.85547V18.2999L17.2 21.411V5.63325ZM38 18.2999L32.4 21.411V15.2545L38 12.1434V18.2999ZM36.9409 10.4439L31.4 13.5221L25.8591 10.4439L31.4 7.36561L36.9409 10.4439ZM24.8 18.2999V12.1434L30.4 15.2545V21.411L24.8 18.2999ZM23.8 20.0323L29.3409 23.1105L16.2 30.411L10.6591 27.3328L23.8 20.0323ZM7.6 27.9212L15.2 32.1434V38.2999L2 30.9666V7.92116L7.6 11.0323V27.9212ZM8.6 9.29991L3.05913 6.22165L8.6 3.14339L14.1409 6.22165L8.6 9.29991ZM30.4 24.8101L17.2 32.1434V38.2999L30.4 30.9666V24.8101ZM9.6 11.0323L15.2 7.92117V22.5221L9.6 25.6333V11.0323Z"})}))}function Ac({children:e,title:t,description:s}){return x.jsx("div",{className:"flex min-h-svh flex-col items-center justify-center gap-6 bg-background p-6 md:p-10",children:x.jsx("div",{className:"w-full max-w-sm",children:x.jsxs("div",{className:"flex flex-col gap-8",children:[x.jsxs("div",{className:"flex flex-col items-center gap-4",children:[x.jsxs(fe,{to:"/",className:"flex flex-col items-center gap-2 font-medium",children:[x.jsx("div",{className:"mb-1 flex h-9 w-9 items-center justify-center rounded-md",children:x.jsx(Dc,{className:"size-9 fill-current text-[var(--foreground)] dark:text-white"})}),x.jsx("span",{className:"sr-only",children:t})]}),x.jsxs("div",{className:"space-y-2 text-center",children:[x.jsx("h1",{className:"text-xl font-medium",children:t}),x.jsx("p",{className:"text-center text-sm text-muted-foreground",children:s})]})]}),e]})})})}function Rc(){const[e,t]=me.useState(!1),[s,n]=me.useState({}),[r,a]=me.useState({login:"",password:"",remember:!1}),l=pe(),{login:i,loading:d,error:u,success:m,clearError:f,clearSuccess:p,isAuthenticated:g}=dt();me.useEffect(()=>{g&&l("/dashboard")},[g,l]),me.useEffect(()=>{u&&(Ze.error(u),f())},[u,f]),me.useEffect(()=>{m&&(Ze.success(m),p())},[m,p]);const v=(e,t)=>{a(s=>c(o({},s),{[e]:t})),s[e]&&n(t=>c(o({},t),{[e]:void 0}))};return x.jsx(Ac,{children:x.jsxs(To,{className:"w-full max-w-md",children:[x.jsxs(Lo,{className:"space-y-1",children:[x.jsx(zo,{className:"text-2xl font-bold text-center",children:"Sign In"}),x.jsx(Oo,{className:"text-center",children:"Enter your credentials to access your account"})]}),x.jsx(Vo,{children:x.jsxs("form",{onSubmit:e=>h(null,null,function*(){e.preventDefault(),n({});try{yield i({username:r.login,password:r.password,rememberMe:r.remember})}catch(t){console.error("Login error:",t)}}),className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"login",children:"Email or Username"}),x.jsx(dr,{id:"login",type:"text",placeholder:"example@email.com or username",value:r.login,className:s.login?"border-red-500":"",onChange:e=>v("login",e.target.value),required:!0,autoFocus:!0,disabled:d}),s.login&&x.jsx("p",{className:"text-sm text-red-500",children:s.login})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"password",children:"Password"}),x.jsxs("div",{className:"relative",children:[x.jsx(dr,{id:"password",type:e?"text":"password",placeholder:"",value:r.password,className:"pr-10 "+(s.password?"border-red-500":""),onChange:e=>v("password",e.target.value),required:!0,autoComplete:"current-password",disabled:d}),x.jsx(cr,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>t(!e),disabled:d,children:e?x.jsx(ss,{className:"h-4 w-4"}):x.jsx(ns,{className:"h-4 w-4"})})]}),s.password&&x.jsx("p",{className:"text-sm text-red-500",children:s.password})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"remember",checked:r.remember,onCheckedChange:e=>v("remember",e),disabled:d}),x.jsx(Io,{htmlFor:"remember",className:"text-sm",children:"Remember me"})]}),x.jsx(Pc,{to:"/forgot-password",className:"text-sm",children:"Forgot password?"})]}),x.jsx(cr,{type:"submit",className:"w-full",disabled:d,children:d?x.jsxs(x.Fragment,{children:[x.jsx(ds,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})})]})})}function Ic(e){var t=e,{message:s,className:n=""}=t,r=u(t,["message","className"]);return s?x.jsx("p",c(o({},r),{className:ir("text-sm text-red-600 dark:text-red-400",n),children:s})):null}function Tc(e){var t=e,{children:s,title:n,description:r}=t,a=u(t,["children","title","description"]);return x.jsx(Ac,c(o({title:n,description:r},a),{children:s}))}function Lc(){const[e,t]=me.useState(!1),[s,n]=me.useState({}),[r,a]=me.useState({name:"",email:"",password:"",password_confirmation:""}),l=pe(),i=(e,t)=>{a(s=>c(o({},s),{[e]:t})),s[e]&&n(t=>c(o({},t),{[e]:void 0}))};return x.jsx(Tc,{title:"Create an account",description:"Enter your details below to create your account",children:x.jsxs("form",{className:"flex flex-col gap-6",onSubmit:e=>{e.preventDefault(),t(!0),n({}),console.log("Register attempt:",r),setTimeout(()=>{t(!1),l("/login")},1e3)},children:[x.jsxs("div",{className:"grid gap-6",children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(Io,{htmlFor:"name",children:"Name"}),x.jsx(dr,{id:"name",type:"text",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"name",value:r.name,onChange:e=>i("name",e.target.value),disabled:e,placeholder:"Full name"}),x.jsx(Ic,{message:s.name,className:"mt-2"})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(Io,{htmlFor:"email",children:"Email address"}),x.jsx(dr,{id:"email",type:"email",required:!0,tabIndex:2,autoComplete:"email",value:r.email,onChange:e=>i("email",e.target.value),disabled:e,placeholder:"email@example.com"}),x.jsx(Ic,{message:s.email})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(Io,{htmlFor:"password",children:"Password"}),x.jsx(dr,{id:"password",type:"password",required:!0,tabIndex:3,autoComplete:"new-password",value:r.password,onChange:e=>i("password",e.target.value),disabled:e,placeholder:"Password"}),x.jsx(Ic,{message:s.password})]}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx(Io,{htmlFor:"password_confirmation",children:"Confirm password"}),x.jsx(dr,{id:"password_confirmation",type:"password",required:!0,tabIndex:4,autoComplete:"new-password",value:r.password_confirmation,onChange:e=>i("password_confirmation",e.target.value),disabled:e,placeholder:"Confirm password"}),x.jsx(Ic,{message:s.password_confirmation})]})]}),x.jsxs(cr,{type:"submit",disabled:e,children:[e&&x.jsx(ds,{className:"mr-2 h-4 w-4 animate-spin"}),"Create account"]}),x.jsxs("div",{className:"text-center text-sm",children:["Already have an account?"," ",x.jsx(Pc,{to:"/login",className:"font-medium",children:"Sign in"})]})]})})}function zc({status:e}){const[t,s]=me.useState(!1),[n,r]=me.useState({}),[a,l]=me.useState(""),[i,d]=me.useState(e);return pe(),x.jsxs(Tc,{title:"Forgot password",description:"Enter your email to receive a password reset link",children:[i&&x.jsx("div",{className:"mb-4 text-center text-sm font-medium text-green-600",children:i}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("form",{onSubmit:e=>{e.preventDefault(),s(!0),r({}),console.log("Forgot password attempt:",a),setTimeout(()=>{s(!1),d("Password reset link has been sent to your email.")},1e3)},children:[x.jsxs("div",{className:"grid gap-2",children:[x.jsx(Io,{htmlFor:"email",children:"Email address"}),x.jsx(dr,{id:"email",type:"email",name:"email",autoComplete:"off",value:a,autoFocus:!0,onChange:e=>{return t=e.target.value,l(t),void(n.email&&r(e=>c(o({},e),{email:void 0})));var t},placeholder:"email@example.com"}),x.jsx(Ic,{message:n.email})]}),x.jsx("div",{className:"my-6 flex items-center justify-start",children:x.jsxs(cr,{className:"w-full",disabled:t,children:[t&&x.jsx(ds,{className:"mr-2 h-4 w-4 animate-spin"}),"Email password reset link"]})})]}),x.jsxs("div",{className:"space-x-1 text-center text-sm text-muted-foreground",children:[x.jsx("span",{children:"Or, return to"}),x.jsx(Pc,{to:"/login",children:"log in"})]})]})]})}
/**
       * table-core
       *
       * Copyright (c) TanStack
       *
       * This source code is licensed under the MIT license found in the
       * LICENSE.md file in the root directory of this source tree.
       *
       * @license MIT
       */function Oc(e,t){return"function"==typeof e?e(t):e}function Vc(e,t){return s=>{t.setState(t=>c(o({},t),{[e]:Oc(s,t[e])}))}}function Uc(e){return e instanceof Function}function Bc(e,t,s){let n,r=[];return a=>{let l;s.key&&s.debug&&(l=Date.now());const i=e(a);if(i.length===r.length&&!i.some((e,t)=>r[t]!==e))return n;let o;if(r=i,s.key&&s.debug&&(o=Date.now()),n=t(...i),null==s||null==s.onChange||s.onChange(n),s.key&&s.debug&&null!=s&&s.debug()){const e=Math.round(100*(Date.now()-l))/100,t=Math.round(100*(Date.now()-o))/100,n=t/16,r=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c ${r(t,5)} /${r(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*n,120))}deg 100% 31%);`,null==s?void 0:s.key)}return n}}function $c(e,t,s,n){return{debug:()=>{var s;return null!=(s=null==e?void 0:e.debugAll)?s:e[t]},key:!1,onChange:n}}kc.displayName=Sc;const Hc="debugHeaders";function qc(e,t,s){var n;let r={id:null!=(n=s.id)?n:t.id,column:t,index:s.index,isPlaceholder:!!s.isPlaceholder,placeholderId:s.placeholderId,depth:s.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const e=[],t=s=>{s.subHeaders&&s.subHeaders.length&&s.subHeaders.map(t),e.push(s)};return t(r),e},getContext:()=>({table:e,header:r,column:t})};return e._features.forEach(t=>{null==t.createHeader||t.createHeader(r,e)}),r}const Gc={createTable:e=>{e.getHeaderGroups=Bc(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,s,n,r)=>{var a,l;const i=null!=(a=null==n?void 0:n.map(e=>s.find(t=>t.id===e)).filter(Boolean))?a:[],o=null!=(l=null==r?void 0:r.map(e=>s.find(t=>t.id===e)).filter(Boolean))?l:[];return Wc(t,[...i,...s.filter(e=>!(null!=n&&n.includes(e.id)||null!=r&&r.includes(e.id))),...o],e)},$c(e.options,Hc)),e.getCenterHeaderGroups=Bc(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,s,n,r)=>Wc(t,s=s.filter(e=>!(null!=n&&n.includes(e.id)||null!=r&&r.includes(e.id))),e,"center"),$c(e.options,Hc)),e.getLeftHeaderGroups=Bc(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,s,n)=>{var r;return Wc(t,null!=(r=null==n?void 0:n.map(e=>s.find(t=>t.id===e)).filter(Boolean))?r:[],e,"left")},$c(e.options,Hc)),e.getRightHeaderGroups=Bc(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,s,n)=>{var r;return Wc(t,null!=(r=null==n?void 0:n.map(e=>s.find(t=>t.id===e)).filter(Boolean))?r:[],e,"right")},$c(e.options,Hc)),e.getFooterGroups=Bc(()=>[e.getHeaderGroups()],e=>[...e].reverse(),$c(e.options,Hc)),e.getLeftFooterGroups=Bc(()=>[e.getLeftHeaderGroups()],e=>[...e].reverse(),$c(e.options,Hc)),e.getCenterFooterGroups=Bc(()=>[e.getCenterHeaderGroups()],e=>[...e].reverse(),$c(e.options,Hc)),e.getRightFooterGroups=Bc(()=>[e.getRightHeaderGroups()],e=>[...e].reverse(),$c(e.options,Hc)),e.getFlatHeaders=Bc(()=>[e.getHeaderGroups()],e=>e.map(e=>e.headers).flat(),$c(e.options,Hc)),e.getLeftFlatHeaders=Bc(()=>[e.getLeftHeaderGroups()],e=>e.map(e=>e.headers).flat(),$c(e.options,Hc)),e.getCenterFlatHeaders=Bc(()=>[e.getCenterHeaderGroups()],e=>e.map(e=>e.headers).flat(),$c(e.options,Hc)),e.getRightFlatHeaders=Bc(()=>[e.getRightHeaderGroups()],e=>e.map(e=>e.headers).flat(),$c(e.options,Hc)),e.getCenterLeafHeaders=Bc(()=>[e.getCenterFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),$c(e.options,Hc)),e.getLeftLeafHeaders=Bc(()=>[e.getLeftFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),$c(e.options,Hc)),e.getRightLeafHeaders=Bc(()=>[e.getRightFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),$c(e.options,Hc)),e.getLeafHeaders=Bc(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(e,t,s)=>{var n,r,a,l,i,o;return[...null!=(n=null==(r=e[0])?void 0:r.headers)?n:[],...null!=(a=null==(l=t[0])?void 0:l.headers)?a:[],...null!=(i=null==(o=s[0])?void 0:o.headers)?i:[]].map(e=>e.getLeafHeaders()).flat()},$c(e.options,Hc))}};function Wc(e,t,s,n){var r,a;let l=0;const i=function(e,t){void 0===t&&(t=1),l=Math.max(l,t),e.filter(e=>e.getIsVisible()).forEach(e=>{var s;null!=(s=e.columns)&&s.length&&i(e.columns,t+1)},0)};i(e);let o=[];const c=(e,t)=>{const r={depth:t,id:[n,`${t}`].filter(Boolean).join("_"),headers:[]},a=[];e.forEach(e=>{const l=[...a].reverse()[0];let i,o=!1;if(e.column.depth===r.depth&&e.column.parent?i=e.column.parent:(i=e.column,o=!0),l&&(null==l?void 0:l.column)===i)l.subHeaders.push(e);else{const r=qc(s,i,{id:[n,t,i.id,null==e?void 0:e.id].filter(Boolean).join("_"),isPlaceholder:o,placeholderId:o?`${a.filter(e=>e.column===i).length}`:void 0,depth:t,index:a.length});r.subHeaders.push(e),a.push(r)}r.headers.push(e),e.headerGroup=r}),o.push(r),t>0&&c(a,t-1)},d=t.map((e,t)=>qc(s,e,{depth:l,index:t}));c(d,l-1),o.reverse();const u=e=>e.filter(e=>e.column.getIsVisible()).map(e=>{let t=0,s=0,n=[0];return e.subHeaders&&e.subHeaders.length?(n=[],u(e.subHeaders).forEach(e=>{let{colSpan:s,rowSpan:r}=e;t+=s,n.push(r)})):t=1,s+=Math.min(...n),e.colSpan=t,e.rowSpan=s,{colSpan:t,rowSpan:s}});return u(null!=(r=null==(a=o[0])?void 0:a.headers)?r:[]),o}const Kc=(e,t,s,n,r,a,l)=>{let i={id:t,index:n,original:s,depth:r,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(i._valuesCache.hasOwnProperty(t))return i._valuesCache[t];const s=e.getColumn(t);return null!=s&&s.accessorFn?(i._valuesCache[t]=s.accessorFn(i.original,n),i._valuesCache[t]):void 0},getUniqueValues:t=>{if(i._uniqueValuesCache.hasOwnProperty(t))return i._uniqueValuesCache[t];const s=e.getColumn(t);return null!=s&&s.accessorFn?s.columnDef.getUniqueValues?(i._uniqueValuesCache[t]=s.columnDef.getUniqueValues(i.original,n),i._uniqueValuesCache[t]):(i._uniqueValuesCache[t]=[i.getValue(t)],i._uniqueValuesCache[t]):void 0},renderValue:t=>{var s;return null!=(s=i.getValue(t))?s:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>function(e,t){const s=[],n=e=>{e.forEach(e=>{s.push(e);const r=t(e);null!=r&&r.length&&n(r)})};return n(e),s}(i.subRows,e=>e.subRows),getParentRow:()=>i.parentId?e.getRow(i.parentId,!0):void 0,getParentRows:()=>{let e=[],t=i;for(;;){const s=t.getParentRow();if(!s)break;e.push(s),t=s}return e.reverse()},getAllCells:Bc(()=>[e.getAllLeafColumns()],t=>t.map(t=>function(e,t,s,n){const r={id:`${t.id}_${s.id}`,row:t,column:s,getValue:()=>t.getValue(n),renderValue:()=>{var t;return null!=(t=r.getValue())?t:e.options.renderFallbackValue},getContext:Bc(()=>[e,s,t,r],(e,t,s,n)=>({table:e,column:t,row:s,cell:n,getValue:n.getValue,renderValue:n.renderValue}),$c(e.options,"debugCells"))};return e._features.forEach(n=>{null==n.createCell||n.createCell(r,s,t,e)},{}),r}(e,i,t,t.id)),$c(e.options,"debugRows")),_getAllCellsByColumnId:Bc(()=>[i.getAllCells()],e=>e.reduce((e,t)=>(e[t.column.id]=t,e),{}),$c(e.options,"debugRows"))};for(let o=0;o<e._features.length;o++){const t=e._features[o];null==t||null==t.createRow||t.createRow(i,e)}return i},Qc={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Yc=(e,t,s)=>{var n,r;const a=null==s||null==(n=s.toString())?void 0:n.toLowerCase();return Boolean(null==(r=e.getValue(t))||null==(r=r.toString())||null==(r=r.toLowerCase())?void 0:r.includes(a))};Yc.autoRemove=e=>ld(e);const Xc=(e,t,s)=>{var n;return Boolean(null==(n=e.getValue(t))||null==(n=n.toString())?void 0:n.includes(s))};Xc.autoRemove=e=>ld(e);const Jc=(e,t,s)=>{var n;return(null==(n=e.getValue(t))||null==(n=n.toString())?void 0:n.toLowerCase())===(null==s?void 0:s.toLowerCase())};Jc.autoRemove=e=>ld(e);const Zc=(e,t,s)=>{var n;return null==(n=e.getValue(t))?void 0:n.includes(s)};Zc.autoRemove=e=>ld(e);const ed=(e,t,s)=>!s.some(s=>{var n;return!(null!=(n=e.getValue(t))&&n.includes(s))});ed.autoRemove=e=>ld(e)||!(null!=e&&e.length);const td=(e,t,s)=>s.some(s=>{var n;return null==(n=e.getValue(t))?void 0:n.includes(s)});td.autoRemove=e=>ld(e)||!(null!=e&&e.length);const sd=(e,t,s)=>e.getValue(t)===s;sd.autoRemove=e=>ld(e);const nd=(e,t,s)=>e.getValue(t)==s;nd.autoRemove=e=>ld(e);const rd=(e,t,s)=>{let[n,r]=s;const a=e.getValue(t);return a>=n&&a<=r};rd.resolveFilterValue=e=>{let[t,s]=e,n="number"!=typeof t?parseFloat(t):t,r="number"!=typeof s?parseFloat(s):s,a=null===t||Number.isNaN(n)?-1/0:n,l=null===s||Number.isNaN(r)?1/0:r;if(a>l){const e=a;a=l,l=e}return[a,l]},rd.autoRemove=e=>ld(e)||ld(e[0])&&ld(e[1]);const ad={includesString:Yc,includesStringSensitive:Xc,equalsString:Jc,arrIncludes:Zc,arrIncludesAll:ed,arrIncludesSome:td,equals:sd,weakEquals:nd,inNumberRange:rd};function ld(e){return null==e||""===e}const id={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>o({columnFilters:[]},e),getDefaultOptions:e=>({onColumnFiltersChange:Vc("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const s=t.getCoreRowModel().flatRows[0],n=null==s?void 0:s.getValue(e.id);return"string"==typeof n?ad.includesString:"number"==typeof n?ad.inNumberRange:"boolean"==typeof n||null!==n&&"object"==typeof n?ad.equals:Array.isArray(n)?ad.arrIncludes:ad.weakEquals},e.getFilterFn=()=>{var s,n;return Uc(e.columnDef.filterFn)?e.columnDef.filterFn:"auto"===e.columnDef.filterFn?e.getAutoFilterFn():null!=(s=null==(n=t.options.filterFns)?void 0:n[e.columnDef.filterFn])?s:ad[e.columnDef.filterFn]},e.getCanFilter=()=>{var s,n,r;return(null==(s=e.columnDef.enableColumnFilter)||s)&&(null==(n=t.options.enableColumnFilters)||n)&&(null==(r=t.options.enableFilters)||r)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var s;return null==(s=t.getState().columnFilters)||null==(s=s.find(t=>t.id===e.id))?void 0:s.value},e.getFilterIndex=()=>{var s,n;return null!=(s=null==(n=t.getState().columnFilters)?void 0:n.findIndex(t=>t.id===e.id))?s:-1},e.setFilterValue=s=>{t.setColumnFilters(t=>{const n=e.getFilterFn(),r=null==t?void 0:t.find(t=>t.id===e.id),a=Oc(s,r?r.value:void 0);var l;if(od(n,a,e))return null!=(l=null==t?void 0:t.filter(t=>t.id!==e.id))?l:[];const i={id:e.id,value:a};var o;return r?null!=(o=null==t?void 0:t.map(t=>t.id===e.id?i:t))?o:[]:null!=t&&t.length?[...t,i]:[i]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const s=e.getAllLeafColumns();null==e.options.onColumnFiltersChange||e.options.onColumnFiltersChange(e=>{var n;return null==(n=Oc(t,e))?void 0:n.filter(e=>{const t=s.find(t=>t.id===e.id);return!t||!od(t.getFilterFn(),e.value,t)})})},e.resetColumnFilters=t=>{var s,n;e.setColumnFilters(t?[]:null!=(s=null==(n=e.initialState)?void 0:n.columnFilters)?s:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function od(e,t,s){return!(!e||!e.autoRemove)&&e.autoRemove(t,s)||void 0===t||"string"==typeof t&&!t}const cd={sum:(e,t,s)=>s.reduce((t,s)=>{const n=s.getValue(e);return t+("number"==typeof n?n:0)},0),min:(e,t,s)=>{let n;return s.forEach(t=>{const s=t.getValue(e);null!=s&&(n>s||void 0===n&&s>=s)&&(n=s)}),n},max:(e,t,s)=>{let n;return s.forEach(t=>{const s=t.getValue(e);null!=s&&(n<s||void 0===n&&s>=s)&&(n=s)}),n},extent:(e,t,s)=>{let n,r;return s.forEach(t=>{const s=t.getValue(e);null!=s&&(void 0===n?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}),[n,r]},mean:(e,t)=>{let s=0,n=0;if(t.forEach(t=>{let r=t.getValue(e);null!=r&&(r=+r)>=r&&(++s,n+=r)}),s)return n/s},median:(e,t)=>{if(!t.length)return;const s=t.map(t=>t.getValue(e));if(n=s,!Array.isArray(n)||!n.every(e=>"number"==typeof e))return;var n;if(1===s.length)return s[0];const r=Math.floor(s.length/2),a=s.sort((e,t)=>e-t);return s.length%2!=0?a[r]:(a[r-1]+a[r])/2},unique:(e,t)=>Array.from(new Set(t.map(t=>t.getValue(e))).values()),uniqueCount:(e,t)=>new Set(t.map(t=>t.getValue(e))).size,count:(e,t)=>t.length},dd={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,s;return null!=(t=null==(s=e.getValue())||null==s.toString?void 0:s.toString())?t:null},aggregationFn:"auto"}),getInitialState:e=>o({grouping:[]},e),getDefaultOptions:e=>({onGroupingChange:Vc("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(t=>null!=t&&t.includes(e.id)?t.filter(t=>t!==e.id):[...null!=t?t:[],e.id])},e.getCanGroup=()=>{var s,n;return(null==(s=e.columnDef.enableGrouping)||s)&&(null==(n=t.options.enableGrouping)||n)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var s;return null==(s=t.getState().grouping)?void 0:s.includes(e.id)},e.getGroupedIndex=()=>{var s;return null==(s=t.getState().grouping)?void 0:s.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const s=t.getCoreRowModel().flatRows[0],n=null==s?void 0:s.getValue(e.id);return"number"==typeof n?cd.sum:"[object Date]"===Object.prototype.toString.call(n)?cd.extent:void 0},e.getAggregationFn=()=>{var s,n;if(!e)throw new Error;return Uc(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:"auto"===e.columnDef.aggregationFn?e.getAutoAggregationFn():null!=(s=null==(n=t.options.aggregationFns)?void 0:n[e.columnDef.aggregationFn])?s:cd[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>null==e.options.onGroupingChange?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var s,n;e.setGrouping(t?[]:null!=(s=null==(n=e.initialState)?void 0:n.grouping)?s:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=s=>{if(e._groupingValuesCache.hasOwnProperty(s))return e._groupingValuesCache[s];const n=t.getColumn(s);return null!=n&&n.columnDef.getGroupingValue?(e._groupingValuesCache[s]=n.columnDef.getGroupingValue(e.original),e._groupingValuesCache[s]):e.getValue(s)},e._groupingValuesCache={}},createCell:(e,t,s,n)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===s.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!(null==(t=s.subRows)||!t.length)}}},ud={getInitialState:e=>o({columnOrder:[]},e),getDefaultOptions:e=>({onColumnOrderChange:Vc("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Bc(e=>[gd(t,e)],t=>t.findIndex(t=>t.id===e.id),$c(t.options,"debugColumns")),e.getIsFirstColumn=s=>{var n;return(null==(n=gd(t,s)[0])?void 0:n.id)===e.id},e.getIsLastColumn=s=>{var n;const r=gd(t,s);return(null==(n=r[r.length-1])?void 0:n.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>null==e.options.onColumnOrderChange?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var s;e.setColumnOrder(t?[]:null!=(s=e.initialState.columnOrder)?s:[])},e._getOrderColumnsFn=Bc(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(e,t,s)=>n=>{let r=[];if(null!=e&&e.length){const t=[...e],s=[...n];for(;s.length&&t.length;){const e=t.shift(),n=s.findIndex(t=>t.id===e);n>-1&&r.push(s.splice(n,1)[0])}r=[...r,...s]}else r=n;return function(e,t,s){if(null==t||!t.length||!s)return e;const n=e.filter(e=>!t.includes(e.id));return"remove"===s?n:[...t.map(t=>e.find(e=>e.id===t)).filter(Boolean),...n]}(r,t,s)},$c(e.options,"debugTable"))}},md={getInitialState:e=>o({columnPinning:{left:[],right:[]}},e),getDefaultOptions:e=>({onColumnPinningChange:Vc("columnPinning",e)}),createColumn:(e,t)=>{e.pin=s=>{const n=e.getLeafColumns().map(e=>e.id).filter(Boolean);t.setColumnPinning(e=>{var t,r,a,l,i,o;return"right"===s?{left:(null!=(a=null==e?void 0:e.left)?a:[]).filter(e=>!(null!=n&&n.includes(e))),right:[...(null!=(l=null==e?void 0:e.right)?l:[]).filter(e=>!(null!=n&&n.includes(e))),...n]}:"left"===s?{left:[...(null!=(i=null==e?void 0:e.left)?i:[]).filter(e=>!(null!=n&&n.includes(e))),...n],right:(null!=(o=null==e?void 0:e.right)?o:[]).filter(e=>!(null!=n&&n.includes(e)))}:{left:(null!=(t=null==e?void 0:e.left)?t:[]).filter(e=>!(null!=n&&n.includes(e))),right:(null!=(r=null==e?void 0:e.right)?r:[]).filter(e=>!(null!=n&&n.includes(e)))}})},e.getCanPin=()=>e.getLeafColumns().some(e=>{var s,n,r;return(null==(s=e.columnDef.enablePinning)||s)&&(null==(n=null!=(r=t.options.enableColumnPinning)?r:t.options.enablePinning)||n)}),e.getIsPinned=()=>{const s=e.getLeafColumns().map(e=>e.id),{left:n,right:r}=t.getState().columnPinning,a=s.some(e=>null==n?void 0:n.includes(e)),l=s.some(e=>null==r?void 0:r.includes(e));return a?"left":!!l&&"right"},e.getPinnedIndex=()=>{var s,n;const r=e.getIsPinned();return r?null!=(s=null==(n=t.getState().columnPinning)||null==(n=n[r])?void 0:n.indexOf(e.id))?s:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Bc(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,t,s)=>{const n=[...null!=t?t:[],...null!=s?s:[]];return e.filter(e=>!n.includes(e.column.id))},$c(t.options,"debugRows")),e.getLeftVisibleCells=Bc(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.column.id===t)).filter(Boolean).map(e=>c(o({},e),{position:"left"})),$c(t.options,"debugRows")),e.getRightVisibleCells=Bc(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.column.id===t)).filter(Boolean).map(e=>c(o({},e),{position:"right"})),$c(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>null==e.options.onColumnPinningChange?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var s,n;return e.setColumnPinning(t?{left:[],right:[]}:null!=(s=null==(n=e.initialState)?void 0:n.columnPinning)?s:{left:[],right:[]})},e.getIsSomeColumnsPinned=t=>{var s;const n=e.getState().columnPinning;var r,a;return t?Boolean(null==(s=n[t])?void 0:s.length):Boolean((null==(r=n.left)?void 0:r.length)||(null==(a=n.right)?void 0:a.length))},e.getLeftLeafColumns=Bc(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.id===t)).filter(Boolean),$c(e.options,"debugColumns")),e.getRightLeafColumns=Bc(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.id===t)).filter(Boolean),$c(e.options,"debugColumns")),e.getCenterLeafColumns=Bc(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(e,t,s)=>{const n=[...null!=t?t:[],...null!=s?s:[]];return e.filter(e=>!n.includes(e.id))},$c(e.options,"debugColumns"))}},hd={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},xd={getDefaultColumnDef:()=>hd,getInitialState:e=>o({columnSizing:{},columnSizingInfo:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}},e),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Vc("columnSizing",e),onColumnSizingInfoChange:Vc("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var s,n,r;const a=t.getState().columnSizing[e.id];return Math.min(Math.max(null!=(s=e.columnDef.minSize)?s:hd.minSize,null!=(n=null!=a?a:e.columnDef.size)?n:hd.size),null!=(r=e.columnDef.maxSize)?r:hd.maxSize)},e.getStart=Bc(e=>[e,gd(t,e),t.getState().columnSizing],(t,s)=>s.slice(0,e.getIndex(t)).reduce((e,t)=>e+t.getSize(),0),$c(t.options,"debugColumns")),e.getAfter=Bc(e=>[e,gd(t,e),t.getState().columnSizing],(t,s)=>s.slice(e.getIndex(t)+1).reduce((e,t)=>e+t.getSize(),0),$c(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(t=>{var s;let n=t,{[s=e.id]:r}=n;return u(n,[d(s)])})},e.getCanResize=()=>{var s,n;return(null==(s=e.columnDef.enableResizing)||s)&&(null==(n=t.options.enableColumnResizing)||n)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let t=0;const s=e=>{var n;e.subHeaders.length?e.subHeaders.forEach(s):t+=null!=(n=e.column.getSize())?n:0};return s(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=s=>{const n=t.getColumn(e.column.id),r=null==n?void 0:n.getCanResize();return a=>{if(!n||!r)return;if(null==a.persist||a.persist(),pd(a)&&a.touches&&a.touches.length>1)return;const l=e.getSize(),i=e?e.getLeafHeaders().map(e=>[e.column.id,e.column.getSize()]):[[n.id,n.getSize()]],d=pd(a)?Math.round(a.touches[0].clientX):a.clientX,u={},m=(e,s)=>{"number"==typeof s&&(t.setColumnSizingInfo(e=>{var n,r;const a="rtl"===t.options.columnResizeDirection?-1:1,l=(s-(null!=(n=null==e?void 0:e.startOffset)?n:0))*a,i=Math.max(l/(null!=(r=null==e?void 0:e.startSize)?r:0),-.999999);return e.columnSizingStart.forEach(e=>{let[t,s]=e;u[t]=Math.round(100*Math.max(s+s*i,0))/100}),c(o({},e),{deltaOffset:l,deltaPercentage:i})}),"onChange"!==t.options.columnResizeMode&&"end"!==e||t.setColumnSizing(e=>o(o({},e),u)))},h=e=>m("move",e),x=e=>{m("end",e),t.setColumnSizingInfo(e=>c(o({},e),{isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},f=s||("undefined"!=typeof document?document:null),p={moveHandler:e=>h(e.clientX),upHandler:e=>{null==f||f.removeEventListener("mousemove",p.moveHandler),null==f||f.removeEventListener("mouseup",p.upHandler),x(e.clientX)}},g={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),h(e.touches[0].clientX),!1),upHandler:e=>{var t;null==f||f.removeEventListener("touchmove",g.moveHandler),null==f||f.removeEventListener("touchend",g.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),x(null==(t=e.touches[0])?void 0:t.clientX)}},v=!!function(){if("boolean"==typeof fd)return fd;let e=!1;try{const t={get passive(){return e=!0,!1}},s=()=>{};window.addEventListener("test",s,t),window.removeEventListener("test",s)}catch(t){e=!1}return fd=e,fd}()&&{passive:!1};pd(a)?(null==f||f.addEventListener("touchmove",g.moveHandler,v),null==f||f.addEventListener("touchend",g.upHandler,v)):(null==f||f.addEventListener("mousemove",p.moveHandler,v),null==f||f.addEventListener("mouseup",p.upHandler,v)),t.setColumnSizingInfo(e=>c(o({},e),{startOffset:d,startSize:l,deltaOffset:0,deltaPercentage:0,columnSizingStart:i,isResizingColumn:n.id}))}}},createTable:e=>{e.setColumnSizing=t=>null==e.options.onColumnSizingChange?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>null==e.options.onColumnSizingInfoChange?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var s;e.setColumnSizing(t?{}:null!=(s=e.initialState.columnSizing)?s:{})},e.resetHeaderSizeInfo=t=>{var s;e.setColumnSizingInfo(t?{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}:null!=(s=e.initialState.columnSizingInfo)?s:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]})},e.getTotalSize=()=>{var t,s;return null!=(t=null==(s=e.getHeaderGroups()[0])?void 0:s.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getLeftTotalSize=()=>{var t,s;return null!=(t=null==(s=e.getLeftHeaderGroups()[0])?void 0:s.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getCenterTotalSize=()=>{var t,s;return null!=(t=null==(s=e.getCenterHeaderGroups()[0])?void 0:s.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getRightTotalSize=()=>{var t,s;return null!=(t=null==(s=e.getRightHeaderGroups()[0])?void 0:s.headers.reduce((e,t)=>e+t.getSize(),0))?t:0}}};let fd=null;function pd(e){return"touchstart"===e.type}function gd(e,t){return t?"center"===t?e.getCenterVisibleLeafColumns():"left"===t?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const vd={getInitialState:e=>o({rowSelection:{}},e),getDefaultOptions:e=>({onRowSelectionChange:Vc("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>null==e.options.onRowSelectionChange?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var s;return e.setRowSelection(t?{}:null!=(s=e.initialState.rowSelection)?s:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(s=>{t=void 0!==t?t:!e.getIsAllRowsSelected();const n=o({},s),r=e.getPreGroupedRowModel().flatRows;return t?r.forEach(e=>{e.getCanSelect()&&(n[e.id]=!0)}):r.forEach(e=>{delete n[e.id]}),n})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(s=>{const n=void 0!==t?t:!e.getIsAllPageRowsSelected(),r=o({},s);return e.getRowModel().rows.forEach(t=>{jd(r,t.id,n,!0,e)}),r}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Bc(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,s)=>Object.keys(t).length?yd(e,s):{rows:[],flatRows:[],rowsById:{}},$c(e.options,"debugTable")),e.getFilteredSelectedRowModel=Bc(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,s)=>Object.keys(t).length?yd(e,s):{rows:[],flatRows:[],rowsById:{}},$c(e.options,"debugTable")),e.getGroupedSelectedRowModel=Bc(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,s)=>Object.keys(t).length?yd(e,s):{rows:[],flatRows:[],rowsById:{}},$c(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:s}=e.getState();let n=Boolean(t.length&&Object.keys(s).length);return n&&t.some(e=>e.getCanSelect()&&!s[e.id])&&(n=!1),n},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(e=>e.getCanSelect()),{rowSelection:s}=e.getState();let n=!!t.length;return n&&t.some(e=>!s[e.id])&&(n=!1),n},e.getIsSomeRowsSelected=()=>{var t;const s=Object.keys(null!=(t=e.getState().rowSelection)?t:{}).length;return s>0&&s<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return!e.getIsAllPageRowsSelected()&&t.filter(e=>e.getCanSelect()).some(e=>e.getIsSelected()||e.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(s,n)=>{const r=e.getIsSelected();t.setRowSelection(a=>{var l;if(s=void 0!==s?s:!r,e.getCanSelect()&&r===s)return a;const i=o({},a);return jd(i,e.id,s,null==(l=null==n?void 0:n.selectChildren)||l,t),i})},e.getIsSelected=()=>{const{rowSelection:s}=t.getState();return bd(e,s)},e.getIsSomeSelected=()=>{const{rowSelection:s}=t.getState();return"some"===Nd(e,s)},e.getIsAllSubRowsSelected=()=>{const{rowSelection:s}=t.getState();return"all"===Nd(e,s)},e.getCanSelect=()=>{var s;return"function"==typeof t.options.enableRowSelection?t.options.enableRowSelection(e):null==(s=t.options.enableRowSelection)||s},e.getCanSelectSubRows=()=>{var s;return"function"==typeof t.options.enableSubRowSelection?t.options.enableSubRowSelection(e):null==(s=t.options.enableSubRowSelection)||s},e.getCanMultiSelect=()=>{var s;return"function"==typeof t.options.enableMultiRowSelection?t.options.enableMultiRowSelection(e):null==(s=t.options.enableMultiRowSelection)||s},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return s=>{var n;t&&e.toggleSelected(null==(n=s.target)?void 0:n.checked)}}}},jd=(e,t,s,n,r)=>{var a;const l=r.getRow(t,!0);s?(l.getCanMultiSelect()||Object.keys(e).forEach(t=>delete e[t]),l.getCanSelect()&&(e[t]=!0)):delete e[t],n&&null!=(a=l.subRows)&&a.length&&l.getCanSelectSubRows()&&l.subRows.forEach(t=>jd(e,t.id,s,n,r))};function yd(e,t){const s=e.getState().rowSelection,n=[],r={},a=function(e,t){return e.map(e=>{var t;const l=bd(e,s);if(l&&(n.push(e),r[e.id]=e),null!=(t=e.subRows)&&t.length&&(e=c(o({},e),{subRows:a(e.subRows)})),l)return e}).filter(Boolean)};return{rows:a(t.rows),flatRows:n,rowsById:r}}function bd(e,t){var s;return null!=(s=t[e.id])&&s}function Nd(e,t,s){var n;if(null==(n=e.subRows)||!n.length)return!1;let r=!0,a=!1;return e.subRows.forEach(e=>{if((!a||r)&&(e.getCanSelect()&&(bd(e,t)?a=!0:r=!1),e.subRows&&e.subRows.length)){const s=Nd(e,t);"all"===s?a=!0:"some"===s?(a=!0,r=!1):r=!1}}),r?"all":!!a&&"some"}const _d=/([0-9]+)/gm;function wd(e,t){return e===t?0:e>t?1:-1}function Sd(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}function kd(e,t){const s=e.split(_d).filter(Boolean),n=t.split(_d).filter(Boolean);for(;s.length&&n.length;){const e=s.shift(),t=n.shift(),r=parseInt(e,10),a=parseInt(t,10),l=[r,a].sort();if(isNaN(l[0])){if(e>t)return 1;if(t>e)return-1}else{if(isNaN(l[1]))return isNaN(r)?-1:1;if(r>a)return 1;if(a>r)return-1}}return s.length-n.length}const Cd={alphanumeric:(e,t,s)=>kd(Sd(e.getValue(s)).toLowerCase(),Sd(t.getValue(s)).toLowerCase()),alphanumericCaseSensitive:(e,t,s)=>kd(Sd(e.getValue(s)),Sd(t.getValue(s))),text:(e,t,s)=>wd(Sd(e.getValue(s)).toLowerCase(),Sd(t.getValue(s)).toLowerCase()),textCaseSensitive:(e,t,s)=>wd(Sd(e.getValue(s)),Sd(t.getValue(s))),datetime:(e,t,s)=>{const n=e.getValue(s),r=t.getValue(s);return n>r?1:n<r?-1:0},basic:(e,t,s)=>wd(e.getValue(s),t.getValue(s))},Md=[Gc,{getInitialState:e=>o({columnVisibility:{}},e),getDefaultOptions:e=>({onColumnVisibilityChange:Vc("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=s=>{e.getCanHide()&&t.setColumnVisibility(t=>c(o({},t),{[e.id]:null!=s?s:!e.getIsVisible()}))},e.getIsVisible=()=>{var s,n;const r=e.columns;return null==(s=r.length?r.some(e=>e.getIsVisible()):null==(n=t.getState().columnVisibility)?void 0:n[e.id])||s},e.getCanHide=()=>{var s,n;return(null==(s=e.columnDef.enableHiding)||s)&&(null==(n=t.options.enableHiding)||n)},e.getToggleVisibilityHandler=()=>t=>{null==e.toggleVisibility||e.toggleVisibility(t.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Bc(()=>[e.getAllCells(),t.getState().columnVisibility],e=>e.filter(e=>e.column.getIsVisible()),$c(t.options,"debugRows")),e.getVisibleCells=Bc(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(e,t,s)=>[...e,...t,...s],$c(t.options,"debugRows"))},createTable:e=>{const t=(t,s)=>Bc(()=>[s(),s().filter(e=>e.getIsVisible()).map(e=>e.id).join("_")],e=>e.filter(e=>null==e.getIsVisible?void 0:e.getIsVisible()),$c(e.options,"debugColumns"));e.getVisibleFlatColumns=t(0,()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t(0,()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t(0,()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t(0,()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t(0,()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>null==e.options.onColumnVisibilityChange?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var s;e.setColumnVisibility(t?{}:null!=(s=e.initialState.columnVisibility)?s:{})},e.toggleAllColumnsVisible=t=>{var s;t=null!=(s=t)?s:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((e,s)=>c(o({},e),{[s.id]:t||!(null!=s.getCanHide&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(e=>!(null!=e.getIsVisible&&e.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(e=>null==e.getIsVisible?void 0:e.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var s;e.toggleAllColumnsVisible(null==(s=t.target)?void 0:s.checked)}}},ud,md,Qc,id,{createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},{getInitialState:e=>o({globalFilter:void 0},e),getDefaultOptions:e=>({onGlobalFilterChange:Vc("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var s;const n=null==(s=e.getCoreRowModel().flatRows[0])||null==(s=s._getAllCellsByColumnId()[t.id])?void 0:s.getValue();return"string"==typeof n||"number"==typeof n}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var s,n,r,a;return(null==(s=e.columnDef.enableGlobalFilter)||s)&&(null==(n=t.options.enableGlobalFilter)||n)&&(null==(r=t.options.enableFilters)||r)&&(null==(a=null==t.options.getColumnCanGlobalFilter?void 0:t.options.getColumnCanGlobalFilter(e))||a)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>ad.includesString,e.getGlobalFilterFn=()=>{var t,s;const{globalFilterFn:n}=e.options;return Uc(n)?n:"auto"===n?e.getGlobalAutoFilterFn():null!=(t=null==(s=e.options.filterFns)?void 0:s[n])?t:ad[n]},e.setGlobalFilter=t=>{null==e.options.onGlobalFilterChange||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},{getInitialState:e=>o({sorting:[]},e),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Vc("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const s=t.getFilteredRowModel().flatRows.slice(10);let n=!1;for(const t of s){const s=null==t?void 0:t.getValue(e.id);if("[object Date]"===Object.prototype.toString.call(s))return Cd.datetime;if("string"==typeof s&&(n=!0,s.split(_d).length>1))return Cd.alphanumeric}return n?Cd.text:Cd.basic},e.getAutoSortDir=()=>{const s=t.getFilteredRowModel().flatRows[0];return"string"==typeof(null==s?void 0:s.getValue(e.id))?"asc":"desc"},e.getSortingFn=()=>{var s,n;if(!e)throw new Error;return Uc(e.columnDef.sortingFn)?e.columnDef.sortingFn:"auto"===e.columnDef.sortingFn?e.getAutoSortingFn():null!=(s=null==(n=t.options.sortingFns)?void 0:n[e.columnDef.sortingFn])?s:Cd[e.columnDef.sortingFn]},e.toggleSorting=(s,n)=>{const r=e.getNextSortingOrder(),a=null!=s;t.setSorting(l=>{const i=null==l?void 0:l.find(t=>t.id===e.id),d=null==l?void 0:l.findIndex(t=>t.id===e.id);let u,m=[],h=a?s:"desc"===r;var x;return u=null!=l&&l.length&&e.getCanMultiSort()&&n?i?"toggle":"add":null!=l&&l.length&&d!==l.length-1?"replace":i?"toggle":"replace","toggle"===u&&(a||r||(u="remove")),"add"===u?(m=[...l,{id:e.id,desc:h}],m.splice(0,m.length-(null!=(x=t.options.maxMultiSortColCount)?x:Number.MAX_SAFE_INTEGER))):m="toggle"===u?l.map(t=>t.id===e.id?c(o({},t),{desc:h}):t):"remove"===u?l.filter(t=>t.id!==e.id):[{id:e.id,desc:h}],m})},e.getFirstSortDir=()=>{var s,n;return(null!=(s=null!=(n=e.columnDef.sortDescFirst)?n:t.options.sortDescFirst)?s:"desc"===e.getAutoSortDir())?"desc":"asc"},e.getNextSortingOrder=s=>{var n,r;const a=e.getFirstSortDir(),l=e.getIsSorted();return l?!!(l===a||null!=(n=t.options.enableSortingRemoval)&&!n||s&&null!=(r=t.options.enableMultiRemove)&&!r)&&("desc"===l?"asc":"desc"):a},e.getCanSort=()=>{var s,n;return(null==(s=e.columnDef.enableSorting)||s)&&(null==(n=t.options.enableSorting)||n)&&!!e.accessorFn},e.getCanMultiSort=()=>{var s,n;return null!=(s=null!=(n=e.columnDef.enableMultiSort)?n:t.options.enableMultiSort)?s:!!e.accessorFn},e.getIsSorted=()=>{var s;const n=null==(s=t.getState().sorting)?void 0:s.find(t=>t.id===e.id);return!!n&&(n.desc?"desc":"asc")},e.getSortIndex=()=>{var s,n;return null!=(s=null==(n=t.getState().sorting)?void 0:n.findIndex(t=>t.id===e.id))?s:-1},e.clearSorting=()=>{t.setSorting(t=>null!=t&&t.length?t.filter(t=>t.id!==e.id):[])},e.getToggleSortingHandler=()=>{const s=e.getCanSort();return n=>{s&&(null==n.persist||n.persist(),null==e.toggleSorting||e.toggleSorting(void 0,!!e.getCanMultiSort()&&(null==t.options.isMultiSortEvent?void 0:t.options.isMultiSortEvent(n))))}}},createTable:e=>{e.setSorting=t=>null==e.options.onSortingChange?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var s,n;e.setSorting(t?[]:null!=(s=null==(n=e.initialState)?void 0:n.sorting)?s:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},dd,{getInitialState:e=>o({expanded:{}},e),getDefaultOptions:e=>({onExpandedChange:Vc("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,s=!1;e._autoResetExpanded=()=>{var n,r;if(t){if(null!=(n=null!=(r=e.options.autoResetAll)?r:e.options.autoResetExpanded)?n:!e.options.manualExpanding){if(s)return;s=!0,e._queue(()=>{e.resetExpanded(),s=!1})}}else e._queue(()=>{t=!0})},e.setExpanded=t=>null==e.options.onExpandedChange?void 0:e.options.onExpandedChange(t),e.toggleAllRowsExpanded=t=>{(null!=t?t:!e.getIsAllRowsExpanded())?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=t=>{var s,n;e.setExpanded(t?{}:null!=(s=null==(n=e.initialState)?void 0:n.expanded)?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(e=>e.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>t=>{null==t.persist||t.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const t=e.getState().expanded;return!0===t||Object.values(t).some(Boolean)},e.getIsAllRowsExpanded=()=>{const t=e.getState().expanded;return"boolean"==typeof t?!0===t:!!Object.keys(t).length&&!e.getRowModel().flatRows.some(e=>!e.getIsExpanded())},e.getExpandedDepth=()=>{let t=0;return(!0===e.getState().expanded?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(e=>{const s=e.split(".");t=Math.max(t,s.length)}),t},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=s=>{t.setExpanded(n=>{var r,a;const l=!0===n||!(null==n||!n[e.id]);let i={};if(!0===n?Object.keys(t.getRowModel().rowsById).forEach(e=>{i[e]=!0}):i=n,s=null!=(a=s)?a:!l,!l&&s)return c(o({},i),{[e.id]:!0});if(l&&!s){const t=i,{[r=e.id]:s}=t;return u(t,[d(r)])}return n})},e.getIsExpanded=()=>{var s;const n=t.getState().expanded;return!!(null!=(s=null==t.options.getIsRowExpanded?void 0:t.options.getIsRowExpanded(e))?s:!0===n||(null==n?void 0:n[e.id]))},e.getCanExpand=()=>{var s,n,r;return null!=(s=null==t.options.getRowCanExpand?void 0:t.options.getRowCanExpand(e))?s:(null==(n=t.options.enableExpanding)||n)&&!(null==(r=e.subRows)||!r.length)},e.getIsAllParentsExpanded=()=>{let s=!0,n=e;for(;s&&n.parentId;)n=t.getRow(n.parentId,!0),s=n.getIsExpanded();return s},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},{getInitialState:e=>c(o({},e),{pagination:o(o({},{pageIndex:0,pageSize:10}),null==e?void 0:e.pagination)}),getDefaultOptions:e=>({onPaginationChange:Vc("pagination",e)}),createTable:e=>{let t=!1,s=!1;e._autoResetPageIndex=()=>{var n,r;if(t){if(null!=(n=null!=(r=e.options.autoResetAll)?r:e.options.autoResetPageIndex)?n:!e.options.manualPagination){if(s)return;s=!0,e._queue(()=>{e.resetPageIndex(),s=!1})}}else e._queue(()=>{t=!0})},e.setPagination=t=>null==e.options.onPaginationChange?void 0:e.options.onPaginationChange(e=>Oc(t,e)),e.resetPagination=t=>{var s;e.setPagination(t?{pageIndex:0,pageSize:10}:null!=(s=e.initialState.pagination)?s:{pageIndex:0,pageSize:10})},e.setPageIndex=t=>{e.setPagination(s=>{let n=Oc(t,s.pageIndex);const r=void 0===e.options.pageCount||-1===e.options.pageCount?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return n=Math.max(0,Math.min(n,r)),c(o({},s),{pageIndex:n})})},e.resetPageIndex=t=>{var s,n;e.setPageIndex(t?0:null!=(s=null==(n=e.initialState)||null==(n=n.pagination)?void 0:n.pageIndex)?s:0)},e.resetPageSize=t=>{var s,n;e.setPageSize(t?10:null!=(s=null==(n=e.initialState)||null==(n=n.pagination)?void 0:n.pageSize)?s:10)},e.setPageSize=t=>{e.setPagination(e=>{const s=Math.max(1,Oc(t,e.pageSize)),n=e.pageSize*e.pageIndex,r=Math.floor(n/s);return c(o({},e),{pageIndex:r,pageSize:s})})},e.setPageCount=t=>e.setPagination(s=>{var n;let r=Oc(t,null!=(n=e.options.pageCount)?n:-1);return"number"==typeof r&&(r=Math.max(-1,r)),c(o({},s),{pageCount:r})}),e.getPageOptions=Bc(()=>[e.getPageCount()],e=>{let t=[];return e&&e>0&&(t=[...new Array(e)].fill(null).map((e,t)=>t)),t},$c(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:t}=e.getState().pagination,s=e.getPageCount();return-1===s||0!==s&&t<s-1},e.previousPage=()=>e.setPageIndex(e=>e-1),e.nextPage=()=>e.setPageIndex(e=>e+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var t;return null!=(t=e.options.pageCount)?t:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var t;return null!=(t=e.options.rowCount)?t:e.getPrePaginationRowModel().rows.length}}},{getInitialState:e=>o({rowPinning:{top:[],bottom:[]}},e),getDefaultOptions:e=>({onRowPinningChange:Vc("rowPinning",e)}),createRow:(e,t)=>{e.pin=(s,n,r)=>{const a=n?e.getLeafRows().map(e=>{let{id:t}=e;return t}):[],l=r?e.getParentRows().map(e=>{let{id:t}=e;return t}):[],i=new Set([...l,e.id,...a]);t.setRowPinning(e=>{var t,n,r,a,l,o;return"bottom"===s?{top:(null!=(r=null==e?void 0:e.top)?r:[]).filter(e=>!(null!=i&&i.has(e))),bottom:[...(null!=(a=null==e?void 0:e.bottom)?a:[]).filter(e=>!(null!=i&&i.has(e))),...Array.from(i)]}:"top"===s?{top:[...(null!=(l=null==e?void 0:e.top)?l:[]).filter(e=>!(null!=i&&i.has(e))),...Array.from(i)],bottom:(null!=(o=null==e?void 0:e.bottom)?o:[]).filter(e=>!(null!=i&&i.has(e)))}:{top:(null!=(t=null==e?void 0:e.top)?t:[]).filter(e=>!(null!=i&&i.has(e))),bottom:(null!=(n=null==e?void 0:e.bottom)?n:[]).filter(e=>!(null!=i&&i.has(e)))}})},e.getCanPin=()=>{var s;const{enableRowPinning:n,enablePinning:r}=t.options;return"function"==typeof n?n(e):null==(s=null!=n?n:r)||s},e.getIsPinned=()=>{const s=[e.id],{top:n,bottom:r}=t.getState().rowPinning,a=s.some(e=>null==n?void 0:n.includes(e)),l=s.some(e=>null==r?void 0:r.includes(e));return a?"top":!!l&&"bottom"},e.getPinnedIndex=()=>{var s,n;const r=e.getIsPinned();if(!r)return-1;const a=null==(s="top"===r?t.getTopRows():t.getBottomRows())?void 0:s.map(e=>{let{id:t}=e;return t});return null!=(n=null==a?void 0:a.indexOf(e.id))?n:-1}},createTable:e=>{e.setRowPinning=t=>null==e.options.onRowPinningChange?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var s,n;return e.setRowPinning(t?{top:[],bottom:[]}:null!=(s=null==(n=e.initialState)?void 0:n.rowPinning)?s:{top:[],bottom:[]})},e.getIsSomeRowsPinned=t=>{var s;const n=e.getState().rowPinning;var r,a;return t?Boolean(null==(s=n[t])?void 0:s.length):Boolean((null==(r=n.top)?void 0:r.length)||(null==(a=n.bottom)?void 0:a.length))},e._getPinnedRows=(t,s,n)=>{var r;return(null==(r=e.options.keepPinnedRows)||r?(null!=s?s:[]).map(t=>{const s=e.getRow(t,!0);return s.getIsAllParentsExpanded()?s:null}):(null!=s?s:[]).map(e=>t.find(t=>t.id===e))).filter(Boolean).map(e=>c(o({},e),{position:n}))},e.getTopRows=Bc(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,s)=>e._getPinnedRows(t,s,"top"),$c(e.options,"debugRows")),e.getBottomRows=Bc(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,s)=>e._getPinnedRows(t,s,"bottom"),$c(e.options,"debugRows")),e.getCenterRows=Bc(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(e,t,s)=>{const n=new Set([...null!=t?t:[],...null!=s?s:[]]);return e.filter(e=>!n.has(e.id))},$c(e.options,"debugRows"))}},vd,xd];function Ed(e){var t,s;const n=[...Md,...null!=(t=e._features)?t:[]];let r={_features:n};const a=r._features.reduce((e,t)=>Object.assign(e,null==t.getDefaultOptions?void 0:t.getDefaultOptions(r)),{});let l=o(o({},{}),null!=(s=e.initialState)?s:{});r._features.forEach(e=>{var t;l=null!=(t=null==e.getInitialState?void 0:e.getInitialState(l))?t:l});const i=[];let c=!1;const d={_features:n,options:o(o({},a),e),initialState:l,_queue:e=>{i.push(e),c||(c=!0,Promise.resolve().then(()=>{for(;i.length;)i.shift()();c=!1}).catch(e=>setTimeout(()=>{throw e})))},reset:()=>{r.setState(r.initialState)},setOptions:e=>{const t=Oc(e,r.options);var s;r.options=(s=t,r.options.mergeOptions?r.options.mergeOptions(a,s):o(o({},a),s))},getState:()=>r.options.state,setState:e=>{null==r.options.onStateChange||r.options.onStateChange(e)},_getRowId:(e,t,s)=>{var n;return null!=(n=null==r.options.getRowId?void 0:r.options.getRowId(e,t,s))?n:`${s?[s.id,t].join("."):t}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(e,t)=>{let s=(t?r.getPrePaginationRowModel():r.getRowModel()).rowsById[e];if(!s&&(s=r.getCoreRowModel().rowsById[e],!s))throw new Error;return s},_getDefaultColumnDef:Bc(()=>[r.options.defaultColumn],e=>{var t;return e=null!=(t=e)?t:{},o(o({header:e=>{const t=e.header.column.columnDef;return t.accessorKey?t.accessorKey:t.accessorFn?t.id:null},cell:e=>{var t,s;return null!=(t=null==(s=e.renderValue())||null==s.toString?void 0:s.toString())?t:null}},r._features.reduce((e,t)=>Object.assign(e,null==t.getDefaultColumnDef?void 0:t.getDefaultColumnDef()),{})),e)},$c(e,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:Bc(()=>[r._getColumnDefs()],e=>{const t=function(e,s,n){return void 0===n&&(n=0),e.map(e=>{const a=function(e,t,s,n){var r,a;const l=e._getDefaultColumnDef(),i=o(o({},l),t),c=i.accessorKey;let d,u=null!=(r=null!=(a=i.id)?a:c?"function"==typeof String.prototype.replaceAll?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)?r:"string"==typeof i.header?i.header:void 0;if(i.accessorFn?d=i.accessorFn:c&&(d=c.includes(".")?e=>{let t=e;for(const n of c.split(".")){var s;t=null==(s=t)?void 0:s[n]}return t}:e=>e[i.accessorKey]),!u)throw new Error;let m={id:`${String(u)}`,accessorFn:d,parent:n,depth:s,columnDef:i,columns:[],getFlatColumns:Bc(()=>[!0],()=>{var e;return[m,...null==(e=m.columns)?void 0:e.flatMap(e=>e.getFlatColumns())]},$c(e.options,"debugColumns")),getLeafColumns:Bc(()=>[e._getOrderColumnsFn()],e=>{var t;return null!=(t=m.columns)&&t.length?e(m.columns.flatMap(e=>e.getLeafColumns())):[m]},$c(e.options,"debugColumns"))};for(const o of e._features)null==o.createColumn||o.createColumn(m,e);return m}(r,e,n,s),l=e;return a.columns=l.columns?t(l.columns,a,n+1):[],a})};return t(e)},$c(e,"debugColumns")),getAllFlatColumns:Bc(()=>[r.getAllColumns()],e=>e.flatMap(e=>e.getFlatColumns()),$c(e,"debugColumns")),_getAllFlatColumnsById:Bc(()=>[r.getAllFlatColumns()],e=>e.reduce((e,t)=>(e[t.id]=t,e),{}),$c(e,"debugColumns")),getAllLeafColumns:Bc(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(e,t)=>t(e.flatMap(e=>e.getLeafColumns())),$c(e,"debugColumns")),getColumn:e=>r._getAllFlatColumnsById()[e]};Object.assign(r,d);for(let o=0;o<r._features.length;o++){const e=r._features[o];null==e||null==e.createTable||e.createTable(r)}return r}function Fd(e,t,s){return s.options.filterFromLeafRows?function(e,t,s){var n;const r=[],a={},l=null!=(n=s.options.maxLeafRowFilterDepth)?n:100,i=function(e,n){void 0===n&&(n=0);const o=[];for(let d=0;d<e.length;d++){var c;let u=e[d];const m=Kc(s,u.id,u.original,u.index,u.depth,0,u.parentId);if(m.columnFilters=u.columnFilters,null!=(c=u.subRows)&&c.length&&n<l){if(m.subRows=i(u.subRows,n+1),u=m,t(u)&&!m.subRows.length){o.push(u),a[u.id]=u,r.push(u);continue}if(t(u)||m.subRows.length){o.push(u),a[u.id]=u,r.push(u);continue}}else u=m,t(u)&&(o.push(u),a[u.id]=u,r.push(u))}return o};return{rows:i(e),flatRows:r,rowsById:a}}(e,t,s):function(e,t,s){var n;const r=[],a={},l=null!=(n=s.options.maxLeafRowFilterDepth)?n:100,i=function(e,n){void 0===n&&(n=0);const o=[];for(let d=0;d<e.length;d++){let u=e[d];if(t(u)){var c;if(null!=(c=u.subRows)&&c.length&&n<l){const e=Kc(s,u.id,u.original,u.index,u.depth,0,u.parentId);e.subRows=i(u.subRows,n+1),u=e}o.push(u),r.push(u),a[u.id]=u}}return o};return{rows:i(e),flatRows:r,rowsById:a}}(e,t,s)}
/**
       * react-table
       *
       * Copyright (c) TanStack
       *
       * This source code is licensed under the MIT license found in the
       * LICENSE.md file in the root directory of this source tree.
       *
       * @license MIT
       */
function Pd(e,t){return e?function(e){return"function"==typeof e&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}(s=e)||"function"==typeof s||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(s)?me.createElement(e,t):e:null;var s}function Dd(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:x.jsx("table",o({"data-slot":"table",className:ir("w-full caption-bottom text-sm",s)},n))})}function Ad(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("thead",o({"data-slot":"table-header",className:ir("[&_tr]:border-b",s)},n))}function Rd(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("tbody",o({"data-slot":"table-body",className:ir("[&_tr:last-child]:border-0",s)},n))}function Id(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("tr",o({"data-slot":"table-row",className:ir("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s)},n))}function Td(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("th",o({"data-slot":"table-head",className:ir("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s)},n))}function Ld(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("td",o({"data-slot":"table-cell",className:ir("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s)},n))}var zd=[" ","Enter","ArrowUp","ArrowDown"],Od=[" ","Enter"],Vd="Select",[Ud,Bd,$d]=ne(Vd),[Hd,qd]=w(Vd,[$d,S]),Gd=S(),[Wd,Kd]=Hd(Vd),[Qd,Yd]=Hd(Vd),Xd=e=>{const{__scopeSelect:t,children:s,open:n,defaultOpen:r,onOpenChange:a,value:l,defaultValue:i,onValueChange:d,dir:u,name:m,autoComplete:h,disabled:f,required:p,form:g}=e,v=Gd(t),[j,y]=me.useState(null),[b,N]=me.useState(null),[_,w]=me.useState(!1),S=Y(u),[E,F]=C({prop:n,defaultProp:null!=r&&r,onChange:a,caller:Vd}),[P,D]=C({prop:l,defaultProp:i,onChange:d,caller:Vd}),A=me.useRef(null),R=!j||g||!!j.closest("form"),[I,T]=me.useState(new Set),L=Array.from(I).map(e=>e.props.value).join(";");return x.jsx(M,c(o({},v),{children:x.jsxs(Wd,{required:p,scope:t,trigger:j,onTriggerChange:y,valueNode:b,onValueNodeChange:N,valueNodeHasChildren:_,onValueNodeHasChildrenChange:w,contentId:k(),value:P,onValueChange:D,open:E,onOpenChange:F,dir:S,triggerPointerDownPosRef:A,disabled:f,children:[x.jsx(Ud.Provider,{scope:t,children:x.jsx(Qd,{scope:e.__scopeSelect,onNativeOptionAdd:me.useCallback(e=>{T(t=>new Set(t).add(e))},[]),onNativeOptionRemove:me.useCallback(e=>{T(t=>{const s=new Set(t);return s.delete(e),s})},[]),children:s})}),R?x.jsxs(Iu,{"aria-hidden":!0,required:p,tabIndex:-1,name:m,autoComplete:h,value:P,onChange:e=>D(e.target.value),disabled:f,form:g,children:[void 0===P?x.jsx("option",{value:""}):null,Array.from(I)]},L):null]})}))};Xd.displayName=Vd;var Jd="SelectTrigger",Zd=me.forwardRef((e,t)=>{const s=e,{__scopeSelect:n,disabled:r=!1}=s,a=u(s,["__scopeSelect","disabled"]),l=Gd(n),i=Kd(Jd,n),d=i.disabled||r,m=E(t,i.onTriggerChange),h=Bd(n),f=me.useRef("touch"),[g,v,j]=Lu(e=>{const t=h().filter(e=>!e.disabled),s=t.find(e=>e.value===i.value),n=zu(t,e,s);void 0!==n&&i.onValueChange(n.value)}),y=e=>{d||(i.onOpenChange(!0),j()),e&&(i.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return x.jsx(F,c(o({asChild:!0},l),{children:x.jsx(p.button,c(o({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":Tu(i.value)?"":void 0},a),{ref:m,onClick:P(a.onClick,e=>{e.currentTarget.focus(),"mouse"!==f.current&&y(e)}),onPointerDown:P(a.onPointerDown,e=>{f.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(y(e),e.preventDefault())}),onKeyDown:P(a.onKeyDown,e=>{const t=""!==g.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||v(e.key),t&&" "===e.key||zd.includes(e.key)&&(y(),e.preventDefault())})}))}))});Zd.displayName=Jd;var eu="SelectValue",tu=me.forwardRef((e,t)=>{const s=e,{__scopeSelect:n,className:r,style:a,children:l,placeholder:i=""}=s,d=u(s,["__scopeSelect","className","style","children","placeholder"]),m=Kd(eu,n),{onValueNodeHasChildrenChange:h}=m,f=void 0!==l,g=E(t,m.onValueNodeChange);return z(()=>{h(f)},[h,f]),x.jsx(p.span,c(o({},d),{ref:g,style:{pointerEvents:"none"},children:Tu(m.value)?x.jsx(x.Fragment,{children:i}):l}))});tu.displayName=eu;var su=me.forwardRef((e,t)=>{const s=e,{__scopeSelect:n,children:r}=s,a=u(s,["__scopeSelect","children"]);return x.jsx(p.span,c(o({"aria-hidden":!0},a),{ref:t,children:r||""}))});su.displayName="SelectIcon";var nu=e=>x.jsx(A,o({asChild:!0},e));nu.displayName="SelectPortal";var ru="SelectContent",au=me.forwardRef((e,t)=>{const s=Kd(ru,e.__scopeSelect),[n,r]=me.useState();if(z(()=>{r(new DocumentFragment)},[]),!s.open){const t=n;return t?ge.createPortal(x.jsx(iu,{scope:e.__scopeSelect,children:x.jsx(Ud.Slot,{scope:e.__scopeSelect,children:x.jsx("div",{children:e.children})})}),t):null}return x.jsx(du,c(o({},e),{ref:t}))});au.displayName=ru;var lu=10,[iu,ou]=Hd(ru),cu=Z("SelectContent.RemoveScroll"),du=me.forwardRef((e,t)=>{const s=e,{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:i,side:d,sideOffset:m,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:v,sticky:j,hideWhenDetached:y,avoidCollisions:b}=s,N=u(s,["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"]),_=Kd(ru,n),[w,S]=me.useState(null),[k,C]=me.useState(null),M=E(t,e=>S(e)),[F,D]=me.useState(null),[A,R]=me.useState(null),T=Bd(n),[L,z]=me.useState(!1),O=me.useRef(!1);me.useEffect(()=>{if(w)return X(w)},[w]),ee();const V=me.useCallback(e=>{const[t,...s]=T().map(e=>e.ref.current),[n]=s.slice(-1),r=document.activeElement;for(const a of e){if(a===r)return;if(null==a||a.scrollIntoView({block:"nearest"}),a===t&&k&&(k.scrollTop=0),a===n&&k&&(k.scrollTop=k.scrollHeight),null==a||a.focus(),document.activeElement!==r)return}},[T,k]),U=me.useCallback(()=>V([F,w]),[V,F,w]);me.useEffect(()=>{L&&U()},[L,U]);const{onOpenChange:B,triggerPointerDownPosRef:$}=_;me.useEffect(()=>{if(w){let e={x:0,y:0};const t=t=>{var s,n,r,a;e={x:Math.abs(Math.round(t.pageX)-(null!=(n=null==(s=$.current)?void 0:s.x)?n:0)),y:Math.abs(Math.round(t.pageY)-(null!=(a=null==(r=$.current)?void 0:r.y)?a:0))}},s=s=>{e.x<=10&&e.y<=10?s.preventDefault():w.contains(s.target)||B(!1),document.removeEventListener("pointermove",t),$.current=null};return null!==$.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",s,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",s,{capture:!0})}}},[w,B,$]),me.useEffect(()=>{const e=()=>B(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[B]);const[H,q]=Lu(e=>{const t=T().filter(e=>!e.disabled),s=t.find(e=>e.ref.current===document.activeElement),n=zu(t,e,s);n&&setTimeout(()=>n.ref.current.focus())}),G=me.useCallback((e,t,s)=>{const n=!O.current&&!s;(void 0!==_.value&&_.value===t||n)&&(D(e),n&&(O.current=!0))},[_.value]),W=me.useCallback(()=>null==w?void 0:w.focus(),[w]),K=me.useCallback((e,t,s)=>{const n=!O.current&&!s;(void 0!==_.value&&_.value===t||n)&&R(e)},[_.value]),Q="popper"===r?mu:uu,Y=Q===mu?{side:d,sideOffset:m,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:v,sticky:j,hideWhenDetached:y,avoidCollisions:b}:{};return x.jsx(iu,{scope:n,content:w,viewport:k,onViewportChange:C,itemRefCallback:G,selectedItem:F,onItemLeave:W,itemTextRefCallback:K,focusSelectedItem:U,selectedItemText:A,position:r,isPositioned:L,searchRef:H,children:x.jsx(J,{as:cu,allowPinchZoom:!0,children:x.jsx(te,{asChild:!0,trapped:_.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:P(a,e=>{var t;null==(t=_.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:x.jsx(I,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:x.jsx(Q,c(o(o({role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:e=>e.preventDefault()},N),Y),{onPlaced:()=>z(!0),ref:M,style:o({display:"flex",flexDirection:"column",outline:"none"},N.style),onKeyDown:P(N.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||q(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=T().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const s=e.target,n=t.indexOf(s);t=t.slice(n+1)}setTimeout(()=>V(t)),e.preventDefault()}})}))})})})})});du.displayName="SelectContentImpl";var uu=me.forwardRef((e,t)=>{const s=e,{__scopeSelect:n,onPlaced:r}=s,a=u(s,["__scopeSelect","onPlaced"]),l=Kd(ru,n),i=ou(ru,n),[d,m]=me.useState(null),[h,f]=me.useState(null),g=E(t,e=>f(e)),v=Bd(n),j=me.useRef(!1),y=me.useRef(!0),{viewport:b,selectedItem:N,selectedItemText:_,focusSelectedItem:w}=i,S=me.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&h&&b&&N&&_){const e=l.trigger.getBoundingClientRect(),t=h.getBoundingClientRect(),s=l.valueNode.getBoundingClientRect(),n=_.getBoundingClientRect();if("rtl"!==l.dir){const r=n.left-t.left,a=s.left-r,l=e.left-a,i=e.width+l,o=Math.max(i,t.width),c=window.innerWidth-lu,u=Hl(a,[lu,Math.max(lu,c-o)]);d.style.minWidth=i+"px",d.style.left=u+"px"}else{const r=t.right-n.right,a=window.innerWidth-s.right-r,l=window.innerWidth-e.right-a,i=e.width+l,o=Math.max(i,t.width),c=window.innerWidth-lu,u=Hl(a,[lu,Math.max(lu,c-o)]);d.style.minWidth=i+"px",d.style.right=u+"px"}const a=v(),i=window.innerHeight-2*lu,o=b.scrollHeight,c=window.getComputedStyle(h),u=parseInt(c.borderTopWidth,10),m=parseInt(c.paddingTop,10),x=parseInt(c.borderBottomWidth,10),f=u+m+o+parseInt(c.paddingBottom,10)+x,p=Math.min(5*N.offsetHeight,f),g=window.getComputedStyle(b),y=parseInt(g.paddingTop,10),w=parseInt(g.paddingBottom,10),S=e.top+e.height/2-lu,k=i-S,C=N.offsetHeight/2,M=u+m+(N.offsetTop+C),E=f-M;if(M<=S){const e=a.length>0&&N===a[a.length-1].ref.current;d.style.bottom="0px";const t=h.clientHeight-b.offsetTop-b.offsetHeight,s=M+Math.max(k,C+(e?w:0)+t+x);d.style.height=s+"px"}else{const e=a.length>0&&N===a[0].ref.current;d.style.top="0px";const t=Math.max(S,u+b.offsetTop+(e?y:0)+C)+E;d.style.height=t+"px",b.scrollTop=M-S+b.offsetTop}d.style.margin=`${lu}px 0`,d.style.minHeight=p+"px",d.style.maxHeight=i+"px",null==r||r(),requestAnimationFrame(()=>j.current=!0)}},[v,l.trigger,l.valueNode,d,h,b,N,_,l.dir,r]);z(()=>S(),[S]);const[k,C]=me.useState();z(()=>{h&&C(window.getComputedStyle(h).zIndex)},[h]);const M=me.useCallback(e=>{e&&!0===y.current&&(S(),null==w||w(),y.current=!1)},[S,w]);return x.jsx(hu,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:j,onScrollButtonChange:M,children:x.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:x.jsx(p.div,c(o({},a),{ref:g,style:o({boxSizing:"border-box",maxHeight:"100%"},a.style)}))})})});uu.displayName="SelectItemAlignedPosition";var mu=me.forwardRef((e,t)=>{const s=e,{__scopeSelect:n,align:r="start",collisionPadding:a=lu}=s,l=u(s,["__scopeSelect","align","collisionPadding"]),i=Gd(n);return x.jsx(T,c(o(o({},i),l),{ref:t,align:r,collisionPadding:a,style:o(o({boxSizing:"border-box"},l.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});mu.displayName="SelectPopperPosition";var[hu,xu]=Hd(ru,{}),fu="SelectViewport",pu=me.forwardRef((e,t)=>{const s=e,{__scopeSelect:n,nonce:r}=s,a=u(s,["__scopeSelect","nonce"]),l=ou(fu,n),i=xu(fu,n),d=E(t,l.onViewportChange),m=me.useRef(0);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),x.jsx(Ud.Slot,{scope:n,children:x.jsx(p.div,c(o({"data-radix-select-viewport":"",role:"presentation"},a),{ref:d,style:o({position:"relative",flex:1,overflow:"hidden auto"},a.style),onScroll:P(a.onScroll,e=>{const t=e.currentTarget,{contentWrapper:s,shouldExpandOnScrollRef:n}=i;if((null==n?void 0:n.current)&&s){const e=Math.abs(m.current-t.scrollTop);if(e>0){const n=window.innerHeight-2*lu,r=parseFloat(s.style.minHeight),a=parseFloat(s.style.height),l=Math.max(r,a);if(l<n){const r=l+e,a=Math.min(n,r),i=r-a;s.style.height=a+"px","0px"===s.style.bottom&&(t.scrollTop=i>0?i:0,s.style.justifyContent="flex-end")}}}m.current=t.scrollTop})}))})]})});pu.displayName=fu;var gu="SelectGroup",[vu,ju]=Hd(gu);me.forwardRef((e,t)=>{const s=e,{__scopeSelect:n}=s,r=u(s,["__scopeSelect"]),a=k();return x.jsx(vu,{scope:n,id:a,children:x.jsx(p.div,c(o({role:"group","aria-labelledby":a},r),{ref:t}))})}).displayName=gu;var yu="SelectLabel";me.forwardRef((e,t)=>{const s=e,{__scopeSelect:n}=s,r=u(s,["__scopeSelect"]),a=ju(yu,n);return x.jsx(p.div,c(o({id:a.id},r),{ref:t}))}).displayName=yu;var bu="SelectItem",[Nu,_u]=Hd(bu),wu=me.forwardRef((e,t)=>{const s=e,{__scopeSelect:n,value:r,disabled:a=!1,textValue:l}=s,i=u(s,["__scopeSelect","value","disabled","textValue"]),d=Kd(bu,n),m=ou(bu,n),h=d.value===r,[f,g]=me.useState(null!=l?l:""),[v,j]=me.useState(!1),y=E(t,e=>{var t;return null==(t=m.itemRefCallback)?void 0:t.call(m,e,r,a)}),b=k(),N=me.useRef("touch"),_=()=>{a||(d.onValueChange(r),d.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.jsx(Nu,{scope:n,value:r,disabled:a,textId:b,isSelected:h,onItemTextChange:me.useCallback(e=>{g(t=>{var s;return t||(null!=(s=null==e?void 0:e.textContent)?s:"").trim()})},[]),children:x.jsx(Ud.ItemSlot,{scope:n,value:r,disabled:a,textValue:f,children:x.jsx(p.div,c(o({role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},i),{ref:y,onFocus:P(i.onFocus,()=>j(!0)),onBlur:P(i.onBlur,()=>j(!1)),onClick:P(i.onClick,()=>{"mouse"!==N.current&&_()}),onPointerUp:P(i.onPointerUp,()=>{"mouse"===N.current&&_()}),onPointerDown:P(i.onPointerDown,e=>{N.current=e.pointerType}),onPointerMove:P(i.onPointerMove,e=>{var t;N.current=e.pointerType,a?null==(t=m.onItemLeave)||t.call(m):"mouse"===N.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:P(i.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null==(t=m.onItemLeave)||t.call(m))}),onKeyDown:P(i.onKeyDown,e=>{var t;""!==(null==(t=m.searchRef)?void 0:t.current)&&" "===e.key||(Od.includes(e.key)&&_()," "===e.key&&e.preventDefault())})}))})})});wu.displayName=bu;var Su="SelectItemText",ku=me.forwardRef((e,t)=>{const s=e,{__scopeSelect:n,className:r,style:a}=s,l=u(s,["__scopeSelect","className","style"]),i=Kd(Su,n),d=ou(Su,n),m=_u(Su,n),h=Yd(Su,n),[f,g]=me.useState(null),v=E(t,e=>g(e),m.onItemTextChange,e=>{var t;return null==(t=d.itemTextRefCallback)?void 0:t.call(d,e,m.value,m.disabled)}),j=null==f?void 0:f.textContent,y=me.useMemo(()=>x.jsx("option",{value:m.value,disabled:m.disabled,children:j},m.value),[m.disabled,m.value,j]),{onNativeOptionAdd:b,onNativeOptionRemove:N}=h;return z(()=>(b(y),()=>N(y)),[b,N,y]),x.jsxs(x.Fragment,{children:[x.jsx(p.span,c(o({id:m.textId},l),{ref:v})),m.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ge.createPortal(l.children,i.valueNode):null]})});ku.displayName=Su;var Cu="SelectItemIndicator",Mu=me.forwardRef((e,t)=>{const s=e,{__scopeSelect:n}=s,r=u(s,["__scopeSelect"]);return _u(Cu,n).isSelected?x.jsx(p.span,c(o({"aria-hidden":!0},r),{ref:t})):null});Mu.displayName=Cu;var Eu="SelectScrollUpButton",Fu=me.forwardRef((e,t)=>{const s=ou(Eu,e.__scopeSelect),n=xu(Eu,e.__scopeSelect),[r,a]=me.useState(!1),l=E(t,n.onScrollButtonChange);return z(()=>{if(s.viewport&&s.isPositioned){let e=function(){const e=t.scrollTop>0;a(e)};const t=s.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),r?x.jsx(Au,c(o({},e),{ref:l,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=s;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});Fu.displayName=Eu;var Pu="SelectScrollDownButton",Du=me.forwardRef((e,t)=>{const s=ou(Pu,e.__scopeSelect),n=xu(Pu,e.__scopeSelect),[r,a]=me.useState(!1),l=E(t,n.onScrollButtonChange);return z(()=>{if(s.viewport&&s.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,s=Math.ceil(t.scrollTop)<e;a(s)};const t=s.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),r?x.jsx(Au,c(o({},e),{ref:l,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=s;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});Du.displayName=Pu;var Au=me.forwardRef((e,t)=>{const s=e,{__scopeSelect:n,onAutoScroll:r}=s,a=u(s,["__scopeSelect","onAutoScroll"]),l=ou("SelectScrollButton",n),i=me.useRef(null),d=Bd(n),m=me.useCallback(()=>{null!==i.current&&(window.clearInterval(i.current),i.current=null)},[]);return me.useEffect(()=>()=>m(),[m]),z(()=>{var e;const t=d().find(e=>e.ref.current===document.activeElement);null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})},[d]),x.jsx(p.div,c(o({"aria-hidden":!0},a),{ref:t,style:o({flexShrink:0},a.style),onPointerDown:P(a.onPointerDown,()=>{null===i.current&&(i.current=window.setInterval(r,50))}),onPointerMove:P(a.onPointerMove,()=>{var e;null==(e=l.onItemLeave)||e.call(l),null===i.current&&(i.current=window.setInterval(r,50))}),onPointerLeave:P(a.onPointerLeave,()=>{m()})}))});me.forwardRef((e,t)=>{const s=e,{__scopeSelect:n}=s,r=u(s,["__scopeSelect"]);return x.jsx(p.div,c(o({"aria-hidden":!0},r),{ref:t}))}).displayName="SelectSeparator";var Ru="SelectArrow";me.forwardRef((e,t)=>{const s=e,{__scopeSelect:n}=s,r=u(s,["__scopeSelect"]),a=Gd(n),l=Kd(Ru,n),i=ou(Ru,n);return l.open&&"popper"===i.position?x.jsx(R,c(o(o({},a),r),{ref:t})):null}).displayName=Ru;var Iu=me.forwardRef((e,t)=>{var s=e,{__scopeSelect:n,value:r}=s,a=u(s,["__scopeSelect","value"]);const l=me.useRef(null),i=E(t,l),d=hc(r);return me.useEffect(()=>{const e=l.current;if(!e)return;const t=window.HTMLSelectElement.prototype,s=Object.getOwnPropertyDescriptor(t,"value").set;if(d!==r&&s){const t=new Event("change",{bubbles:!0});s.call(e,r),e.dispatchEvent(t)}},[d,r]),x.jsx(p.select,c(o({},a),{style:o(o({},_r),a.style),ref:i,defaultValue:r}))});function Tu(e){return""===e||void 0===e}function Lu(e){const t=Q(e),s=me.useRef(""),n=me.useRef(0),r=me.useCallback(e=>{const r=s.current+e;t(r),function e(t){s.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(r)},[t]),a=me.useCallback(()=>{s.current="",window.clearTimeout(n.current)},[]);return me.useEffect(()=>()=>window.clearTimeout(n.current),[]),[s,r,a]}function zu(e,t,s){const n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,r=s?e.indexOf(s):-1;let a=(l=e,i=Math.max(r,0),l.map((e,t)=>l[(i+t)%l.length]));var l,i;1===n.length&&(a=a.filter(e=>e!==s));const o=a.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return o!==s?o:void 0}Iu.displayName="SelectBubbleInput";var Ou=Xd,Vu=Zd,Uu=tu,Bu=su,$u=nu,Hu=au,qu=pu,Gu=wu,Wu=ku,Ku=Mu,Qu=Fu,Yu=Du;function Xu(e){var t=u(e,[]);return x.jsx(Ou,o({"data-slot":"select"},t))}function Ju(e){var t=u(e,[]);return x.jsx(Uu,o({"data-slot":"select-value"},t))}function Zu(e){var t=e,{className:s,size:n="default",children:r}=t,a=u(t,["className","size","children"]);return x.jsxs(Vu,c(o({"data-slot":"select-trigger","data-size":n,className:ir("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s)},a),{children:[r,x.jsx(Bu,{asChild:!0,children:x.jsx(zt,{className:"size-4 opacity-50"})})]}))}function em(e){var t=e,{className:s,children:n,position:r="popper"}=t,a=u(t,["className","children","position"]);return x.jsx($u,{children:x.jsxs(Hu,c(o({"data-slot":"select-content",className:ir("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r},a),{children:[x.jsx(sm,{}),x.jsx(qu,{className:ir("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),x.jsx(nm,{})]}))})}function tm(e){var t=e,{className:s,children:n}=t,r=u(t,["className","children"]);return x.jsxs(Gu,c(o({"data-slot":"select-item",className:ir("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s)},r),{children:[x.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:x.jsx(Ku,{children:x.jsx(Lt,{className:"size-4"})})}),x.jsx(Wu,{children:n})]}))}function sm(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(Qu,c(o({"data-slot":"select-scroll-up-button",className:ir("flex cursor-default items-center justify-center py-1",s)},n),{children:x.jsx(Ut,{className:"size-4"})}))}function nm(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(Yu,c(o({"data-slot":"select-scroll-down-button",className:ir("flex cursor-default items-center justify-center py-1",s)},n),{children:x.jsx(zt,{className:"size-4"})}))}function rm({table:e,showRowSelection:t=!1}){const s=e.getState().pagination||{pageIndex:0,pageSize:10},n=s.pageIndex||0,r=s.pageSize||10,a=Math.max(1,e.getPageCount()||1),l=e.getFilteredRowModel().rows.length,i=l>0?n*r+1:0,o=Math.min((n+1)*r,l),c=l>0&&a>1;return x.jsxs("div",{className:"flex items-center justify-between px-2",children:[x.jsx("div",{className:"text-muted-foreground flex-1 text-sm",children:t?x.jsxs(x.Fragment,{children:[e.getFilteredSelectedRowModel().rows.length," of ",l," row(s) selected."]}):x.jsx(x.Fragment,{children:l>0?x.jsxs(x.Fragment,{children:["Showing ",i," to ",o," of ",l," row(s)."]}):x.jsx(x.Fragment,{children:"No rows to display."})})}),c&&x.jsxs("div",{className:"flex items-center space-x-6 lg:space-x-8",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("p",{className:"text-sm font-medium",children:"Rows per page"}),x.jsxs(Xu,{value:`${r}`,onValueChange:t=>{e.setPageSize(Number(t))},children:[x.jsx(Zu,{className:"h-8 w-[70px]",children:x.jsx(Ju,{placeholder:r})}),x.jsx(em,{side:"top",children:[5,10,15,20,25,30,40,50,100].map(e=>x.jsx(tm,{value:`${e}`,children:e},e))})]})]}),x.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",n+1," of ",a]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsxs(cr,{variant:"outline",size:"icon",className:"hidden size-8 lg:flex",onClick:()=>e.setPageIndex(0),disabled:!e.getCanPreviousPage(),children:[x.jsx("span",{className:"sr-only",children:"Go to first page"}),x.jsx(Bt,{})]}),x.jsxs(cr,{variant:"outline",size:"icon",className:"size-8",onClick:()=>e.previousPage(),disabled:!e.getCanPreviousPage(),children:[x.jsx("span",{className:"sr-only",children:"Go to previous page"}),x.jsx(Ot,{})]}),x.jsxs(cr,{variant:"outline",size:"icon",className:"size-8",onClick:()=>e.nextPage(),disabled:!e.getCanNextPage(),children:[x.jsx("span",{className:"sr-only",children:"Go to next page"}),x.jsx(Vt,{})]}),x.jsxs(cr,{variant:"outline",size:"icon",className:"hidden size-8 lg:flex",onClick:()=>e.setPageIndex(a-1),disabled:!e.getCanNextPage(),children:[x.jsx("span",{className:"sr-only",children:"Go to last page"}),x.jsx($t,{})]})]})]})]})}function am({table:e}){return x.jsxs(Xa,{children:[x.jsx(re,{asChild:!0,children:x.jsxs(cr,{variant:"outline",size:"sm",className:"ml-auto hidden h-8 lg:flex",children:[x.jsx(Ds,{}),"View"]})}),x.jsxs(Za,{align:"end",className:"w-[150px]",children:[x.jsx(nl,{children:"Toggle columns"}),x.jsx(rl,{}),e.getAllColumns().filter(e=>void 0!==e.accessorFn&&e.getCanHide()).map(e=>x.jsx(sl,{className:"capitalize",checked:e.getIsVisible(),onCheckedChange:t=>e.toggleVisibility(!!t),children:e.id},e.id))]})]})}function lm({columns:e,data:t,searchPlaceholder:s="Search...",title:n,description:r,showSearch:a=!0,showViewOptions:l=!0,showPagination:i=!0,showRowSelection:d=!1,pageSize:u=15,emptyState:m,onRowClick:h,globalFilter:f,onGlobalFilterChange:p,onRowSelectionChange:g,selectedRows:v,rowSelectionKey:j,loading:y=!1,actions:b,filters:N,className:_}){var w;const[S,k]=me.useState([]),[C,M]=me.useState([]),[E,F]=me.useState({}),[P,D]=me.useState({}),[A,R]=me.useState(""),[I,T]=me.useState({pageIndex:0,pageSize:u}),L=v&&j?v.reduce((e,s)=>{const n=t.findIndex(e=>e[j]===s);return-1!==n&&(e[n]=!0),e},{}):P,z=void 0!==f?f:A,O=p||R,V=function(e){const t=o({state:{},onStateChange:()=>{},renderFallbackValue:null},e),[s]=me.useState(()=>({current:Ed(t)})),[n,r]=me.useState(()=>s.current.initialState);return s.current.setOptions(t=>c(o(o({},t),e),{state:o(o({},n),e.state),onStateChange:t=>{r(t),null==e.onStateChange||e.onStateChange(t)}})),s.current}({data:t,columns:e,onSortingChange:k,onColumnFiltersChange:M,getCoreRowModel:e=>Bc(()=>[e.options.data],t=>{const s={rows:[],flatRows:[],rowsById:{}},n=function(t,r,a){void 0===r&&(r=0);const l=[];for(let o=0;o<t.length;o++){const c=Kc(e,e._getRowId(t[o],o,a),t[o],o,r,0,null==a?void 0:a.id);var i;s.flatRows.push(c),s.rowsById[c.id]=c,l.push(c),e.options.getSubRows&&(c.originalSubRows=e.options.getSubRows(t[o],o),null!=(i=c.originalSubRows)&&i.length&&(c.subRows=n(c.originalSubRows,r+1,c)))}return l};return s.rows=n(t),s},$c(e.options,"debugTable",0,()=>e._autoResetPageIndex())),getPaginationRowModel:e=>Bc(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(t,s)=>{if(!s.rows.length)return s;const{pageSize:n,pageIndex:r}=t;let{rows:a,flatRows:l,rowsById:i}=s;const o=n*r,c=o+n;let d;a=a.slice(o,c),d=e.options.paginateExpandedRows?{rows:a,flatRows:l,rowsById:i}:function(e){const t=[],s=e=>{var n;t.push(e),null!=(n=e.subRows)&&n.length&&e.getIsExpanded()&&e.subRows.forEach(s)};return e.rows.forEach(s),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}({rows:a,flatRows:l,rowsById:i}),d.flatRows=[];const u=e=>{d.flatRows.push(e),e.subRows.length&&e.subRows.forEach(u)};return d.rows.forEach(u),d},$c(e.options,"debugTable")),getSortedRowModel:e=>Bc(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,s)=>{if(!s.rows.length||null==t||!t.length)return s;const n=e.getState().sorting,r=[],a=n.filter(t=>{var s;return null==(s=e.getColumn(t.id))?void 0:s.getCanSort()}),l={};a.forEach(t=>{const s=e.getColumn(t.id);s&&(l[t.id]={sortUndefined:s.columnDef.sortUndefined,invertSorting:s.columnDef.invertSorting,sortingFn:s.getSortingFn()})});const i=e=>{const t=e.map(e=>o({},e));return t.sort((e,t)=>{for(let n=0;n<a.length;n+=1){var s;const r=a[n],i=l[r.id],o=i.sortUndefined,c=null!=(s=null==r?void 0:r.desc)&&s;let d=0;if(o){const s=void 0===e.getValue(r.id),n=void 0===t.getValue(r.id);if(s||n){if("first"===o)return s?-1:1;if("last"===o)return s?1:-1;d=s&&n?0:s?o:-o}}if(0===d&&(d=i.sortingFn(e,t,r.id)),0!==d)return c&&(d*=-1),i.invertSorting&&(d*=-1),d}return e.index-t.index}),t.forEach(e=>{var t;r.push(e),null!=(t=e.subRows)&&t.length&&(e.subRows=i(e.subRows))}),t};return{rows:i(s.rows),flatRows:r,rowsById:s.rowsById}},$c(e.options,"debugTable",0,()=>e._autoResetPageIndex())),getFilteredRowModel:e=>Bc(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,s,n)=>{if(!t.rows.length||(null==s||!s.length)&&!n){for(let e=0;e<t.flatRows.length;e++)t.flatRows[e].columnFilters={},t.flatRows[e].columnFiltersMeta={};return t}const r=[],a=[];(null!=s?s:[]).forEach(t=>{var s;const n=e.getColumn(t.id);if(!n)return;const a=n.getFilterFn();a&&r.push({id:t.id,filterFn:a,resolvedValue:null!=(s=null==a.resolveFilterValue?void 0:a.resolveFilterValue(t.value))?s:t.value})});const l=(null!=s?s:[]).map(e=>e.id),i=e.getGlobalFilterFn(),o=e.getAllLeafColumns().filter(e=>e.getCanGlobalFilter());let c,d;n&&i&&o.length&&(l.push("__global__"),o.forEach(e=>{var t;a.push({id:e.id,filterFn:i,resolvedValue:null!=(t=null==i.resolveFilterValue?void 0:i.resolveFilterValue(n))?t:n})}));for(let e=0;e<t.flatRows.length;e++){const s=t.flatRows[e];if(s.columnFilters={},r.length)for(let e=0;e<r.length;e++){c=r[e];const t=c.id;s.columnFilters[t]=c.filterFn(s,t,c.resolvedValue,e=>{s.columnFiltersMeta[t]=e})}if(a.length){for(let e=0;e<a.length;e++){d=a[e];const t=d.id;if(d.filterFn(s,t,d.resolvedValue,e=>{s.columnFiltersMeta[t]=e})){s.columnFilters.__global__=!0;break}}!0!==s.columnFilters.__global__&&(s.columnFilters.__global__=!1)}}return Fd(t.rows,e=>{for(let t=0;t<l.length;t++)if(!1===e.columnFilters[l[t]])return!1;return!0},e)},$c(e.options,"debugTable",0,()=>e._autoResetPageIndex())),onColumnVisibilityChange:F,onRowSelectionChange:g&&j?e=>{const s="function"==typeof e?e(L):e,n=Object.keys(s).map(e=>{const s=parseInt(e);return t[s][j]}).filter(Boolean);g(n)}:D,onGlobalFilterChange:O,onPaginationChange:T,state:{sorting:S,columnFilters:C,columnVisibility:E,rowSelection:L,globalFilter:z,pagination:I},globalFilterFn:"includesString",manualPagination:!1}),U=x.jsx("div",{className:"flex items-center justify-center py-8",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"mx-auto h-12 w-12 text-muted-foreground mb-4",children:x.jsx(rs,{className:"h-12 w-12"})}),x.jsx("h3",{className:"text-sm font-semibold",children:"No data found"}),x.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"No records match your current filters."})]})});return x.jsxs("div",{className:_,children:[(a||N||b)&&x.jsxs(To,{className:"mb-6",children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(rs,{className:"h-5 w-5"}),"Search & Filters"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"flex items-center gap-4",children:[a&&x.jsxs("div",{className:"relative flex-1 max-w-sm",children:[x.jsx(Es,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),x.jsx(dr,{placeholder:s,value:null!=z?z:"",onChange:e=>O(e.target.value),className:"pl-10"})]}),N&&x.jsx("div",{className:"flex-1",children:N}),l&&x.jsx(am,{table:V}),b&&x.jsx("div",{className:"flex items-center gap-2",children:b})]})})]}),x.jsxs(To,{children:[x.jsxs(Lo,{children:[x.jsxs(zo,{children:[n||"Data Table"," (",V.getFilteredRowModel().rows.length," total)"]}),r&&x.jsx("p",{className:"text-sm text-muted-foreground",children:r})]}),x.jsxs(Vo,{children:[y?x.jsx("div",{className:"flex items-center justify-center py-8",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mb-4"}),x.jsx("h3",{className:"text-sm font-semibold",children:"Loading..."}),x.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Please wait while we fetch the data."})]})}):0===V.getFilteredRowModel().rows.length?m||U:x.jsx("div",{className:"rounded-md border",children:x.jsxs(Dd,{children:[x.jsx(Ad,{children:V.getHeaderGroups().map(e=>x.jsx(Id,{children:e.headers.map(e=>x.jsx(Td,{children:e.isPlaceholder?null:Pd(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),x.jsx(Rd,{children:(null==(w=V.getRowModel().rows)?void 0:w.length)?V.getRowModel().rows.map(e=>x.jsx(Id,{"data-state":e.getIsSelected()&&"selected",onClick:()=>null==h?void 0:h(e.original),className:h?"cursor-pointer hover:bg-muted/50":"",children:e.getVisibleCells().map(e=>x.jsx(Ld,{children:Pd(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):x.jsx(Id,{children:x.jsx(Ld,{colSpan:e.length,className:"h-24 text-center",children:"No results."})})})]})}),i&&x.jsx("div",{className:"flex items-center justify-end space-x-2 py-4",children:x.jsx(rm,{table:V,showRowSelection:d})})]})]})]})}var im="AlertDialog",[om,cm]=w(im,[ae]),dm=ae(),um=e=>{const t=e,{__scopeAlertDialog:s}=t,n=u(t,["__scopeAlertDialog"]),r=dm(s);return x.jsx(g,c(o(o({},r),n),{modal:!0}))};um.displayName=im;var mm=me.forwardRef((e,t)=>{const s=e,{__scopeAlertDialog:n}=s,r=u(s,["__scopeAlertDialog"]),a=dm(n);return x.jsx(le,c(o(o({},a),r),{ref:t}))});mm.displayName="AlertDialogTrigger";var hm=e=>{const t=e,{__scopeAlertDialog:s}=t,n=u(t,["__scopeAlertDialog"]),r=dm(s);return x.jsx(N,o(o({},r),n))};hm.displayName="AlertDialogPortal";var xm=me.forwardRef((e,t)=>{const s=e,{__scopeAlertDialog:n}=s,r=u(s,["__scopeAlertDialog"]),a=dm(n);return x.jsx(_,c(o(o({},a),r),{ref:t}))});xm.displayName="AlertDialogOverlay";var fm="AlertDialogContent",[pm,gm]=om(fm),vm=L("AlertDialogContent"),jm=me.forwardRef((e,t)=>{const s=e,{__scopeAlertDialog:n,children:r}=s,a=u(s,["__scopeAlertDialog","children"]),l=dm(n),i=me.useRef(null),d=E(t,i),m=me.useRef(null);return x.jsx(ie,{contentName:fm,titleName:ym,docsSlug:"alert-dialog",children:x.jsx(pm,{scope:n,cancelRef:m,children:x.jsxs(v,c(o(o({role:"alertdialog"},l),a),{ref:d,onOpenAutoFocus:P(a.onOpenAutoFocus,e=>{var t;e.preventDefault(),null==(t=m.current)||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[x.jsx(vm,{children:r}),x.jsx(Cm,{contentRef:i})]}))})})});jm.displayName=fm;var ym="AlertDialogTitle",bm=me.forwardRef((e,t)=>{const s=e,{__scopeAlertDialog:n}=s,r=u(s,["__scopeAlertDialog"]),a=dm(n);return x.jsx(y,c(o(o({},a),r),{ref:t}))});bm.displayName=ym;var Nm="AlertDialogDescription",_m=me.forwardRef((e,t)=>{const s=e,{__scopeAlertDialog:n}=s,r=u(s,["__scopeAlertDialog"]),a=dm(n);return x.jsx(b,c(o(o({},a),r),{ref:t}))});_m.displayName=Nm;var wm=me.forwardRef((e,t)=>{const s=e,{__scopeAlertDialog:n}=s,r=u(s,["__scopeAlertDialog"]),a=dm(n);return x.jsx(j,c(o(o({},a),r),{ref:t}))});wm.displayName="AlertDialogAction";var Sm="AlertDialogCancel",km=me.forwardRef((e,t)=>{const s=e,{__scopeAlertDialog:n}=s,r=u(s,["__scopeAlertDialog"]),{cancelRef:a}=gm(Sm,n),l=dm(n),i=E(t,a);return x.jsx(j,c(o(o({},l),r),{ref:i}))});km.displayName=Sm;var Cm=({contentRef:e})=>{const t=`\`${fm}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${fm}\` by passing a \`${Nm}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${fm}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return me.useEffect(()=>{var s;document.getElementById(null==(s=e.current)?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Mm=um,Em=mm,Fm=hm,Pm=xm,Dm=jm,Am=wm,Rm=km,Im=bm,Tm=_m;function Lm(e){var t=u(e,[]);return x.jsx(Mm,o({"data-slot":"alert-dialog"},t))}function zm(e){var t=u(e,[]);return x.jsx(Em,o({"data-slot":"alert-dialog-trigger"},t))}function Om(e){var t=u(e,[]);return x.jsx(Fm,o({"data-slot":"alert-dialog-portal"},t))}function Vm(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(Pm,o({"data-slot":"alert-dialog-overlay",className:ir("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s)},n))}function Um(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsxs(Om,{children:[x.jsx(Vm,{}),x.jsx(Dm,o({"data-slot":"alert-dialog-content",className:ir("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s)},n))]})}function Bm(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("div",o({"data-slot":"alert-dialog-header",className:ir("flex flex-col gap-2 text-center sm:text-left",s)},n))}function $m(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("div",o({"data-slot":"alert-dialog-footer",className:ir("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s)},n))}function Hm(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(Im,o({"data-slot":"alert-dialog-title",className:ir("text-lg font-semibold",s)},n))}function qm(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(Tm,o({"data-slot":"alert-dialog-description",className:ir("text-muted-foreground text-sm",s)},n))}function Gm(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(Am,o({className:ir(or(),s)},n))}function Wm(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(Rm,o({className:ir(or({variant:"outline"}),s)},n))}function Km({children:e,column:t,icon:s}){return x.jsxs(cr,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:[s&&x.jsx("span",{className:"mr-2",children:s}),e,x.jsx(Ft,{className:"ml-2 h-4 w-4"})]})}function Qm(){return{accessorKey:"id",header:({column:e})=>x.jsx(Km,{column:e,children:"ID"}),cell:({row:e})=>x.jsx($l,{variant:"secondary",children:e.getValue("id")})}}function Ym(){return{accessorKey:"created_at",header:({column:e})=>x.jsx(Km,{column:e,icon:x.jsx(It,{className:"h-4 w-4"}),children:"Created At"}),cell:({row:e})=>{const t=new Date(e.getValue("created_at"));return x.jsx("span",{className:"text-sm text-muted-foreground",children:t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})}}}function Xm({onEdit:e,onDelete:t,editPath:s,deleteConfirmMessage:n="Are you sure you want to delete this record? This action cannot be undone."}){return{id:"actions",header:"Actions",cell:({row:r})=>{const a=r.original;return x.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e&&x.jsx(cr,{variant:"ghost",size:"icon",onClick:()=>e(a),children:x.jsx(zs,{className:"h-4 w-4"})}),s&&x.jsx(fe,{to:s(a),children:x.jsx(cr,{variant:"ghost",size:"icon",children:x.jsx(zs,{className:"h-4 w-4"})})}),t&&x.jsxs(Lm,{children:[x.jsx(zm,{asChild:!0,children:x.jsx(cr,{variant:"ghost",size:"icon",children:x.jsx(Us,{className:"h-4 w-4"})})}),x.jsxs(Um,{children:[x.jsxs(Bm,{children:[x.jsx(Hm,{children:"Delete Record"}),x.jsx(qm,{children:n})]}),x.jsxs($m,{children:[x.jsx(Wm,{children:"Cancel"}),x.jsx(Gm,{onClick:()=>t(a),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})}}}const Jm={getUsers(){return h(this,null,function*(){return Ho.get("/users")})},getUserById(e){return h(this,null,function*(){return Ho.get(`/users/${e}`)})},createUser(e){return h(this,null,function*(){return Ho.post("/users",e)})},updateUser(e,t){return h(this,null,function*(){return Ho.put(`/users/${e}`,t)})},deleteUser(e){return h(this,null,function*(){return Ho.delete(`/users/${e}`)})}},Zm=[{title:"User Management",href:"#"},{title:"Users",href:"/users"}];function eh(){const{token:e}=dt(),[t,s]=me.useState([]),[n,r]=me.useState(!0),[a,l]=me.useState(""),i=me.useCallback(()=>h(null,null,function*(){try{r(!0);const e=(yield Jm.getUsers()).users.map(e=>c(o({},e),{id:e.id,created_at:e.created_at,updated_at:e.updated_at}));s(e)}catch(e){console.error("Error fetching users:",e),Ze.error("Failed to fetch users")}finally{r(!1)}}),[]);me.useEffect(()=>{i()},[i]);const d=me.useMemo(()=>t.filter(e=>e.firstname&&e.firstname.toLowerCase().includes(a.toLowerCase())||e.lastname&&e.lastname.toLowerCase().includes(a.toLowerCase())||e.username&&e.username.toLowerCase().includes(a.toLowerCase())||e.email&&e.email.toLowerCase().includes(a.toLowerCase())),[t,a]),u=me.useCallback(e=>h(null,null,function*(){try{yield Jm.deleteUser(e.id),Ze.success("User deleted successfully"),i()}catch(t){console.error("Error deleting user:",t),Ze.error("Failed to delete user")}}),[i]),m=me.useMemo(()=>[{accessorKey:"firstname",header:"First Name",cell:({row:e})=>x.jsx("div",{className:"font-medium",children:e.getValue("firstname")})},{accessorKey:"lastname",header:"Last Name",cell:({row:e})=>x.jsx("div",{className:"font-medium",children:e.getValue("lastname")})},{accessorKey:"username",header:"Username",cell:({row:e})=>e.getValue("username")},{accessorKey:"email",header:"Email",cell:({row:e})=>e.getValue("email")},{accessorKey:"role",header:"Role",cell:({row:e})=>{const t=e.getValue("role");return x.jsx($l,{variant:"outline",className:"text-xs",children:t})}},{accessorKey:"is_active",header:"Status",cell:({row:e})=>{const t=e.getValue("is_active");return x.jsx($l,{variant:t?"default":"secondary",className:"text-xs",children:t?"Active":"Inactive"})}},Ym(),Xm({onDelete:u,editPath:e=>`/users/${e.id}/edit`,deleteConfirmMessage:"Are you sure you want to delete this user?"})],[u]);return x.jsx(Do,{breadcrumbs:Zm,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Users"}),x.jsx("p",{className:"text-muted-foreground",children:"Manage system users and their permissions"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(cr,{variant:"ghost",size:"sm",onClick:i,disabled:n,children:x.jsx(Ss,{className:"h-4 w-4 "+(n?"animate-spin":"")})}),x.jsx(fe,{to:"/users/create",children:x.jsxs(cr,{children:[x.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Add User"]})})]})]}),x.jsx("div",{className:"flex items-center gap-4",children:x.jsxs("div",{className:"relative flex-1 max-w-sm",children:[x.jsx(Es,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),x.jsx(dr,{placeholder:"Search users...",value:a,onChange:e=>l(e.target.value),className:"pl-8"})]})}),x.jsx(lm,{columns:m,data:d,title:"Users",description:`Showing ${d.length} users`,showSearch:!1,showViewOptions:!1,showPagination:!0,pageSize:10})]})})}const th=[{title:"User Management",href:"#"},{title:"Users",href:"/users"},{title:"Details",href:"#"}];function sh(){const{id:e}=ve(),[t,s]=me.useState(null),[n,r]=me.useState(!0);return me.useEffect(()=>{h(null,null,function*(){if(e)try{r(!0);const t=yield Jm.getUserById(parseInt(e));s(t.user)}catch(t){console.error("Error fetching user:",t),Ze.error("Failed to fetch user")}finally{r(!1)}})},[e]),n?x.jsx(Do,{breadcrumbs:th,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading user..."})]})})})}):t?x.jsx(Do,{breadcrumbs:th,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(fe,{to:"/users",children:x.jsxs(cr,{variant:"outline",size:"sm",children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Users"]})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"User Details"}),x.jsxs("p",{className:"text-muted-foreground",children:["User ID: ",t.id]})]})]}),x.jsx(fe,{to:`/users/${t.id}/edit`,children:x.jsxs(cr,{children:[x.jsx(zs,{className:"mr-2 h-4 w-4"}),"Edit User"]})})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Gs,{className:"h-5 w-5"}),"User Information"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"First Name"}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx(Gs,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"text-sm font-medium",children:t.firstname})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Name"}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx(Gs,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"text-sm font-medium",children:t.lastname})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Username"}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx(Ws,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"text-sm",children:t.username})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx(hs,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"text-sm",children:t.email})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),x.jsx("div",{className:"mt-1",children:x.jsx($l,{variant:t.is_active?"default":"secondary",children:t.is_active?"Active":"Inactive"})})]}),x.jsx(fr,{}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx(It,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"text-sm",children:new Date(t.created_at).toLocaleString()})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Updated At"}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx(It,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"text-sm",children:new Date(t.updated_at).toLocaleString()})]})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Rs,{className:"h-5 w-5"}),"Role Information"]})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Role"}),x.jsx("div",{className:"mt-2",children:x.jsx($l,{variant:"outline",className:"text-sm",children:t.role})})]})})]})]})]})}):x.jsx(Do,{breadcrumbs:th,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Gs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"User Not Found"}),x.jsx("p",{className:"text-muted-foreground mb-4",children:"The user you're looking for doesn't exist."}),x.jsx(fe,{to:"/users",children:x.jsxs(cr,{variant:"outline",children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Users"]})})]})})})})}const nh=[{title:"User Management",href:"#"},{title:"Users",href:"/users"},{title:"Create User",href:"#"}],rh=[{value:"admin",label:"Administrator"},{value:"manager",label:"Manager"},{value:"operator",label:"Operator"},{value:"user",label:"User"}];function ah(){const e=pe(),[t,s]=me.useState(!1),[n,r]=me.useState(!1),[a,l]=me.useState({username:"",firstname:"",lastname:"",email:"",password:"",role:"user"}),[i,d]=me.useState({}),u=(e,t)=>{l(s=>c(o({},s),{[e]:t})),i[e]&&d(t=>c(o({},t),{[e]:""}))};return t?x.jsx(Do,{breadcrumbs:nh,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading roles..."})]})})})}):x.jsx(Do,{breadcrumbs:nh,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-x-auto",children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs(cr,{variant:"ghost",onClick:()=>e("/users"),className:"p-0",children:[x.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back to Users"]}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create User"}),x.jsx("p",{className:"text-muted-foreground",children:"Add a new user to the system"})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Gs,{className:"h-5 w-5"}),"User Information"]})}),x.jsx(Vo,{children:x.jsxs("form",{onSubmit:t=>h(null,null,function*(){t.preventDefault(),r(!0),d({});try{yield Jm.createUser(a),Ze.success("User created successfully"),e("/users")}catch(s){console.error("Error creating user:",s),s.errors&&d(s.errors),Ze.error("Failed to create user")}finally{r(!1)}}),className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"firstname",children:"First Name"}),x.jsx(dr,{id:"firstname",value:a.firstname,onChange:e=>u("firstname",e.target.value),className:i.firstname?"border-red-500":"",required:!0}),i.firstname&&x.jsx("p",{className:"text-sm text-red-500",children:i.firstname})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"lastname",children:"Last Name"}),x.jsx(dr,{id:"lastname",value:a.lastname,onChange:e=>u("lastname",e.target.value),className:i.lastname?"border-red-500":"",required:!0}),i.lastname&&x.jsx("p",{className:"text-sm text-red-500",children:i.lastname})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"username",children:"Username"}),x.jsx(dr,{id:"username",value:a.username,onChange:e=>u("username",e.target.value),className:i.username?"border-red-500":"",required:!0}),i.username&&x.jsx("p",{className:"text-sm text-red-500",children:i.username})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"email",children:"Email"}),x.jsx(dr,{id:"email",type:"email",value:a.email,onChange:e=>u("email",e.target.value),className:i.email?"border-red-500":"",required:!0}),i.email&&x.jsx("p",{className:"text-sm text-red-500",children:i.email})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"password",children:"Password"}),x.jsx(dr,{id:"password",type:"password",value:a.password,onChange:e=>u("password",e.target.value),className:i.password?"border-red-500":"",required:!0}),i.password&&x.jsx("p",{className:"text-sm text-red-500",children:i.password})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"password_confirmation",children:"Confirm Password"}),x.jsx(dr,{id:"password_confirmation",type:"password",value:a.password,onChange:e=>u("password",e.target.value),className:i.password?"border-red-500":"",required:!0}),i.password&&x.jsx("p",{className:"text-sm text-red-500",children:i.password})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs(Io,{className:"flex items-center gap-2",children:[x.jsx(Rs,{className:"h-4 w-4"}),"Roles"]}),x.jsxs(Xu,{onValueChange:e=>u("role",e),defaultValue:a.role,children:[x.jsx(Zu,{className:"w-[180px]",children:x.jsx(Ju,{placeholder:"Select a role"})}),x.jsx(em,{children:rh.map(e=>x.jsx(tm,{value:e.value,children:e.label},e.value))})]}),i.role&&x.jsx("p",{className:"text-sm text-red-500",children:i.role})]}),x.jsxs("div",{className:"flex justify-end space-x-4",children:[x.jsx(cr,{type:"button",variant:"outline",onClick:()=>e("/users"),disabled:n,children:"Cancel"}),x.jsxs(cr,{type:"submit",disabled:n,children:[x.jsx(Ms,{className:"mr-2 h-4 w-4"}),n?"Creating...":"Create User"]})]})]})})]})]})})}const lh=[{title:"User Management",href:"#"},{title:"Users",href:"/users"},{title:"Edit User",href:"#"}],ih=[{value:"admin",label:"Administrator"},{value:"manager",label:"Manager"},{value:"operator",label:"Operator"},{value:"user",label:"User"}];function oh(){const{id:e}=ve(),t=pe(),[s,n]=me.useState(null),[r,a]=me.useState(!0),[l,i]=me.useState(!1),[d,u]=me.useState({username:"",firstname:"",lastname:"",email:"",password:"",role:"",is_active:!0}),[m,f]=me.useState({});me.useEffect(()=>{h(null,null,function*(){if(e)try{a(!0);const t=(yield Jm.getUserById(parseInt(e))).user;n(t),u({username:t.username||"",firstname:t.firstname||"",lastname:t.lastname||"",email:t.email||"",role:t.role||"",is_active:t.is_active})}catch(t){console.error("Error fetching user:",t),Ze.error("Failed to fetch user data")}finally{a(!1)}})},[e]);const p=(e,t)=>{u(s=>c(o({},s),{[e]:t})),m[e]&&f(t=>c(o({},t),{[e]:""}))};return r?x.jsx(Do,{breadcrumbs:lh,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading user..."})]})})})}):s?x.jsx(Do,{breadcrumbs:lh,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-x-auto",children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs(cr,{variant:"ghost",onClick:()=>t("/users"),className:"p-0",children:[x.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back to Users"]}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit User"}),x.jsx("p",{className:"text-muted-foreground",children:"Update user information and roles"})]})]}),x.jsxs("form",{onSubmit:n=>h(null,null,function*(){if(n.preventDefault(),e){i(!0),f({});try{const n={};d.username!==(null==s?void 0:s.username)&&(n.username=d.username),d.firstname!==(null==s?void 0:s.firstname)&&(n.firstname=d.firstname),d.lastname!==(null==s?void 0:s.lastname)&&(n.lastname=d.lastname),d.email!==(null==s?void 0:s.email)&&(n.email=d.email),d.role!==(null==s?void 0:s.role)&&(n.role=d.role),d.is_active!==(null==s?void 0:s.is_active)&&(n.is_active=d.is_active),d.password&&""!==d.password.trim()&&d.password.trim().length>=6&&(n.password=d.password),yield Jm.updateUser(parseInt(e),n),Ze.success("User updated successfully"),t("/users")}catch(r){console.error("Error updating user:",r),r.errors&&f(r.errors),Ze.error("Failed to update user")}finally{i(!1)}}}),className:"space-y-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Gs,{className:"h-5 w-5"}),"User Information"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"firstname",children:"First Name"}),x.jsx(dr,{id:"firstname",value:d.firstname,onChange:e=>p("firstname",e.target.value),placeholder:"First name",required:!0}),m.firstname&&x.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.firstname})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"lastname",children:"Last Name"}),x.jsx(dr,{id:"lastname",value:d.lastname,onChange:e=>p("lastname",e.target.value),placeholder:"Last name",required:!0}),m.lastname&&x.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.lastname})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"username",children:"Username"}),x.jsx(dr,{id:"username",value:d.username,onChange:e=>p("username",e.target.value),placeholder:"Username",required:!0}),m.username&&x.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.username})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"email",children:"Email"}),x.jsx(dr,{id:"email",type:"email",value:d.email,onChange:e=>p("email",e.target.value),placeholder:"Email address",required:!0}),m.email&&x.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.email})]})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"password",children:"Password (leave blank to keep current)"}),x.jsx(dr,{id:"password",type:"password",value:d.password,onChange:e=>p("password",e.target.value),placeholder:"New password (optional, min 6 characters)"}),d.password&&""!==d.password.trim()&&d.password.trim().length<6&&x.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Password must be at least 6 characters long"}),m.password&&x.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.password})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"is_active",checked:d.is_active,onCheckedChange:e=>p("is_active",e)}),x.jsx(Io,{htmlFor:"is_active",children:"Active User"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Rs,{className:"h-5 w-5"}),"Role"]})}),x.jsxs(Vo,{children:[x.jsxs(Xu,{onValueChange:e=>p("role",e),value:d.role,children:[x.jsx(Zu,{className:"w-[180px]",children:x.jsx(Ju,{placeholder:"Select a role"})}),x.jsx(em,{children:ih.map(e=>x.jsx(tm,{value:e.value,children:e.label},e.value))})]}),m.role&&x.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.role})]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(cr,{type:"submit",disabled:l||d.password&&""!==d.password.trim()&&d.password.trim().length<6,children:l?"Saving...":"Save Changes"}),x.jsx(cr,{type:"button",variant:"outline",onClick:()=>t("/users"),disabled:l,children:"Cancel"})]})]})]})}):x.jsx(Do,{breadcrumbs:lh,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Gs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"User Not Found"}),x.jsx("p",{className:"text-muted-foreground mb-4",children:"The user you're looking for doesn't exist."}),x.jsxs(cr,{variant:"outline",onClick:()=>t("/users"),children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Users"]})]})})})})}const ch={getRoles(){return h(this,null,function*(){return Ho.get("/roles")})},deleteRole(e){return h(this,null,function*(){return Ho.delete(`/roles/${e}`)})}},dh=[{title:"User Management",href:"#"},{title:"Roles",href:"/roles"}];function uh(){const{token:e}=dt(),[t,s]=me.useState([]),[n,r]=me.useState(!0),[a,l]=me.useState(""),i=me.useCallback(()=>h(null,null,function*(){try{r(!0);const e=(yield ch.getRoles()).roles.map(e=>c(o({},e),{id:e.id,created_at:e.created_at,updated_at:e.updated_at}));s(e)}catch(e){console.error("Error fetching roles:",e),Ze.error("Failed to fetch roles")}finally{r(!1)}}),[]);me.useEffect(()=>{i()},[i]);const d=me.useMemo(()=>t.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())||e.description&&e.description.toLowerCase().includes(a.toLowerCase())),[t,a]),u=me.useCallback(e=>h(null,null,function*(){try{yield ch.deleteRole(e.id),Ze.success("Role deleted successfully"),i()}catch(t){console.error("Error deleting role:",t),Ze.error("Failed to delete role")}}),[i]),m=me.useMemo(()=>[{accessorKey:"name",header:"Name",cell:({row:e})=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Rs,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"font-medium",children:e.getValue("name")})]})},{accessorKey:"description",header:"Description",cell:({row:e})=>e.getValue("description")||"No description"},{accessorKey:"permissions",header:"Permissions",cell:({row:e})=>{const t=e.getValue("permissions");return x.jsxs("div",{className:"flex flex-wrap gap-1",children:[null==t?void 0:t.slice(0,3).map(e=>x.jsx($l,{variant:"outline",className:"text-xs",children:e.name},e.id)),(null==t?void 0:t.length)>3&&x.jsxs($l,{variant:"secondary",className:"text-xs",children:["+",t.length-3," more"]}),(!t||0===t.length)&&x.jsx("span",{className:"text-muted-foreground text-sm",children:"No permissions"})]})}},{accessorKey:"user_count",header:"Users",cell:({row:e})=>{const t=e.getValue("user_count");return x.jsxs($l,{variant:"secondary",className:"text-xs",children:[t||0," users"]})}},Ym(),Xm({onDelete:u,editPath:e=>`/roles/${e.id}/edit`,deleteConfirmMessage:"Are you sure you want to delete this role?"})],[u]);return x.jsx(Do,{breadcrumbs:dh,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Roles"}),x.jsx("p",{className:"text-muted-foreground",children:"Manage user roles and permissions"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(cr,{variant:"ghost",size:"sm",onClick:i,disabled:n,children:x.jsx(Ss,{className:"h-4 w-4 "+(n?"animate-spin":"")})}),x.jsx(fe,{to:"/roles/create",children:x.jsxs(cr,{children:[x.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Add Role"]})})]})]}),x.jsx("div",{className:"flex items-center gap-4",children:x.jsxs("div",{className:"relative flex-1 max-w-sm",children:[x.jsx(Es,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),x.jsx(dr,{placeholder:"Search roles...",value:a,onChange:e=>l(e.target.value),className:"pl-8"})]})}),x.jsx(lm,{columns:m,data:d,title:"Roles",description:`Showing ${d.length} roles`,showSearch:!1,showViewOptions:!1,showPagination:!0,pageSize:10})]})})}const mh=[{title:"User Management",href:"#"},{title:"Roles",href:"/roles"},{title:"Details",href:"#"}];function hh(){const{id:e}=ve(),{token:t}=dt(),[s,n]=me.useState(null),[r,a]=me.useState(!0);return me.useEffect(()=>{h(null,null,function*(){if(e)try{a(!0);const s=yield fetch(`/api/roles/${e}`,{headers:{Authorization:`Bearer ${t}`}});if(s.ok){const e=yield s.json();n(e.role||e)}else Ze.error("Failed to fetch role")}catch(s){console.error("Error fetching role:",s),Ze.error("Failed to fetch role")}finally{a(!1)}})},[e]),r?x.jsx(Do,{breadcrumbs:mh,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading role..."})]})})})}):s?x.jsx(Do,{breadcrumbs:mh,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(fe,{to:"/roles",children:x.jsxs(cr,{variant:"outline",size:"sm",children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Roles"]})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Role Details"}),x.jsxs("p",{className:"text-muted-foreground",children:["Role ID: ",s.id]})]})]}),x.jsx(fe,{to:`/roles/${s.id}/edit`,children:x.jsxs(cr,{children:[x.jsx(zs,{className:"mr-2 h-4 w-4"}),"Edit Role"]})})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Rs,{className:"h-5 w-5"}),"Role Information"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx(Rs,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"text-sm font-medium",children:s.name})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),x.jsx("p",{className:"text-sm",children:s.description||"No description"})]}),x.jsx(fr,{}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx(It,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"text-sm",children:new Date(s.created_at).toLocaleString()})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Updated At"}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx(It,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"text-sm",children:new Date(s.updated_at).toLocaleString()})]})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Ls,{className:"h-5 w-5"}),"Permissions & Users"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Permissions"}),x.jsx("div",{className:"mt-2",children:s.permissions.length>0?x.jsx("div",{className:"flex gap-2 flex-wrap",children:s.permissions.map(e=>x.jsx($l,{variant:"outline",children:e.name},e.id))}):x.jsx("p",{className:"text-sm text-muted-foreground",children:"No permissions assigned"})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Users with this Role"}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx(Ws,{className:"h-4 w-4 text-muted-foreground"}),void 0!==s.user_count?x.jsxs($l,{variant:"secondary",children:[s.user_count," users"]}):x.jsx("span",{className:"text-sm text-muted-foreground",children:"N/A"})]})]})]})]})]})]})}):x.jsx(Do,{breadcrumbs:mh,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Rs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Role Not Found"}),x.jsx("p",{className:"text-muted-foreground mb-4",children:"The role you're looking for doesn't exist."}),x.jsx(fe,{to:"/roles",children:x.jsxs(cr,{variant:"outline",children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Roles"]})})]})})})})}function xh(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("textarea",o({"data-slot":"textarea",className:ir("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s)},n))}const fh=[{title:"User Management",href:"#"},{title:"Roles",href:"/roles"},{title:"Create Role",href:"#"}];function ph(){const e=pe(),{token:t}=dt(),[s,n]=me.useState([]),[r,a]=me.useState(!0),[l,i]=me.useState(!1),[d,u]=me.useState({name:"",description:"",permission_ids:[]}),[m,f]=me.useState({});me.useEffect(()=>{h(null,null,function*(){try{a(!0);const e=yield fetch("/api/permissions",{headers:{Authorization:`Bearer ${t}`}});if(e.ok){const t=yield e.json();n(t.permissions||[])}else Ze.error("Failed to fetch permissions")}catch(e){console.error("Error fetching permissions:",e),Ze.error("Failed to fetch permissions")}finally{a(!1)}})},[]);const p=(e,t)=>{u(s=>c(o({},s),{[e]:t})),m[e]&&f(t=>c(o({},t),{[e]:""}))};return r?x.jsx(Do,{breadcrumbs:fh,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading permissions..."})]})})})}):x.jsx(Do,{breadcrumbs:fh,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-x-auto",children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs(cr,{variant:"ghost",onClick:()=>e("/roles"),className:"p-0",children:[x.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back to Roles"]}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Role"}),x.jsx("p",{className:"text-muted-foreground",children:"Create a new role with specific permissions"})]})]}),x.jsxs("form",{onSubmit:s=>h(null,null,function*(){s.preventDefault(),i(!0),f({});try{const s=yield fetch("/api/roles",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(d)});if(s.ok)Ze.success("Role created successfully"),e("/roles");else{const e=yield s.json();f(e.errors||{}),Ze.error("Failed to create role")}}catch(n){console.error("Error creating role:",n),Ze.error("Failed to create role")}finally{i(!1)}}),className:"space-y-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Rs,{className:"h-5 w-5"}),"Role Information"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"name",children:"Role Name"}),x.jsx(dr,{id:"name",value:d.name,onChange:e=>p("name",e.target.value),placeholder:"Enter role name",required:!0}),m.name&&x.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.name})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"description",children:"Description"}),x.jsx(xh,{id:"description",value:d.description,onChange:e=>p("description",e.target.value),placeholder:"Enter role description (optional)",rows:3}),m.description&&x.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.description})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Ls,{className:"h-5 w-5"}),"Permissions"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"space-y-3",children:[s.map(e=>x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:`permission-${e.id}`,checked:d.permission_ids.includes(e.id),onCheckedChange:t=>((e,t)=>{u(s=>c(o({},s),{permission_ids:t?[...s.permission_ids,e]:s.permission_ids.filter(t=>t!==e)}))})(e.id,t)}),x.jsx(Io,{htmlFor:`permission-${e.id}`,className:"flex-1",children:x.jsxs("div",{children:[x.jsx("div",{className:"font-medium",children:e.name}),e.description&&x.jsx("div",{className:"text-sm text-muted-foreground",children:e.description})]})})]},e.id)),0===s.length&&x.jsx("p",{className:"text-sm text-muted-foreground",children:"No permissions available"})]})})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(cr,{type:"submit",disabled:l,children:l?"Creating...":"Create Role"}),x.jsx(cr,{type:"button",variant:"outline",onClick:()=>e("/roles"),disabled:l,children:"Cancel"})]})]})]})})}const gh=[{title:"User Management",href:"#"},{title:"Roles",href:"/roles"},{title:"Edit Role",href:"#"}];function vh(){const{id:e}=ve(),t=pe(),{token:s}=dt(),[n,r]=me.useState(null),[a,l]=me.useState([]),[i,d]=me.useState(!0),[u,m]=me.useState(!1),[f,p]=me.useState({name:"",description:"",permission_ids:[]}),[g,v]=me.useState({});me.useEffect(()=>{h(null,null,function*(){var t;if(e)try{d(!0);const[n,a]=yield Promise.all([fetch(`/api/roles/${e}`,{headers:{Authorization:`Bearer ${s}`}}),fetch("/api/permissions",{headers:{Authorization:`Bearer ${s}`}})]);if(n.ok&&a.ok){const e=yield n.json(),s=yield a.json(),i=e.role||e;r(i),l(s.permissions||[]),p({name:i.name||"",description:i.description||"",permission_ids:(null==(t=i.permissions)?void 0:t.map(e=>e.id))||[]})}else Ze.error("Failed to fetch role data")}catch(n){console.error("Error fetching role:",n),Ze.error("Failed to fetch role data")}finally{d(!1)}})},[e]);const j=(e,t)=>{p(s=>c(o({},s),{[e]:t})),g[e]&&v(t=>c(o({},t),{[e]:""}))};return i?x.jsx(Do,{breadcrumbs:gh,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading role..."})]})})})}):n?x.jsx(Do,{breadcrumbs:gh,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-x-auto",children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs(cr,{variant:"ghost",onClick:()=>t("/roles"),className:"p-0",children:[x.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back to Roles"]}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Role"}),x.jsx("p",{className:"text-muted-foreground",children:"Update role information and permissions"})]})]}),x.jsxs("form",{onSubmit:n=>h(null,null,function*(){n.preventDefault(),m(!0),v({});try{const n=yield fetch(`/api/roles/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(f)});if(n.ok)Ze.success("Role updated successfully"),t("/roles");else{const e=yield n.json();v(e.errors||{}),Ze.error("Failed to update role")}}catch(r){console.error("Error updating role:",r),Ze.error("Failed to update role")}finally{m(!1)}}),className:"space-y-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Rs,{className:"h-5 w-5"}),"Role Information"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"name",children:"Role Name"}),x.jsx(dr,{id:"name",value:f.name,onChange:e=>j("name",e.target.value),placeholder:"Enter role name",required:!0}),g.name&&x.jsx("p",{className:"text-sm text-red-500 mt-1",children:g.name})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"description",children:"Description"}),x.jsx(xh,{id:"description",value:f.description,onChange:e=>j("description",e.target.value),placeholder:"Enter role description (optional)",rows:3}),g.description&&x.jsx("p",{className:"text-sm text-red-500 mt-1",children:g.description})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Ls,{className:"h-5 w-5"}),"Permissions"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"space-y-3",children:[a.map(e=>x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:`permission-${e.id}`,checked:f.permission_ids.includes(e.id),onCheckedChange:t=>((e,t)=>{p(s=>c(o({},s),{permission_ids:t?[...s.permission_ids,e]:s.permission_ids.filter(t=>t!==e)}))})(e.id,t)}),x.jsx(Io,{htmlFor:`permission-${e.id}`,className:"flex-1",children:x.jsxs("div",{children:[x.jsx("div",{className:"font-medium",children:e.name}),e.description&&x.jsx("div",{className:"text-sm text-muted-foreground",children:e.description})]})})]},e.id)),0===a.length&&x.jsx("p",{className:"text-sm text-muted-foreground",children:"No permissions available"})]})})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(cr,{type:"submit",disabled:u,children:u?"Saving...":"Save Changes"}),x.jsx(cr,{type:"button",variant:"outline",onClick:()=>t("/roles"),disabled:u,children:"Cancel"})]})]})]})}):x.jsx(Do,{breadcrumbs:gh,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Rs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Role Not Found"}),x.jsx("p",{className:"text-muted-foreground mb-4",children:"The role you're looking for doesn't exist."}),x.jsxs(cr,{variant:"outline",onClick:()=>t("/roles"),children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Roles"]})]})})})})}const jh={getPermissions(){return h(this,null,function*(){return Ho.get("/permissions")})},deletePermission(e){return h(this,null,function*(){return Ho.delete(`/permissions/${e}`)})}},yh=[{title:"User Management",href:"#"},{title:"Permissions",href:"/permissions"}];function bh(){const{token:e}=dt(),[t,s]=me.useState([]),[n,r]=me.useState(!0),[a,l]=me.useState(""),i=me.useCallback(()=>h(null,null,function*(){try{r(!0);const e=(yield jh.getPermissions()).permissions.map(e=>c(o({},e),{id:e.id,created_at:e.created_at,updated_at:e.updated_at}));s(e)}catch(e){console.error("Error fetching permissions:",e),Ze.error("Failed to fetch permissions")}finally{r(!1)}}),[]);me.useEffect(()=>{i()},[i]);const d=me.useMemo(()=>t.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())||e.description&&e.description.toLowerCase().includes(a.toLowerCase())),[t,a]),u=me.useCallback(e=>h(null,null,function*(){try{yield jh.deletePermission(e.id),Ze.success("Permission deleted successfully"),i()}catch(t){console.error("Error deleting permission:",t),Ze.error("Failed to delete permission")}}),[i]),m=me.useMemo(()=>[{accessorKey:"name",header:"Name",cell:({row:e})=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Rs,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"font-medium",children:e.getValue("name")})]})},{accessorKey:"description",header:"Description",cell:({row:e})=>e.getValue("description")||"No description"},{accessorKey:"role_count",header:"Roles",cell:({row:e})=>{const t=e.getValue("role_count");return x.jsxs($l,{variant:"secondary",className:"text-xs",children:[t||0," roles"]})}},Ym(),Xm({onDelete:u,editPath:e=>`/permissions/${e.id}/edit`,deleteConfirmMessage:"Are you sure you want to delete this permission?"})],[u]);return x.jsx(Do,{breadcrumbs:yh,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Permissions"}),x.jsx("p",{className:"text-muted-foreground",children:"Manage system permissions"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(cr,{variant:"ghost",size:"sm",onClick:i,disabled:n,children:x.jsx(Ss,{className:"h-4 w-4 "+(n?"animate-spin":"")})}),x.jsx(fe,{to:"/permissions/create",children:x.jsxs(cr,{children:[x.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Add Permission"]})})]})]}),x.jsx("div",{className:"flex items-center gap-4",children:x.jsxs("div",{className:"relative flex-1 max-w-sm",children:[x.jsx(Es,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),x.jsx(dr,{placeholder:"Search permissions...",value:a,onChange:e=>l(e.target.value),className:"pl-8"})]})}),x.jsx(lm,{columns:m,data:d,title:"Permissions",description:`Showing ${d.length} permissions`,showSearch:!1,showViewOptions:!1,showPagination:!0,pageSize:10})]})})}const Nh=[{title:"User Management",href:"#"},{title:"Permissions",href:"/permissions"},{title:"Details",href:"#"}];function _h(){const{id:e}=ve(),{token:t}=dt(),[s,n]=me.useState(null),[r,a]=me.useState(!0);return me.useEffect(()=>{h(null,null,function*(){if(e)try{a(!0);const s=yield fetch(`/api/permissions/${e}`,{headers:{Authorization:`Bearer ${t}`}});if(s.ok){const e=yield s.json();n(e.permission||e)}else Ze.error("Failed to fetch permission")}catch(s){console.error("Error fetching permission:",s),Ze.error("Failed to fetch permission")}finally{a(!1)}})},[e]),r?x.jsx(Do,{breadcrumbs:Nh,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading permission..."})]})})})}):s?x.jsx(Do,{breadcrumbs:Nh,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(fe,{to:"/permissions",children:x.jsxs(cr,{variant:"outline",size:"sm",children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Permissions"]})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Permission Details"}),x.jsxs("p",{className:"text-muted-foreground",children:["Permission ID: ",s.id]})]})]}),x.jsx(fe,{to:`/permissions/${s.id}/edit`,children:x.jsxs(cr,{children:[x.jsx(zs,{className:"mr-2 h-4 w-4"}),"Edit Permission"]})})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Rs,{className:"h-5 w-5"}),"Permission Information"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx(Rs,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"text-sm font-medium",children:s.name})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),x.jsx("p",{className:"text-sm",children:s.description||"No description"})]}),x.jsx(fr,{}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx(It,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"text-sm",children:new Date(s.created_at).toLocaleString()})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Updated At"}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx(It,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"text-sm",children:new Date(s.updated_at).toLocaleString()})]})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Ws,{className:"h-5 w-5"}),"Usage Information"]})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Roles with this Permission"}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx(Ws,{className:"h-4 w-4 text-muted-foreground"}),void 0!==s.role_count?x.jsxs($l,{variant:"secondary",children:[s.role_count," roles"]}):x.jsx("span",{className:"text-sm text-muted-foreground",children:"N/A"})]})]})})]})]})]})}):x.jsx(Do,{breadcrumbs:Nh,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Rs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Permission Not Found"}),x.jsx("p",{className:"text-muted-foreground mb-4",children:"The permission you're looking for doesn't exist."}),x.jsx(fe,{to:"/permissions",children:x.jsxs(cr,{variant:"outline",children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Permissions"]})})]})})})})}const wh=[{title:"User Management",href:"#"},{title:"Permissions",href:"/permissions"},{title:"Create Permission",href:"#"}];function Sh(){const e=pe(),{token:t}=dt(),[s,n]=me.useState(!1),[r,a]=me.useState({name:"",description:""}),[l,i]=me.useState({}),d=(e,t)=>{a(s=>c(o({},s),{[e]:t})),l[e]&&i(t=>c(o({},t),{[e]:""}))};return x.jsx(Do,{breadcrumbs:wh,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-x-auto",children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs(cr,{variant:"ghost",onClick:()=>e("/permissions"),className:"p-0",children:[x.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back to Permissions"]}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Permission"}),x.jsx("p",{className:"text-muted-foreground",children:"Create a new system permission"})]})]}),x.jsxs("form",{onSubmit:s=>h(null,null,function*(){s.preventDefault(),n(!0),i({});try{const s=yield fetch("/api/permissions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)});if(s.ok)Ze.success("Permission created successfully"),e("/permissions");else{const e=yield s.json();i(e.errors||{}),Ze.error("Failed to create permission")}}catch(a){console.error("Error creating permission:",a),Ze.error("Failed to create permission")}finally{n(!1)}}),className:"space-y-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Rs,{className:"h-5 w-5"}),"Permission Information"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"name",children:"Permission Name"}),x.jsx(dr,{id:"name",value:r.name,onChange:e=>d("name",e.target.value),placeholder:"Enter permission name (e.g., users.create)",required:!0}),l.name&&x.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.name})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"description",children:"Description"}),x.jsx(xh,{id:"description",value:r.description,onChange:e=>d("description",e.target.value),placeholder:"Enter permission description (optional)",rows:3}),l.description&&x.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.description})]})]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(cr,{type:"submit",disabled:s,children:s?"Creating...":"Create Permission"}),x.jsx(cr,{type:"button",variant:"outline",onClick:()=>e("/permissions"),disabled:s,children:"Cancel"})]})]})]})})}const kh=[{title:"User Management",href:"#"},{title:"Permissions",href:"/permissions"},{title:"Edit Permission",href:"#"}];function Ch(){const{id:e}=ve(),t=pe(),{token:s}=dt(),[n,r]=me.useState(null),[a,l]=me.useState(!0),[i,d]=me.useState(!1),[u,m]=me.useState({name:"",description:""}),[f,p]=me.useState({});me.useEffect(()=>{h(null,null,function*(){if(e)try{l(!0);const t=yield fetch(`/api/permissions/${e}`,{headers:{Authorization:`Bearer ${s}`}});if(t.ok){const e=yield t.json(),s=e.permission||e;r(s),m({name:s.name||"",description:s.description||""})}else Ze.error("Failed to fetch permission")}catch(t){console.error("Error fetching permission:",t),Ze.error("Failed to fetch permission")}finally{l(!1)}})},[e]);const g=(e,t)=>{m(s=>c(o({},s),{[e]:t})),f[e]&&p(t=>c(o({},t),{[e]:""}))};return a?x.jsx(Do,{breadcrumbs:kh,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading permission..."})]})})})}):n?x.jsx(Do,{breadcrumbs:kh,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-x-auto",children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs(cr,{variant:"ghost",onClick:()=>t("/permissions"),className:"p-0",children:[x.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back to Permissions"]}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Permission"}),x.jsx("p",{className:"text-muted-foreground",children:"Update permission information"})]})]}),x.jsxs("form",{onSubmit:n=>h(null,null,function*(){n.preventDefault(),d(!0),p({});try{const n=yield fetch(`/api/permissions/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(u)});if(n.ok)Ze.success("Permission updated successfully"),t("/permissions");else{const e=yield n.json();p(e.errors||{}),Ze.error("Failed to update permission")}}catch(r){console.error("Error updating permission:",r),Ze.error("Failed to update permission")}finally{d(!1)}}),className:"space-y-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Rs,{className:"h-5 w-5"}),"Permission Information"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"name",children:"Permission Name"}),x.jsx(dr,{id:"name",value:u.name,onChange:e=>g("name",e.target.value),placeholder:"Enter permission name (e.g., users.create)",required:!0}),f.name&&x.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.name})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"description",children:"Description"}),x.jsx(xh,{id:"description",value:u.description,onChange:e=>g("description",e.target.value),placeholder:"Enter permission description (optional)",rows:3}),f.description&&x.jsx("p",{className:"text-sm text-red-500 mt-1",children:f.description})]})]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(cr,{type:"submit",disabled:i,children:i?"Saving...":"Save Changes"}),x.jsx(cr,{type:"button",variant:"outline",onClick:()=>t("/permissions"),disabled:i,children:"Cancel"})]})]})]})}):x.jsx(Do,{breadcrumbs:kh,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Rs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Permission Not Found"}),x.jsx("p",{className:"text-muted-foreground mb-4",children:"The permission you're looking for doesn't exist."}),x.jsxs(cr,{variant:"outline",onClick:()=>t("/permissions"),children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Permissions"]})]})})})})}var Mh="Tabs",[Eh,Fh]=w(Mh,[oe]),Ph=oe(),[Dh,Ah]=Eh(Mh),Rh=me.forwardRef((e,t)=>{const s=e,{__scopeTabs:n,value:r,onValueChange:a,defaultValue:l,orientation:i="horizontal",dir:d,activationMode:m="automatic"}=s,h=u(s,["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"]),f=Y(d),[g,v]=C({prop:r,onChange:a,defaultProp:null!=l?l:"",caller:Mh});return x.jsx(Dh,{scope:n,baseId:k(),value:g,onValueChange:v,orientation:i,dir:f,activationMode:m,children:x.jsx(p.div,c(o({dir:f,"data-orientation":i},h),{ref:t}))})});Rh.displayName=Mh;var Ih="TabsList",Th=me.forwardRef((e,t)=>{const s=e,{__scopeTabs:n,loop:r=!0}=s,a=u(s,["__scopeTabs","loop"]),l=Ah(Ih,n),i=Ph(n);return x.jsx(ce,c(o({asChild:!0},i),{orientation:l.orientation,dir:l.dir,loop:r,children:x.jsx(p.div,c(o({role:"tablist","aria-orientation":l.orientation},a),{ref:t}))}))});Th.displayName=Ih;var Lh="TabsTrigger",zh=me.forwardRef((e,t)=>{const s=e,{__scopeTabs:n,value:r,disabled:a=!1}=s,l=u(s,["__scopeTabs","value","disabled"]),i=Ah(Lh,n),d=Ph(n),m=Uh(i.baseId,r),h=Bh(i.baseId,r),f=r===i.value;return x.jsx(de,c(o({asChild:!0},d),{focusable:!a,active:f,children:x.jsx(p.button,c(o({type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:m},l),{ref:t,onMouseDown:P(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(r)}),onKeyDown:P(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(r)}),onFocus:P(e.onFocus,()=>{const e="manual"!==i.activationMode;f||a||!e||i.onValueChange(r)})}))}))});zh.displayName=Lh;var Oh="TabsContent",Vh=me.forwardRef((e,t)=>{const s=e,{__scopeTabs:n,value:r,forceMount:a,children:l}=s,i=u(s,["__scopeTabs","value","forceMount","children"]),d=Ah(Oh,n),m=Uh(d.baseId,r),h=Bh(d.baseId,r),f=r===d.value,g=me.useRef(f);return me.useEffect(()=>{const e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),x.jsx(D,{present:a||f,children:({present:s})=>x.jsx(p.div,c(o({"data-state":f?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":m,hidden:!s,id:h,tabIndex:0},i),{ref:t,style:c(o({},e.style),{animationDuration:g.current?"0s":void 0}),children:s&&l}))})});function Uh(e,t){return`${e}-trigger-${t}`}function Bh(e,t){return`${e}-content-${t}`}Vh.displayName=Oh;var $h=Rh,Hh=Th,qh=zh,Gh=Vh;function Wh(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx($h,o({"data-slot":"tabs",className:ir("flex flex-col gap-2",s)},n))}function Kh(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(Hh,o({"data-slot":"tabs-list",className:ir("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s)},n))}function Qh(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(qh,o({"data-slot":"tabs-trigger",className:ir("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s)},n))}function Yh(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(Gh,o({"data-slot":"tabs-content",className:ir("flex-1 outline-none",s)},n))}const Xh=g,Jh=le,Zh=N,ex=me.forwardRef((e,t)=>{var s=e,{className:n}=s,r=u(s,["className"]);return x.jsx(_,o({ref:t,className:ir("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n)},r))});ex.displayName=_.displayName;const tx=me.forwardRef((e,t)=>{var s=e,{className:n,children:r}=s,a=u(s,["className","children"]);return x.jsxs(Zh,{children:[x.jsx(ex,{}),x.jsxs(v,c(o({ref:t,className:ir("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n)},a),{children:[r,x.jsxs(j,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[x.jsx(Xs,{className:"h-4 w-4"}),x.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})});tx.displayName=v.displayName;const sx=e=>{var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("div",o({className:ir("flex flex-col space-y-1.5 text-center sm:text-left",s)},n))};sx.displayName="DialogHeader";const nx=e=>{var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx("div",o({className:ir("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s)},n))};nx.displayName="DialogFooter";const rx=me.forwardRef((e,t)=>{var s=e,{className:n}=s,r=u(s,["className"]);return x.jsx(y,o({ref:t,className:ir("text-lg font-semibold leading-none tracking-tight",n)},r))});rx.displayName=y.displayName;const ax=me.forwardRef((e,t)=>{var s=e,{className:n}=s,r=u(s,["className"]);return x.jsx(b,o({ref:t,className:ir("text-sm text-muted-foreground",n)},r))});function lx({stats:e,loading:t=!1}){const s=[{title:"Total Devices",value:e.total||0,icon:Ts,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{title:"Active Devices",value:e.active||0,percentage:e.total>0?Math.round(e.active/e.total*100):0,icon:Gt,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},{title:"Inactive Devices",value:e.inactive||0,percentage:e.total>0?Math.round(e.inactive/e.total*100):0,icon:Kt,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"},{title:"Online Devices",value:e.online||0,percentage:e.total>0?Math.round(e.online/e.total*100):0,icon:Qs,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},{title:"Ready Devices",value:e.ready||0,percentage:e.total>0?Math.round(e.ready/e.total*100):0,icon:kt,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},{title:"Alarm Devices",value:e.alarm||0,percentage:e.total>0?Math.round(e.alarm/e.total*100):0,icon:$s,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"}];return x.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:s.map(e=>x.jsxs(To,{className:`border ${e.borderColor} ${t?"opacity-50":""} hover:shadow-md transition-all duration-200`,children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:e.title}),x.jsx("div",{className:`p-2 rounded-full ${e.bgColor}`,children:x.jsx(e.icon,{className:`h-4 w-4 ${e.color}`})})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold",children:t?x.jsx("div",{className:"h-8 w-12 bg-gray-200 rounded animate-pulse"}):x.jsx("span",{className:e.color,children:e.value})}),void 0!==e.percentage&&x.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t?x.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded animate-pulse"}):`${e.percentage}% of total`})]})]},e.title))})}function ix({globalFilter:e,setGlobalFilter:t,countrySiteFilter:s,setCountrySiteFilter:n,deviceGroupFilter:r,setDeviceGroupFilter:a,statusFilter:l,setStatusFilter:i,onlineFilter:o,setOnlineFilter:c,maintenanceFilter:d,setMaintenanceFilter:u,onClearFilters:m,onRefresh:h,onUpdateSmsLimits:f,countrySites:p,deviceGroups:g,loading:v=!1}){const j=e||"all"!==s||"all"!==r||"all"!==l||"all"!==o||"all"!==d;return x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(rs,{className:"h-5 w-5"}),"Device Filters",j&&x.jsxs(cr,{variant:"ghost",size:"sm",onClick:m,className:"h-6 px-2 text-xs",children:[x.jsx(Xs,{className:"h-3 w-3 mr-1"}),"Clear All"]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[f&&x.jsxs(cr,{variant:"outline",size:"sm",onClick:f,disabled:v,className:"text-green-600 border-green-300 hover:bg-green-50",children:[x.jsx(fs,{className:"h-4 w-4 mr-2"}),"Update SMS Limits"]}),x.jsxs(cr,{variant:"outline",size:"sm",onClick:h,disabled:v,className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[x.jsx(Ss,{className:"h-4 w-4 mr-2 "+(v?"animate-spin":"")}),"Refresh"]})]})]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Search"}),x.jsx(dr,{placeholder:"Search devices...",value:e,onChange:e=>t(e.target.value),className:"h-9"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Site Name"}),x.jsxs(Xu,{value:s,onValueChange:n,disabled:v,children:[x.jsx(Zu,{className:"h-9",children:x.jsx(Ju,{placeholder:v?"Loading...":"All sites"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"all",children:"All sites"}),p.map(e=>x.jsx(tm,{value:e,children:e},e))]})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Device Group"}),x.jsxs(Xu,{value:r,onValueChange:a,disabled:v,children:[x.jsx(Zu,{className:"h-9",children:x.jsx(Ju,{placeholder:v?"Loading...":"All groups"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"all",children:"All groups"}),g.map(e=>x.jsx(tm,{value:e,children:e},e))]})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Status"}),x.jsxs(Xu,{value:l,onValueChange:i,children:[x.jsx(Zu,{className:"h-9",children:x.jsx(Ju,{placeholder:"All statuses"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"all",children:"All statuses"}),x.jsx(tm,{value:"ready",children:"Ready"}),x.jsx(tm,{value:"maintenance",children:"Maintenance"}),x.jsx(tm,{value:"alarm",children:"Alarm"})]})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Online Status"}),x.jsxs(Xu,{value:o,onValueChange:c,children:[x.jsx(Zu,{className:"h-9",children:x.jsx(Ju,{placeholder:"All"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"all",children:"All"}),x.jsx(tm,{value:"online",children:"Online"}),x.jsx(tm,{value:"offline",children:"Offline"})]})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Maintenance"}),x.jsxs(Xu,{value:d,onValueChange:u,children:[x.jsx(Zu,{className:"h-9",children:x.jsx(Ju,{placeholder:"All"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"all",children:"All"}),x.jsx(tm,{value:"maintenance",children:"In Maintenance"}),x.jsx(tm,{value:"not_maintenance",children:"Not in Maintenance"})]})]})]})]})})]})}ax.displayName=b.displayName;const ox=e=>e>=4?x.jsx(Is,{className:"h-4 w-4 text-green-600"}):e>=2?x.jsx(Is,{className:"h-4 w-4 text-yellow-600"}):x.jsx(Is,{className:"h-4 w-4 text-red-600"}),cx=e=>{switch(e.toLowerCase()){case"charging":case"full":return x.jsx(Dt,{className:"h-4 w-4 text-green-600"});case"discharging":return x.jsx(Dt,{className:"h-4 w-4 text-yellow-600"});default:return x.jsx(Dt,{className:"h-4 w-4 text-gray-600"})}},dx=e=>{switch(e.toLowerCase()){case"charging":return"Charging";case"discharging":return"Discharging";case"full":return"Full";default:return e}},ux=(e,t,s)=>[{id:"select",header:({table:e})=>x.jsx(Fc,{checked:e.getIsAllPageRowsSelected()||!!e.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:t=>e.toggleAllPageRowsSelected(!!t),"aria-label":"Select all"}),cell:({row:e})=>x.jsx(Fc,{checked:e.getIsSelected(),onCheckedChange:t=>e.toggleSelected(!!t),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"imei",header:"IMEI",cell:({row:e})=>{const t=e.getValue("imei");return t&&""!==t.trim()&&"null"!==t&&"undefined"!==t?x.jsx("div",{className:"font-mono text-sm",children:t}):x.jsx("div",{className:"font-mono text-sm text-red-500",children:"No IMEI"})}},{accessorKey:"name",header:"Device Name",cell:({row:e})=>x.jsx("div",{className:"font-medium",children:e.getValue("name")})},{accessorKey:"model",header:"Model",cell:({row:e})=>{const t=e.getValue("model"),s=e.original.manufacturer;return x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("div",{className:"font-medium text-sm",children:t}),x.jsx("div",{className:"text-xs text-muted-foreground",children:s})]})}},{accessorKey:"device_group",header:"Device Group",cell:({row:e})=>{const t=e.getValue("device_group");return x.jsx("div",{className:"flex flex-col gap-1",children:x.jsxs($l,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:[" ",t]})})}},{accessorKey:"country_site",header:"Country Site",cell:({row:e})=>{const t=e.getValue("country_site");return x.jsx("div",{className:"flex flex-col gap-1",children:x.jsxs($l,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-200",children:[" ",t]})})}},{accessorKey:"battery_level",header:"Battery",cell:({row:e})=>{const t=e.getValue("battery_level"),s=e.original.battery_status;return x.jsxs("div",{className:"flex items-center gap-2",children:[cx(s),x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center justify-between text-xs",children:[x.jsxs("span",{children:[t,"%"]}),x.jsx("span",{className:"text-muted-foreground",children:dx(s)})]}),x.jsx(dc,{value:t,className:"h-1"})]})]})}},{accessorKey:"signal_strength",header:"Signal",cell:({row:e})=>{const t=e.getValue("signal_strength"),s=e.original.signal_dbm,n=e.original.network_type;return x.jsxs("div",{className:"flex items-center gap-2",children:[ox(t),x.jsxs("div",{className:"flex flex-col",children:[x.jsxs("div",{className:"text-sm font-medium",children:[t,"/5"]}),x.jsxs("div",{className:"text-xs text-muted-foreground",children:[s," dBm  ",n]})]})]})}},{accessorKey:"is_online",header:"Online",cell:({row:e})=>{const t=e.getValue("is_online");return x.jsxs("div",{className:"flex items-center gap-2",children:[t?x.jsx(Qs,{className:"h-4 w-4 text-green-600"}):x.jsx(Kt,{className:"h-4 w-4 text-red-600"}),x.jsx("span",{className:"text-sm",children:t?"Online":"Offline"})]})}},{id:"status",header:"Status",cell:({row:e})=>(e=>{const{alarms:t=[],maintenance_mode:s,is_active:n,is_online:r}=e;return t.some(e=>"started"===e.status&&["critical","error","warning"].includes(e.severity))?x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx($l,{variant:"destructive",className:"text-xs",children:" ALARM"}),x.jsxs("div",{className:"text-xs text-muted-foreground max-w-[150px] truncate",children:[t.length," active alarm(s)"]})]}):s?x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx($l,{variant:"secondary",className:"text-xs bg-yellow-500 text-white hover:bg-yellow-600",children:" MAINTENANCE"}),e.maintenance_reason&&x.jsx("div",{className:"text-xs text-muted-foreground max-w-[150px] truncate",title:e.maintenance_reason,children:e.maintenance_reason})]}):n?r?x.jsx($l,{variant:"default",className:"text-xs bg-green-500 hover:bg-green-600",children:" READY"}):x.jsx($l,{variant:"destructive",className:"text-xs",children:" OFFLINE"}):x.jsx($l,{variant:"destructive",className:"text-xs",children:" INACTIVE"})})(e.original)},{accessorKey:"last_seen",header:"Last Seen",cell:({row:e})=>{const t=e.getValue("last_seen");if(!t)return x.jsx("span",{className:"text-muted-foreground",children:"Never"});const s=new Date(t),n=new Date,r=Math.floor((n.getTime()-s.getTime())/6e4);let a="";return a=r<1?"Just now":r<60?`${r}m ago`:r<1440?`${Math.floor(r/60)}h ago`:`${Math.floor(r/1440)}d ago`,x.jsxs("div",{className:"text-sm",children:[x.jsx("div",{children:a}),x.jsx("div",{className:"text-xs text-muted-foreground",children:s.toLocaleDateString()})]})}},{id:"actions",header:"Actions",cell:({row:n})=>{const r=n.original;return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(cr,{variant:"ghost",size:"sm",asChild:!0,children:x.jsx(fe,{to:`/devices/${r.imei}`,children:x.jsx(ns,{className:"h-4 w-4"})})}),x.jsx(cr,{variant:"ghost",size:"sm",onClick:()=>{e&&e(r)},title:"Rename Device",children:x.jsx(zs,{className:"h-4 w-4"})}),r.maintenance_mode?x.jsx(cr,{variant:"ghost",size:"sm",onClick:()=>{s&&s(r)},title:"Exit Maintenance Mode",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:x.jsx(Ys,{className:"h-4 w-4"})}):x.jsx(cr,{variant:"ghost",size:"sm",onClick:()=>{t&&t(r)},title:"Enter Maintenance Mode",className:"text-yellow-600 hover:text-yellow-700 hover:bg-yellow-50",children:x.jsx(Ys,{className:"h-4 w-4"})})]})}}],mx=e=>{switch(e.toLowerCase()){case"battery_low":return x.jsx(Dt,{className:"h-4 w-4 text-red-600"});case"signal_low":return x.jsx(Is,{className:"h-4 w-4 text-red-600"});case"sim_card_change":return x.jsx($s,{className:"h-4 w-4 text-orange-600"});case"sim_card_change_resolved":return x.jsx(Gt,{className:"h-4 w-4 text-green-600"});case"device_offline":return x.jsx(Qs,{className:"h-4 w-4 text-red-600"});case"error_count":return x.jsx(Kt,{className:"h-4 w-4 text-red-600"});default:return x.jsx($s,{className:"h-4 w-4 text-gray-600"})}},hx=e=>{switch(e.toLowerCase()){case"sim_card_change":return"SIM CARD CHANGE";case"sim_card_change_resolved":return"SIM CARD RESOLVED";case"battery_low":return"BATTERY LOW";case"signal_low":return"SIGNAL LOW";case"device_offline":return"DEVICE OFFLINE";case"error_count":return"ERROR COUNT";default:return e.replace("_"," ").toUpperCase()}},xx=e=>{switch(e.toLowerCase()){case"critical":return"bg-red-100 text-red-800 border-red-200";case"error":return"bg-orange-100 text-orange-800 border-orange-200";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"info":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},fx=e=>{switch(e.toLowerCase()){case"started":return"bg-red-100 text-red-800 border-red-200";case"stopped":return"bg-green-100 text-green-800 border-green-200";case"resolved":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},px=[{id:"select",header:({table:e})=>x.jsx(Fc,{checked:e.getIsAllPageRowsSelected()||!!e.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:t=>e.toggleAllPageRowsSelected(!!t),"aria-label":"Select all"}),cell:({row:e})=>x.jsx(Fc,{checked:e.getIsSelected(),onCheckedChange:t=>e.toggleSelected(!!t),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"device_id",header:"Device ID",cell:({row:e})=>x.jsx("div",{className:"font-mono text-sm",children:e.getValue("device_id")})},{accessorKey:"device_name",header:"Device Name",cell:({row:e})=>x.jsx("div",{className:"font-medium",children:e.getValue("device_name")})},{accessorKey:"device_group",header:"Device Group",cell:({row:e})=>{const t=e.getValue("device_group");return x.jsx("div",{className:"flex flex-col gap-1",children:x.jsxs($l,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:[" ",t]})})}},{accessorKey:"country_site",header:"Country Site",cell:({row:e})=>{const t=e.getValue("country_site");return x.jsx("div",{className:"flex flex-col gap-1",children:x.jsxs($l,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-200",children:[" ",t]})})}},{accessorKey:"alarm_type",header:"Alarm Type",cell:({row:e})=>{const t=e.getValue("alarm_type");return x.jsxs("div",{className:"flex items-center gap-2",children:[mx(t),x.jsx("span",{className:"text-sm font-medium",children:hx(t)})]})}},{accessorKey:"message",header:"Message",cell:({row:e})=>{const t=e.getValue("message");if("sim_card_change"===e.original.alarm_type.toLowerCase()){const e=(e=>e.includes("SIM tray opened")?{type:"TRAY_OPENED",color:"text-red-600",icon:""}:e.includes("SIM tray closed")?{type:"TRAY_CLOSED",color:"text-green-600",icon:""}:e.includes("IMSI changed")?{type:"IMSI_CHANGED",color:"text-orange-600",icon:""}:e.includes("SIM card count changed")?{type:"COUNT_CHANGED",color:"text-yellow-600",icon:""}:{type:"GENERAL",color:"text-gray-600",icon:""})(t);return x.jsxs("div",{className:"max-w-[300px] truncate text-sm",title:t,children:[x.jsxs("span",{className:`font-medium ${e.color}`,children:[e.icon," "]}),t]})}return x.jsx("div",{className:"max-w-[300px] truncate text-sm",title:t,children:t})}},{accessorKey:"severity",header:"Severity",cell:({row:e})=>{const t=e.getValue("severity");return x.jsx($l,{variant:"outline",className:`text-xs ${xx(t)}`,children:t.toUpperCase()})}},{accessorKey:"status",header:"Status",cell:({row:e})=>{const t=e.getValue("status");return x.jsx($l,{variant:"outline",className:`text-xs ${fx(t)}`,children:t.toUpperCase()})}},{accessorKey:"battery_level",header:"Battery",cell:({row:e})=>{const t=e.getValue("battery_level"),s=e.original.battery_status;return 0!==t||s?x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Dt,{className:"h-4 w-4"}),x.jsxs("div",{className:"text-sm",children:[t,"%  ",s]})]}):x.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"signal_strength",header:"Signal",cell:({row:e})=>{const t=e.getValue("signal_strength"),s=e.original.signal_dbm,n=e.original.network_type;return 0!==t||s||n?x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Is,{className:"h-4 w-4"}),x.jsxs("div",{className:"text-sm",children:[t,"/5  ",s," dBm  ",n]})]}):x.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"created_at",header:"Created At",cell:({row:e})=>{const t=e.getValue("created_at");if(!t)return x.jsx("span",{className:"text-muted-foreground",children:"-"});const s=new Date(t),n=new Date,r=Math.floor((n.getTime()-s.getTime())/6e4);let a="";return a=r<1?"Just now":r<60?`${r}m ago`:r<1440?`${Math.floor(r/60)}h ago`:`${Math.floor(r/1440)}d ago`,x.jsxs("div",{className:"text-sm",children:[x.jsx("div",{children:a}),x.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.toLocaleDateString()," ",s.toLocaleTimeString()]})]})}},{id:"actions",header:"Actions",cell:({row:e})=>{const t=e.original;return x.jsx("div",{className:"flex items-center gap-2",children:x.jsx(cr,{variant:"ghost",size:"sm",asChild:!0,children:x.jsx(fe,{to:`/devices/${t.device_id}`,children:x.jsx(ns,{className:"h-4 w-4"})})})})}}],gx=e=>h(null,null,function*(){const t=new URLSearchParams;return(null==e?void 0:e.page)&&t.append("page",e.page.toString()),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString()),(null==e?void 0:e.search)&&t.append("search",e.search),(null==e?void 0:e.country_site)&&t.append("country_site",e.country_site),(null==e?void 0:e.device_group)&&t.append("device_group",e.device_group),(null==e?void 0:e.status)&&t.append("status",e.status),(null==e?void 0:e.online)&&t.append("online",e.online),(null==e?void 0:e.maintenance)&&t.append("maintenance",e.maintenance),Ho.get(`/devices?${t.toString()}`)}),vx=()=>h(null,null,function*(){return(yield Ho.get("/devices/stats")).data}),jx=e=>h(null,null,function*(){const t=new URLSearchParams;return e.forEach(e=>t.append("imeis",e)),Ho.delete(`/devices?${t.toString()}`)}),yx=(e,t)=>h(null,null,function*(){return Ho.put("/devices/toggle-active",{imeis:e,active:t})}),bx=(e,t)=>h(null,null,function*(){return Ho.post("/devices/maintenance/enter",{imeis:e,reason:t})}),Nx=e=>h(null,null,function*(){return Ho.post("/devices/maintenance/exit",{imeis:e})}),_x=(e,t)=>h(null,null,function*(){return Ho.put(`/devices/${e}/rename`,{name:t})}),wx=e=>h(null,null,function*(){const t=new URLSearchParams;return(null==e?void 0:e.page)&&t.append("page",e.page.toString()),(null==e?void 0:e.limit)?t.append("limit",e.limit.toString()):t.append("limit","50"),(null==e?void 0:e.search)&&t.append("search",e.search),(null==e?void 0:e.device_id)&&t.append("device_id",e.device_id),(null==e?void 0:e.alarm_type)&&t.append("alarm_type",e.alarm_type),(null==e?void 0:e.severity)&&t.append("severity",e.severity),(null==e?void 0:e.status)&&t.append("status",e.status),(null==e?void 0:e.start_date)&&t.append("start_date",e.start_date),(null==e?void 0:e.end_date)&&t.append("end_date",e.end_date),Ho.get(`/alarm-logs?${t.toString()}`)}),Sx=()=>h(null,null,function*(){return Ho.delete("/alarm-logs")}),kx=()=>h(null,null,function*(){return Ho.post("/devices/bulk-update-sms-limits")}),Cx=[{title:"Dashboard",href:"/dashboard"},{title:"Devices",href:"/devices"}];function Mx(){const e=xt(),[t,s]=me.useState([]),[n,r]=me.useState([]),[a,l]=me.useState([]),[i,c]=me.useState([]),[d,u]=me.useState({total:0,active:0,inactive:0,online:0,offline:0,maintenance:0,ready:0,alarm:0}),[m,f]=me.useState(!0),[p,g]=me.useState(!0),[v,j]=me.useState(!0),[y,b]=me.useState(""),[N,_]=me.useState(""),[w,S]=me.useState("all"),[k,C]=me.useState("all"),[M,E]=me.useState("all"),[F,P]=me.useState("all"),[D,A]=me.useState("all"),[R,I]=me.useState(""),[T,L]=me.useState("all"),[z,O]=me.useState("all"),[V,U]=me.useState("all"),[B,$]=me.useState("all"),[H,q]=me.useState(""),[G,W]=me.useState([]),[K,Q]=me.useState([]),[Y,X]=me.useState(null),[J,Z]=me.useState(""),[ee,te]=me.useState(null),se=()=>h(null,null,function*(){try{f(!0);const e=yield gx({search:N||void 0,country_site:"all"!==w?w:void 0,device_group:"all"!==k?k:void 0,status:"all"!==M?M:void 0,online:"all"!==F?F:void 0,maintenance:"all"!==D?D:void 0});l(e.data||[])}catch(e){console.error("Error fetching devices:",e),Ze.error("Failed to fetch devices")}finally{f(!1)}}),ne=()=>h(null,null,function*(){try{g(!0);const e=yield wx({search:R||void 0,device_id:"all"!==T?T:void 0,alarm_type:"all"!==z?z:void 0,severity:"all"!==V?V:void 0,status:"all"!==B?B:void 0});c(e.data||[])}catch(e){console.error("Error fetching alarm logs:",e),Ze.error("Failed to fetch alarm logs")}finally{g(!1)}}),re=()=>h(null,null,function*(){try{j(!0);const e=yield vx();u(e||{total:0,active:0,inactive:0,online:0,offline:0,maintenance:0,ready:0,alarm:0})}catch(e){console.error("Error fetching stats:",e),Ze.error("Failed to fetch device statistics")}finally{j(!1)}}),ae=e=>h(null,null,function*(){try{yield yx(G,e),Ze.success(`Devices ${e?"activated":"deactivated"} successfully`),W([]),se(),re()}catch(t){console.error("Error toggling device status:",t),Ze.error("Failed to update device status")}}),le=()=>h(null,null,function*(){if(H.trim())try{yield bx(G,H),Ze.success("Devices put into maintenance mode"),W([]),q(""),se(),re()}catch(e){console.error("Error entering maintenance mode:",e),Ze.error("Failed to enter maintenance mode")}else Ze.error("Please provide a maintenance reason")}),ie=e=>h(null,null,function*(){if(e)X(e),Z(e.name);else{if(!Y||!J.trim())return void Ze.error("Please provide a device name");try{yield _x(Y.imei,J),Ze.success("Device renamed successfully"),X(null),Z(""),se()}catch(t){console.error("Error renaming device:",t),Ze.error("Failed to rename device")}}}),oe=e=>h(null,null,function*(){if(e)te(e),q("");else{if(!ee||!H.trim())return void Ze.error("Please provide a maintenance reason");try{yield bx([ee.imei],H),Ze.success("Device put into maintenance mode"),te(null),q(""),se(),re()}catch(t){console.error("Error entering maintenance mode:",t),Ze.error("Failed to enter maintenance mode")}}}),ce=e=>h(null,null,function*(){if(e)try{yield Nx([e.imei]),Ze.success("Device exited maintenance mode"),se(),re()}catch(t){console.error("Error exiting maintenance mode:",t),Ze.error("Failed to exit maintenance mode")}else{if(0===G.length)return void Ze.error("Please select devices to exit maintenance mode");try{yield Nx(G),Ze.success("Devices exited maintenance mode"),W([]),se(),re()}catch(t){console.error("Error exiting maintenance mode:",t),Ze.error("Failed to exit maintenance mode")}}}),de=()=>h(null,null,function*(){try{const e=yield kx();if(e.success){const t=e.data;Ze.success(`SMS limit data updated successfully! Updated ${t.updated_devices} devices from ${t.total_devices} total devices across ${t.device_groups_processed} device groups.`),se()}}catch(e){console.error("Error updating SMS limit data:",e),Ze.error("Failed to update SMS limit data")}}),ue=me.useMemo(()=>t&&0!==t.length?[...new Set(t.map(e=>e.country_site))].filter(e=>e&&""!==e.trim()).sort():[],[t]),he=me.useMemo(()=>t&&0!==t.length?[...new Set(t.map(e=>e.device_group))].filter(e=>e&&""!==e.trim()).sort():[],[t]),xe=me.useMemo(()=>t&&0!==t.length?{total:t.length,active:t.filter(e=>e.is_active).length,inactive:t.filter(e=>!e.is_active).length,online:t.filter(e=>e.is_online).length,offline:t.filter(e=>!e.is_online).length,maintenance:t.filter(e=>e.maintenance_mode).length,ready:t.filter(e=>e.is_active&&e.is_online&&!e.maintenance_mode&&(!e.alarms||0===e.alarms.length)).length,alarm:t.filter(e=>e.alarms&&e.alarms.some(e=>"started"===e.status&&["critical","error","warning"].includes(e.severity))).length}:{total:0,active:0,inactive:0,online:0,offline:0,maintenance:0,ready:0,alarm:0},[t]),fe=me.useMemo(()=>n&&0!==n.length?[...new Set(n.map(e=>e.device_id))].filter(e=>e&&""!==e.trim()).sort():[],[n]),pe=me.useMemo(()=>n&&0!==n.length?[...new Set(n.map(e=>e.alarm_type))].filter(e=>e&&""!==e.trim()).sort():[],[n]);return me.useEffect(()=>{se(),ne(),re()},[]),me.useEffect(()=>{const e=setTimeout(()=>{_(y)},300);return()=>clearTimeout(e)},[y]),me.useEffect(()=>{se()},[N,w,k,M,F,D]),me.useEffect(()=>{ne()},[R,T,z,V,B]),me.useEffect(()=>{const t=e.devices||[],n=a||[];if(t.length>0||n.length>0){const e=t.filter(e=>e.imei&&""!==e.imei.trim()&&"null"!==e.imei&&"undefined"!==e.imei),r=[...n.map(t=>{const s=e.find(e=>e.imei===t.imei);return s?o(o({},t),s):t}),...e.filter(e=>!n.find(t=>t.imei===e.imei))].filter(e=>e.imei&&""!==e.imei.trim()&&"null"!==e.imei&&"undefined"!==e.imei);s(r)}},[e.devices,a]),me.useEffect(()=>{const t=e.alarmLogs||[],s=i||[];if(t.length>0||s.length>0){const e=t.filter(e=>e.device_id&&""!==e.device_id.trim()&&"null"!==e.device_id&&"undefined"!==e.device_id),n=[...s,...e].filter((e,t,s)=>t===s.findIndex(t=>t.id===e.id&&t.created_at===e.created_at)).filter(e=>e.device_id&&""!==e.device_id.trim()&&"null"!==e.device_id&&"undefined"!==e.device_id);r(n)}},[e.alarmLogs,i]),x.jsx(Do,{breadcrumbs:Cx,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Devices"}),x.jsx("p",{className:"text-muted-foreground",children:"Manage and monitor your devices in real-time"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(cr,{variant:"outline",size:"sm",onClick:de,disabled:m,title:"Update SMS limit data for all devices",children:[x.jsx(fs,{className:"h-4 w-4 mr-2"}),"Update SMS Limits"]}),x.jsx(cr,{variant:"ghost",size:"sm",onClick:()=>{se(),ne(),re()},disabled:m||p||v,title:"Refresh API data (WebSocket data updates in real-time)",children:x.jsx(Ss,{className:"h-4 w-4 "+(m?"animate-spin":"")})})]})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[x.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),x.jsx($l,{variant:"default",className:"text-xs bg-green-500 hover:bg-green-600",children:" Ready"}),x.jsx($l,{variant:"secondary",className:"text-xs bg-yellow-500 text-white hover:bg-yellow-600",children:" Maintenance"}),x.jsx($l,{variant:"destructive",className:"text-xs",children:" Alarm"})]}),x.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[x.jsx("span",{className:"font-medium text-muted-foreground",children:"Connection:"}),x.jsx($l,{variant:e.isConnected?"default":"destructive",className:"text-xs "+(e.isConnected?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"),children:e.isConnected?" WebSocket Connected":" WebSocket Disconnected"})]})]}),x.jsx(lx,{stats:xe,loading:m}),x.jsxs(Wh,{defaultValue:"devices",className:"space-y-4",children:[x.jsxs(Kh,{children:[x.jsxs(Qh,{value:"devices",className:"flex items-center gap-2",children:[x.jsx(Ts,{className:"h-4 w-4"}),"Devices (",(null==t?void 0:t.length)||0,")"]}),x.jsxs(Qh,{value:"alarms",className:"flex items-center gap-2",children:[x.jsx($s,{className:"h-4 w-4"}),"Alarm Logs (",(null==n?void 0:n.length)||0,")"]})]}),x.jsxs(Yh,{value:"devices",className:"space-y-4",children:[x.jsx(ix,{globalFilter:y,setGlobalFilter:b,countrySiteFilter:w,setCountrySiteFilter:S,deviceGroupFilter:k,setDeviceGroupFilter:C,statusFilter:M,setStatusFilter:E,onlineFilter:F,setOnlineFilter:P,maintenanceFilter:D,setMaintenanceFilter:A,onClearFilters:()=>{b(""),S("all"),C("all"),E("all"),P("all"),A("all")},onRefresh:()=>{se(),re()},onUpdateSmsLimits:de,countrySites:ue,deviceGroups:he,loading:m}),G.length>0&&x.jsxs("div",{className:"flex items-center gap-2 p-4 bg-muted rounded-lg",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-sm font-medium",children:[G.length," device(s) selected"]}),x.jsxs($l,{variant:"secondary",className:"text-xs",children:[G.length," / ",t.length]})]}),x.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[x.jsxs(cr,{variant:"outline",size:"sm",onClick:()=>W([]),children:[x.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Clear Selection"]}),x.jsxs(cr,{variant:"outline",size:"sm",onClick:()=>ae(!0),children:[x.jsx(_s,{className:"h-4 w-4 mr-2"}),"Enable All"]}),x.jsxs(cr,{variant:"outline",size:"sm",onClick:()=>ae(!1),children:[x.jsx(_s,{className:"h-4 w-4 mr-2"}),"Disable All"]}),x.jsxs(Xh,{children:[x.jsx(Jh,{asChild:!0,children:x.jsxs(cr,{variant:"outline",size:"sm",children:[x.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Enter Maintenance"]})}),x.jsxs(tx,{children:[x.jsxs(sx,{children:[x.jsx(rx,{children:"Enter Maintenance Mode"}),x.jsxs(ax,{children:["Enter a reason for putting ",G.length," device(s) into maintenance mode."]})]}),x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"bulk-maintenance-reason",children:"Reason"}),x.jsx(dr,{id:"bulk-maintenance-reason",value:H,onChange:e=>q(e.target.value),placeholder:"Enter maintenance reason...",onKeyDown:e=>{"Enter"===e.key&&le()}})]})}),x.jsxs(nx,{children:[x.jsx(cr,{variant:"outline",onClick:()=>q(""),children:"Cancel"}),x.jsx(cr,{onClick:le,children:"Enter Maintenance Mode"})]})]})]}),x.jsxs(cr,{variant:"outline",size:"sm",onClick:()=>ce(),children:[x.jsx(kt,{className:"h-4 w-4 mr-2"}),"Exit Maintenance"]}),x.jsxs(Lm,{children:[x.jsx(zm,{asChild:!0,children:x.jsxs(cr,{variant:"destructive",size:"sm",children:[x.jsx(Us,{className:"h-4 w-4 mr-2"}),"Delete All"]})}),x.jsxs(Um,{children:[x.jsxs(Bm,{children:[x.jsx(Hm,{children:"Delete Devices"}),x.jsxs(qm,{children:["Are you sure you want to delete ",G.length," device(s)? This action cannot be undone."]})]}),x.jsxs($m,{children:[x.jsx(Wm,{children:"Cancel"}),x.jsx(Gm,{onClick:()=>h(null,null,function*(){try{yield jx(G),Ze.success("Devices deleted successfully"),W([]),se(),re()}catch(e){console.error("Error deleting devices:",e),Ze.error("Failed to delete devices")}}),children:"Delete"})]})]})]})]})]}),x.jsx(lm,{data:t||[],columns:ux(ie,oe,ce),loading:m,showRowSelection:!0,onRowSelectionChange:W,selectedRows:G,rowSelectionKey:"imei",showSearch:!1,filters:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>{const e=t.map(e=>e.imei);G.length===e.length?W([]):W(e)},disabled:0===t.length,children:G.length===t.length?"Clear All":`Select All (${t.length})`}),x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>W([]),disabled:0===G.length,children:"Clear Selection"}),G.length>0&&x.jsxs($l,{variant:"secondary",className:"text-xs",children:[G.length," selected"]})]})})]}),x.jsxs(Yh,{value:"alarms",className:"space-y-4",children:[K.length>0&&x.jsxs("div",{className:"flex items-center gap-2 p-4 bg-muted rounded-lg",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-sm font-medium",children:[K.length," alarm log(s) selected"]}),x.jsxs($l,{variant:"secondary",className:"text-xs",children:[K.length," / ",n.length]})]}),x.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[x.jsxs(cr,{variant:"outline",size:"sm",onClick:()=>Q([]),children:[x.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Clear Selection"]}),x.jsxs(Lm,{children:[x.jsx(zm,{asChild:!0,children:x.jsxs(cr,{variant:"destructive",size:"sm",children:[x.jsx(Us,{className:"h-4 w-4 mr-2"}),"Delete Selected"]})}),x.jsxs(Um,{children:[x.jsxs(Bm,{children:[x.jsx(Hm,{children:"Delete Alarm Logs"}),x.jsxs(qm,{children:["Are you sure you want to delete ",K.length," alarm log(s)? This action cannot be undone."]})]}),x.jsxs($m,{children:[x.jsx(Wm,{children:"Cancel"}),x.jsx(Gm,{onClick:()=>h(null,null,function*(){try{yield Sx(),Ze.success("Selected alarm logs deleted successfully"),Q([]),ne()}catch(e){console.error("Error deleting selected alarm logs:",e),Ze.error("Failed to delete selected alarm logs")}}),children:"Delete"})]})]})]})]})]}),x.jsx(lm,{data:n||[],columns:px,loading:p,showSearch:!0,searchPlaceholder:"Search alarm logs...",globalFilter:R,onGlobalFilterChange:I,showRowSelection:!0,onRowSelectionChange:Q,selectedRows:K,rowSelectionKey:"id",title:`Alarm Logs (Last 50 Records - ${(null==n?void 0:n.length)||0} shown)`,showPagination:!1,filters:x.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Device"}),x.jsxs("select",{value:T,onChange:e=>L(e.target.value),className:"w-full h-9 px-3 py-1 text-sm border border-input rounded-md",children:[x.jsx("option",{value:"all",children:"All devices"}),fe.map(e=>x.jsx("option",{value:e||"unknown",children:e||"Unknown Device"},e))]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Alarm Type"}),x.jsxs("select",{value:z,onChange:e=>O(e.target.value),className:"w-full h-9 px-3 py-1 text-sm border border-input rounded-md",children:[x.jsx("option",{value:"all",children:"All types"}),pe.map(e=>x.jsx("option",{value:e||"unknown",children:(e||"Unknown Type").replace("_"," ").toUpperCase()},e))]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Severity"}),x.jsxs("select",{value:V,onChange:e=>U(e.target.value),className:"w-full h-9 px-3 py-1 text-sm border border-input rounded-md",children:[x.jsx("option",{value:"all",children:"All severities"}),x.jsx("option",{value:"critical",children:"Critical"}),x.jsx("option",{value:"error",children:"Error"}),x.jsx("option",{value:"warning",children:"Warning"}),x.jsx("option",{value:"info",children:"Info"})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Status"}),x.jsxs("select",{value:B,onChange:e=>$(e.target.value),className:"w-full h-9 px-3 py-1 text-sm border border-input rounded-md",children:[x.jsx("option",{value:"all",children:"All statuses"}),x.jsx("option",{value:"started",children:"Started"}),x.jsx("option",{value:"stopped",children:"Stopped"}),x.jsx("option",{value:"resolved",children:"Resolved"})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Actions"}),x.jsx("div",{className:"flex gap-2",children:x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>{I(""),L("all"),O("all"),U("all"),$("all")},className:"flex-1",children:"Clear Filters"})})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Selection"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs(cr,{variant:"outline",size:"sm",onClick:()=>{const e=n.map(e=>e.id.toString());Q(e)},disabled:0===n.length,children:["Select All (",n.length,")"]}),x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>Q([]),disabled:0===K.length,children:"Clear Selection"})]})]})]})})]})]}),x.jsx(Xh,{open:!!Y,onOpenChange:()=>X(null),children:x.jsxs(tx,{children:[x.jsxs(sx,{children:[x.jsx(rx,{children:"Rename Device"}),x.jsxs(ax,{children:["Enter a new name for device ",null==Y?void 0:Y.imei]})]}),x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"device-name",children:"Device Name"}),x.jsx(dr,{id:"device-name",value:J,onChange:e=>Z(e.target.value),placeholder:"Enter device name...",onKeyDown:e=>{"Enter"===e.key&&ie()}})]})}),x.jsxs(nx,{children:[x.jsx(cr,{variant:"outline",onClick:()=>X(null),children:"Cancel"}),x.jsx(cr,{onClick:()=>ie(),children:"Rename Device"})]})]})}),x.jsx(Xh,{open:!!ee,onOpenChange:()=>te(null),children:x.jsxs(tx,{children:[x.jsxs(sx,{children:[x.jsx(rx,{children:"Enter Maintenance Mode"}),x.jsxs(ax,{children:["Enter a reason for putting device ",null==ee?void 0:ee.imei," into maintenance mode."]})]}),x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"maintenance-reason",children:"Maintenance Reason"}),x.jsx(dr,{id:"maintenance-reason",value:H,onChange:e=>q(e.target.value),placeholder:"Enter maintenance reason...",onKeyDown:e=>{"Enter"===e.key&&oe()}})]})}),x.jsxs(nx,{children:[x.jsx(cr,{variant:"outline",onClick:()=>te(null),children:"Cancel"}),x.jsx(cr,{onClick:()=>oe(),children:"Enter Maintenance Mode"})]})]})})]})})}function Ex({onSubmit:e,onCancel:t,isLoading:s}){const[n,r]=me.useState({to:"",message:"",sim_slot:1}),[a,l]=me.useState({totalSms:1,charsLeft:160,limit:160});return me.useEffect(()=>{if("undefined"!=typeof window&&window.SMS){const e=(new window.SMS).count(n.message);l({totalSms:e.totalSms,charsLeft:e.charsLeft,limit:e.limit})}else{const e=n.message.length,t=160,s=Math.ceil(e/t);l({totalSms:s,charsLeft:t-e%t,limit:t})}},[n.message]),x.jsxs("form",{onSubmit:t=>{t.preventDefault(),e(n)},className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"to",children:"Phone Number"}),x.jsx(dr,{id:"to",type:"tel",value:n.to,onChange:e=>r(t=>c(o({},t),{to:e.target.value})),placeholder:"+905551234567",required:!0})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"message",children:"Message"}),x.jsx(xh,{id:"message",value:n.message,onChange:e=>r(t=>c(o({},t),{message:e.target.value})),placeholder:"Enter your message...",rows:4,required:!0}),x.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[x.jsxs($l,{variant:"outline",className:"text-xs",children:[n.message.length," chars"]}),x.jsxs($l,{className:"text-xs "+(1===a.totalSms?"bg-green-100 text-green-800":a.totalSms<=3?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[a.totalSms," SMS"]}),a.charsLeft>0&&a.charsLeft<a.limit&&x.jsxs($l,{variant:"secondary",className:"text-xs",children:[a.charsLeft," left"]}),x.jsxs("span",{className:"text-xs text-muted-foreground",children:["(Limit: ",a.limit," chars per SMS)"]})]})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"sim_slot",children:"SIM Slot"}),x.jsxs(Xu,{value:n.sim_slot.toString(),onValueChange:e=>r(t=>c(o({},t),{sim_slot:parseInt(e)})),children:[x.jsx(Zu,{children:x.jsx(Ju,{})}),x.jsxs(em,{children:[x.jsx(tm,{value:"1",children:"SIM 1"}),x.jsx(tm,{value:"2",children:"SIM 2"})]})]})]}),x.jsxs("div",{className:"flex justify-end space-x-2",children:[x.jsx(cr,{type:"button",variant:"outline",onClick:t,disabled:s,children:"Cancel"}),x.jsx(cr,{type:"submit",disabled:s,children:s?"Sending...":"Send SMS"})]})]})}function Fx({onSubmit:e,onCancel:t,isLoading:s}){const[n,r]=me.useState({ussd_code:"",sim_slot:1});return x.jsxs("form",{onSubmit:t=>{t.preventDefault(),e(n)},className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"ussd_code",children:"USSD Code"}),x.jsx(dr,{id:"ussd_code",value:n.ussd_code,onChange:e=>r(t=>c(o({},t),{ussd_code:e.target.value})),placeholder:"*100#",required:!0})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"sim_slot",children:"SIM Slot"}),x.jsxs(Xu,{value:n.sim_slot.toString(),onValueChange:e=>r(t=>c(o({},t),{sim_slot:parseInt(e)})),children:[x.jsx(Zu,{children:x.jsx(Ju,{})}),x.jsxs(em,{children:[x.jsx(tm,{value:"1",children:"SIM 1"}),x.jsx(tm,{value:"2",children:"SIM 2"})]})]})]}),x.jsxs("div",{className:"flex justify-end space-x-2",children:[x.jsx(cr,{type:"button",variant:"outline",onClick:t,disabled:s,children:"Cancel"}),x.jsx(cr,{type:"submit",disabled:s,children:s?"Executing...":"Execute USSD"})]})]})}function Px({onSubmit:e,onCancel:t,isLoading:s}){const[n,r]=me.useState({message:""});return x.jsxs("form",{onSubmit:t=>{t.preventDefault(),e(n)},className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"message",children:"Alarm Message"}),x.jsx(xh,{id:"message",value:n.message,onChange:e=>r(t=>c(o({},t),{message:e.target.value})),placeholder:"Enter alarm message (optional)...",rows:3}),x.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave empty to use default alarm message"})]}),x.jsxs("div",{className:"flex justify-end space-x-2",children:[x.jsx(cr,{type:"button",variant:"outline",onClick:t,disabled:s,children:"Cancel"}),x.jsx(cr,{type:"submit",disabled:s,children:s?"Starting...":"Start Alarm"})]})]})}function Dx({deviceImei:e,simSlot:t}){const[s,n]=me.useState(null),[r,a]=me.useState(!1),l=()=>h(null,null,function*(){a(!0);try{const s=yield Ho.get(`/devices/${e}/sms-limits/status?sim_slot=${t}`);n(s.data.data)}catch(s){console.error("Failed to fetch SMS limit status:",s)}finally{a(!1)}});return me.useEffect(()=>{l()},[e,t]),s?x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Ts,{className:"h-5 w-5"}),"SMS Limit Status - SIM ",t]}),x.jsxs("div",{className:"flex items-center gap-2",children:[(i=s.daily_alarm||s.monthly_alarm,i?x.jsxs($l,{variant:"destructive",className:"flex items-center gap-1",children:[x.jsx($s,{className:"h-3 w-3"}),"Limit Warning"]}):null),x.jsx(cr,{variant:"outline",size:"sm",onClick:l,disabled:r,children:x.jsx(Ss,{className:"h-4 w-4 "+(r?"animate-spin":"")})})]})]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Xt,{className:"h-4 w-4 text-blue-500"}),x.jsx("span",{className:"font-medium",children:"Daily Limit"})]}),x.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.daily_used," / ",s.daily_limit]})]}),x.jsx(dc,{value:s.daily_percentage,className:"h-2"}),x.jsxs("div",{className:"flex items-center justify-between text-sm",children:[x.jsxs("span",{className:"text-muted-foreground",children:[s.daily_percentage.toFixed(1),"% used"]}),s.daily_alarm&&x.jsxs($l,{variant:"destructive",className:"text-xs",children:[x.jsx($s,{className:"h-3 w-3 mr-1"}),s.alarm_threshold,"% threshold reached"]})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(It,{className:"h-4 w-4 text-green-500"}),x.jsx("span",{className:"font-medium",children:"Monthly Limit"})]}),x.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.monthly_used," / ",s.monthly_limit]})]}),x.jsx(dc,{value:s.monthly_percentage,className:"h-2"}),x.jsxs("div",{className:"flex items-center justify-between text-sm",children:[x.jsxs("span",{className:"text-muted-foreground",children:[s.monthly_percentage.toFixed(1),"% used"]}),s.monthly_alarm&&x.jsxs($l,{variant:"destructive",className:"text-xs",children:[x.jsx($s,{className:"h-3 w-3 mr-1"}),s.alarm_threshold,"% threshold reached"]})]})]}),x.jsx("div",{className:"pt-2 border-t",children:x.jsxs("div",{className:"text-sm text-muted-foreground",children:[x.jsxs("p",{children:["Device: ",s.device_name]}),x.jsxs("p",{children:["Alarm threshold: ",s.alarm_threshold,"%"]}),s.daily_alarm||s.monthly_alarm?x.jsx("p",{className:"text-red-600 font-medium mt-1",children:" Limit warning active - check alarm logs"}):x.jsx("p",{className:"text-green-600 font-medium mt-1",children:" All limits within normal range"})]})})]})]}):x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Ts,{className:"h-5 w-5"}),"SMS Limit Status - SIM ",t]})}),x.jsx(Vo,{children:x.jsx("div",{className:"flex items-center justify-center py-4",children:r?x.jsx(Ss,{className:"h-6 w-6 animate-spin"}):x.jsx("span",{className:"text-muted-foreground",children:"No data available"})})})]});var i}const Ax=e=>{switch(e.toLowerCase()){case"battery_low":return x.jsx(Dt,{className:"h-4 w-4 text-red-600"});case"signal_low":return x.jsx(Is,{className:"h-4 w-4 text-red-600"});case"sim_card_change":return x.jsx($s,{className:"h-4 w-4 text-orange-600"});case"sim_card_change_resolved":return x.jsx(Gt,{className:"h-4 w-4 text-green-600"});case"device_offline":return x.jsx(Qs,{className:"h-4 w-4 text-red-600"});case"error_count":return x.jsx(Kt,{className:"h-4 w-4 text-red-600"});case"sms_limit_daily":case"sms_limit_monthly":return x.jsx(Ts,{className:"h-4 w-4 text-orange-600"});default:return x.jsx($s,{className:"h-4 w-4 text-gray-600"})}},Rx=e=>{switch(e.toLowerCase()){case"battery_low":return"Battery Low";case"signal_low":return"Signal Low";case"sim_card_change":return"SIM Card Change";case"sim_card_change_resolved":return"SIM Card Change Resolved";case"device_offline":return"Device Offline";case"error_count":return"Error Count";case"sms_limit_daily":return"SMS Daily Limit Warning";case"sms_limit_monthly":return"SMS Monthly Limit Warning";default:return e}},Ix=e=>{switch(e.toLowerCase()){case"critical":return"bg-red-50 text-red-700 border-red-300";case"warning":return"bg-yellow-50 text-yellow-700 border-yellow-300";case"info":return"bg-blue-50 text-blue-700 border-blue-300";default:return"bg-gray-50 text-gray-700 border-gray-300"}},Tx=e=>{switch(e.toLowerCase()){case"active":return"bg-red-50 text-red-700 border-red-300";case"resolved":return"bg-green-50 text-green-700 border-green-300";default:return"bg-gray-50 text-gray-700 border-gray-300"}},Lx=[{accessorKey:"alarm_type",header:"Alarm Type",cell:({row:e})=>{const t=e.getValue("alarm_type");return x.jsxs("div",{className:"flex items-center gap-2",children:[Ax(t),x.jsx("span",{className:"text-sm font-medium",children:Rx(t)})]})}},{accessorKey:"message",header:"Message",cell:({row:e})=>{const t=e.getValue("message");return x.jsx("div",{className:"max-w-[300px] truncate text-sm",title:t,children:t})}},{accessorKey:"severity",header:"Severity",cell:({row:e})=>{const t=e.getValue("severity");return x.jsx($l,{variant:"outline",className:`text-xs ${Ix(t)}`,children:t.toUpperCase()})}},{accessorKey:"status",header:"Status",cell:({row:e})=>{const t=e.getValue("status");return x.jsx($l,{variant:"outline",className:`text-xs ${Tx(t)}`,children:t.toUpperCase()})}},{accessorKey:"battery_level",header:"Battery",cell:({row:e})=>{const t=e.getValue("battery_level");return x.jsx("div",{className:"text-sm",children:t>0?`${t}%`:"Unknown"})}},{accessorKey:"signal_strength",header:"Signal",cell:({row:e})=>{const t=e.getValue("signal_strength"),s=e.getValue("signal_dbm");return x.jsx("div",{className:"text-sm",children:t>0?`${t}/5 (${s} dBm)`:"Unknown"})}},{accessorKey:"created_at",header:"Created At",cell:({row:e})=>{const t=e.getValue("created_at");if(!t)return x.jsx("span",{className:"text-muted-foreground",children:"-"});const s=new Date(t),n=new Date,r=Math.floor((n.getTime()-s.getTime())/6e4);let a="";return a=r<1?"Just now":r<60?`${r}m ago`:r<1440?`${Math.floor(r/60)}h ago`:`${Math.floor(r/1440)}d ago`,x.jsxs("div",{className:"text-sm",children:[x.jsx("div",{children:a}),x.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.toLocaleDateString()," ",s.toLocaleTimeString()]})]})}}];function zx(){const{imei:e}=ve(),{token:t,isAuthenticated:s}=dt(),n=xt(),[r,a]=me.useState(null),[l,i]=me.useState(!0),[d,u]=me.useState(!1),[m,f]=me.useState(!1),[p,g]=me.useState(!1),[v,j]=me.useState(!1),[y,b]=me.useState(!1),[N,_]=me.useState(null),[w,S]=me.useState([]),[k,C]=me.useState(!1);me.useEffect(()=>{s&&t||(window.location.href="/login")},[s,t]);const M=()=>h(null,null,function*(){if(e&&s&&t)try{const s=yield fetch(`/api/devices/${e}`,{headers:{Authorization:`Bearer ${t}`}});if(s.ok){const e=yield s.json();if(a(e),e.sim_cards&&e.sim_cards.length>0){const t={sims:e.sim_cards.map(e=>({slot:e.slot_index,is_active:e.is_active,operator:e.carrier_name||"Unknown",carrier_name:e.carrier_name||"Unknown",phone_number:e.phone_number||"Unknown",network_type:e.network_type||"Unknown",signal_level:e.signal_strength||0,signal_dbm:e.signal_dbm||0,imsi:e.imsi||"Unknown",iccid:e.iccid||"Unknown",imei:e.imei||"Unknown",sim_card_status:e.sim_card_status||"Unknown",status_badge_variant:e.status_badge_variant||"secondary",signal_strength_badge_variant:e.signal_strength_badge_variant||"secondary",network_type_badge_variant:e.network_type_badge_variant||"secondary",signal_strength_text:e.signal_strength_text||"Unknown",main_balance:e.main_balance||0,sms_balance:e.sms_balance||0,sms_limit:e.sms_limit||0,total_sent:e.total_sent||0,total_delivered:e.total_delivered||0,has_sim:!0}))};_(t)}}else{const r=yield s.json().catch(()=>({}));console.error("Error response:",r),console.error("Full error details:",{status:s.status,statusText:s.statusText,errorData:r});try{const n=yield fetch("/api/devices",{headers:{Authorization:`Bearer ${t}`}});if(n.ok){const t=yield n.json();t.devices&&0===t.devices.length?Ze.error("No devices found in the database. Please add some devices first."):Ze.error(r.message||`Device with IMEI "${e}" not found`)}else Ze.error(r.message||`Failed to load device (Status: ${s.status})`)}catch(n){console.error("Error checking devices:",n),Ze.error(r.message||`Failed to load device (Status: ${s.status})`)}window.location.href="/devices"}}catch(r){console.error("Error fetching device:",r),Ze.error("Failed to load device - Network error"),window.location.href="/devices"}finally{i(!1)}});me.useEffect(()=>{M()},[e,t,s]);const E=()=>h(null,null,function*(){if(e&&s&&t){C(!0);try{const s=yield fetch(`/api/alarm-logs?device_id=${e}&limit=100`,{headers:{Authorization:`Bearer ${t}`}});if(s.ok){const e=yield s.json();S(e.data||[])}else console.error("Failed to fetch alarm logs"),S([])}catch(n){console.error("Error fetching alarm logs:",n),S([])}finally{C(!1)}}});me.useEffect(()=>{r&&E()},[r]),me.useEffect(()=>{if(!r||!e)return;const t=n.devices;let s=t.find(t=>t.id===e);if(s||(s=t.find(e=>e.name===r.name)),s||(s=t.find(t=>t.device_id===e)),s){const e="online"===s.status;if((r.is_online!==e||r.battery_level!==s.battery_level||r.battery_status!==s.battery_status||r.signal_strength!==s.signal_strength||r.signal_dbm!==s.signal_dbm||r.network_type!==s.network_type||r.manufacturer!==s.manufacturer||r.model!==s.model||r.android_version!==s.android_version||r.latitude!==s.latitude||r.longitude!==s.longitude)&&a(t=>t?c(o({},t),{is_online:e,battery_level:void 0!==s.battery_level?s.battery_level:t.battery_level,battery_status:s.battery_status||t.battery_status,signal_strength:void 0!==s.signal_strength?s.signal_strength:t.signal_strength,signal_dbm:void 0!==s.signal_dbm?s.signal_dbm:t.signal_dbm,network_type:s.network_type||t.network_type,manufacturer:s.manufacturer||t.manufacturer,model:s.model||t.model,android_version:s.android_version||t.android_version,latitude:void 0!==s.latitude?s.latitude:t.latitude,longitude:void 0!==s.longitude?s.longitude:t.longitude,last_seen:(new Date).toISOString()}):t),s.sim_cards){const e=new Map;s.sim_cards.forEach((t,s)=>{e.set(s+1,{slot:s+1,is_active:t.is_active,operator:t.carrier_name||"Unknown",carrier_name:t.carrier_name||"Unknown",phone_number:t.phone_number||"Unknown",network_type:t.network_type||"Unknown",signal_level:t.signal_strength||0,signal_dbm:t.signal_dbm||0,imsi:t.imsi||"Unknown",iccid:t.iccid||"Unknown",imei:t.imei||"Unknown",sim_card_status:t.sim_card_status||"Unknown",status_badge_variant:t.status_badge_variant||"secondary",signal_strength_badge_variant:t.signal_strength_badge_variant||"secondary",network_type_badge_variant:t.network_type_badge_variant||"secondary",signal_strength_text:t.signal_strength_text||"Unknown",main_balance:t.main_balance||0,sms_balance:t.sms_balance||0,sms_limit:t.sms_limit||0,total_sent:t.total_sent||0,total_delivered:t.total_delivered||0,has_sim:!0})});const t=N?N.sims.length:0,n=s.sim_cards.length,r=Math.max(n,t,2),a={sims:Array.from({length:r},(t,s)=>{const n=s+1,r=e.get(n);return r||{slot:n,is_active:!1,operator:"No SIM",carrier_name:"No SIM",phone_number:"No SIM",network_type:"No SIM",signal_level:0,signal_dbm:0,imsi:"No SIM",iccid:"No SIM",imei:"No SIM",main_balance:0,sms_balance:0,sms_limit:0,total_sent:0,total_delivered:0,has_sim:!1}})};JSON.stringify(N)!==JSON.stringify(a)&&_(a)}}},[n.devices,e]);const F=e=>h(null,null,function*(){if(r){f(!0);try{const s=yield fetch(`/api/devices/${r.imei}/toggle`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({action:e})});if(s.ok)Ze.success(`Device ${e.toLowerCase()}d successfully`);else{const t=yield s.json();Ze.error(t.message||`Failed to ${e.toLowerCase()} device`)}}catch(s){console.error("Error toggling device:",s),Ze.error(`Failed to ${e.toLowerCase()} device`)}finally{f(!1)}}}),P=e=>e?new Date(e).toLocaleString():"Never",D=[{title:"Devices",href:"/devices"},{title:r?r.name||r.imei:"Loading...",href:r?`/devices/${r.imei}`:"#"}];return s&&t?l?x.jsx(Do,{breadcrumbs:D,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"text-muted-foreground",children:"Loading device..."})})})}):r?x.jsx(Do,{breadcrumbs:D,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r.name}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx($l,{variant:n.isConnected?"default":"secondary",children:n.isConnected?"WebSocket Connected":"WebSocket Disconnected"}),n.isConnecting&&x.jsx($l,{variant:"outline",children:"Connecting..."}),x.jsx($l,{variant:r.is_online?"default":"secondary",children:r.is_online?" Online":" Offline"}),x.jsx($l,{variant:r.is_active?"default":"secondary",children:r.is_active?" Active":" Inactive"}),r.maintenance_mode&&x.jsx($l,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-300",children:" Maintenance"})]})]}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsxs(cr,{variant:"outline",onClick:()=>window.history.back(),children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back"]}),x.jsxs(Lm,{children:[x.jsx(zm,{asChild:!0,children:x.jsxs(cr,{variant:"destructive",children:[x.jsx(Us,{className:"mr-2 h-4 w-4"}),"Delete"]})}),x.jsxs(Um,{children:[x.jsxs(Bm,{children:[x.jsx(Hm,{children:"Delete Device"}),x.jsxs(qm,{children:['Are you sure you want to delete "',r.name,'"? This action cannot be undone.']})]}),x.jsxs($m,{children:[x.jsx(Wm,{children:"Cancel"}),x.jsx(Gm,{onClick:()=>h(null,null,function*(){if(r){u(!0);try{(yield fetch(`/api/devices/${r.imei}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok?(Ze.success("Device deleted successfully."),window.location.href="/devices"):Ze.error("Failed to delete device.")}catch(e){console.error("Error deleting device:",e),Ze.error("Failed to delete device.")}finally{u(!1)}}}),disabled:d,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:d?"Deleting...":"Delete"})]})]})]})]})]}),x.jsxs(Wh,{defaultValue:"overview",className:"w-full",children:[x.jsxs(Kh,{className:"grid w-full grid-cols-6",children:[x.jsx(Qh,{value:"overview",children:"Overview"}),x.jsx(Qh,{value:"details",children:"Details"}),x.jsx(Qh,{value:"commands",children:"Commands"}),x.jsx(Qh,{value:"sims",children:"SIM Cards"}),x.jsx(Qh,{value:"alarms",children:"Alarm Logs"}),x.jsx(Qh,{value:"sms-limits",children:"SMS Limits"})]}),x.jsxs(Yh,{value:"overview",className:"space-y-4",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Basic Information"})}),x.jsx(Vo,{children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"IMEI"}),x.jsx("div",{className:"text-sm font-mono bg-muted p-2 rounded",children:r.imei})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Device Name"}),x.jsx("div",{className:"text-sm",children:r.name})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Device Type"}),x.jsx("div",{className:"text-sm",children:r.device_type})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Status"}),x.jsx("div",{children:(A=r.is_online,R=r.is_active,R?A?x.jsx($l,{variant:"default",children:"Online"}):x.jsx($l,{variant:"outline",children:"Offline"}):x.jsx($l,{variant:"secondary",children:"Inactive"}))})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Sitename"}),x.jsx("div",{className:"text-sm",children:r.country_site||"Not assigned"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Device Group"}),x.jsx("div",{className:"text-sm",children:r.device_group||"Not assigned"})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(xs,{className:"h-5 w-5"}),"Location Information"]})}),x.jsxs(Vo,{children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Latitude"}),x.jsx("div",{className:"text-sm",children:r.latitude||"Unknown"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Longitude"}),x.jsx("div",{className:"text-sm",children:r.longitude||"Unknown"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Last Seen"}),x.jsx("div",{className:"text-sm",children:P(r.last_seen)})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Manufacturer"}),x.jsx("div",{className:"text-sm",children:r.manufacturer||"Unknown"})]})]}),r.latitude&&r.longitude&&x.jsxs("div",{className:"mt-4",children:[x.jsx("div",{className:"text-sm font-medium mb-2",children:"Device Location"}),x.jsx("div",{className:"w-full h-64 bg-gray-100 rounded-lg border overflow-hidden",children:x.jsx("iframe",{src:`https://www.openstreetmap.org/export/embed.html?bbox=${r.longitude-.01},${r.latitude-.01},${r.longitude+.01},${r.latitude+.01}&layer=mapnik&marker=${r.latitude},${r.longitude}`,width:"100%",height:"100%",frameBorder:"0",scrolling:"no",marginHeight:0,marginWidth:0,title:"Device Location"})}),x.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:"Click on the map to open in full view"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Timestamps"})}),x.jsx(Vo,{children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Created At"}),x.jsx("div",{className:"text-sm",children:P(r.created_at)})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Updated At"}),x.jsx("div",{className:"text-sm",children:P(r.updated_at)})]})]})})]}),r.maintenance_mode&&x.jsxs(To,{className:"border-orange-200 bg-orange-50",children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2 text-orange-800",children:[x.jsx(Ys,{className:"h-5 w-5"}),"Maintenance Mode"]})}),x.jsxs(Vo,{children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium text-orange-700",children:"Reason"}),x.jsx("div",{className:"text-sm text-orange-600 bg-orange-100 p-2 rounded",children:r.maintenance_reason||"No reason specified"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium text-orange-700",children:"Started At"}),x.jsx("div",{className:"text-sm text-orange-600",children:P(r.maintenance_started_at)})]})]}),x.jsx("div",{className:"mt-4",children:x.jsxs(cr,{variant:"outline",size:"sm",onClick:()=>{return e=[r.imei],h(null,null,function*(){if(s&&t){f(!0);try{for(const s of e){const e=yield fetch(`/api/devices/${s}/maintenance/exit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!e.ok){const t=yield e.json();throw new Error(t.message||"Failed to exit maintenance mode")}}Ze.success("Maintenance mode exited successfully"),M()}catch(n){console.error("Error exiting maintenance mode:",n),Ze.error(n instanceof Error?n.message:"Failed to exit maintenance mode")}finally{f(!1)}}});var e},className:"border-orange-300 text-orange-700 hover:bg-orange-100",children:[x.jsx(Ys,{className:"mr-2 h-4 w-4"}),"Exit Maintenance Mode"]})})]})]})]}),x.jsxs(Yh,{value:"details",className:"space-y-4",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Device Details"})}),x.jsx(Vo,{children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Model"}),x.jsx("div",{className:"text-sm",children:r.model||"Unknown"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Android Version"}),x.jsx("div",{className:"text-sm",children:r.android_version||"Unknown"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Battery Level"}),x.jsx("div",{className:"text-sm",children:null!==r.battery_level&&void 0!==r.battery_level&&r.battery_level>0?x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:x.jsx("div",{className:"h-2 rounded-full "+(r.battery_level>50?"bg-green-500":r.battery_level>20?"bg-yellow-500":"bg-red-500"),style:{width:`${r.battery_level}%`}})}),x.jsxs("span",{children:[r.battery_level,"%"]})]}):"Unknown"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Battery Status"}),x.jsx("div",{className:"text-sm",children:r.battery_status||"Unknown"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Signal Strength"}),x.jsx("div",{className:"text-sm",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(e=>x.jsx("div",{className:"w-1 h-4 rounded "+(e<=r.signal_strength?"bg-green-500":"bg-gray-300")},e))}),x.jsxs("span",{children:[r.signal_strength,"/5 (",r.signal_dbm," dBm)"]})]})})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Network Type"}),x.jsx("div",{className:"text-sm",children:r.network_type||"Unknown"})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Additional Information"})}),x.jsx(Vo,{children:x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Location"}),x.jsx("div",{className:"text-sm",children:r.latitude&&r.longitude?`${r.latitude.toFixed(6)}, ${r.longitude.toFixed(6)}`:"Unknown"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Connection Status"}),x.jsxs("div",{className:"text-sm",children:[r.is_online?"Online":"Offline",r.is_active?" (Active)":" (Inactive)"]})]})]})})]})]}),x.jsx(Yh,{value:"commands",className:"space-y-4",children:x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Device Commands"})}),x.jsx(Vo,{children:x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[x.jsxs(cr,{onClick:()=>g(!0),disabled:l||!r.is_online,variant:"outline",className:"flex flex-col items-center gap-2 h-20",children:[x.jsx(fs,{className:"h-5 w-5"}),x.jsx("span",{className:"text-xs",children:"Send SMS"})]}),x.jsxs(cr,{onClick:()=>j(!0),disabled:l||!r.is_online,variant:"outline",className:"flex flex-col items-center gap-2 h-20",children:[x.jsx(ys,{className:"h-5 w-5"}),x.jsx("span",{className:"text-xs",children:"Execute USSD"})]}),x.jsxs(cr,{onClick:()=>h(null,null,function*(){if(r){f(!0);try{const e=yield fetch(`/api/devices/${r.imei}/find`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({message:"Find my device"})});if(e.ok)Ze.success("Find device command sent");else{const t=yield e.json();Ze.error(t.message||"Failed to send find device command")}}catch(e){console.error("Error finding device:",e),Ze.error("Failed to send find device command")}finally{f(!1)}}}),disabled:l||!r.is_online,variant:"outline",className:"flex flex-col items-center gap-2 h-20",children:[x.jsx(Es,{className:"h-5 w-5"}),x.jsx("span",{className:"text-xs",children:"Find Device"})]}),x.jsxs(cr,{onClick:()=>b(!0),disabled:l||!r.is_online,variant:"outline",className:"flex flex-col items-center gap-2 h-20",children:[x.jsx(At,{className:"h-5 w-5"}),x.jsx("span",{className:"text-xs",children:"Start Alarm"})]}),x.jsxs(cr,{onClick:()=>h(null,null,function*(){if(r){f(!0);try{const e=yield fetch(`/api/devices/${r.imei}/alarm/stop`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(e.ok)Ze.success("Alarm stopped successfully");else{const t=yield e.json();Ze.error(t.message||"Failed to stop alarm")}}catch(e){console.error("Error stopping alarm:",e),Ze.error("Failed to stop alarm")}finally{f(!1)}}}),disabled:l||!r.is_online,variant:"outline",className:"flex flex-col items-center gap-2 h-20 bg-green-50 border-green-200 hover:bg-green-100",children:[x.jsx(Gt,{className:"h-5 w-5 text-green-600"}),x.jsx("span",{className:"text-xs text-green-600",children:"Stop Alarm"})]}),x.jsxs(cr,{onClick:()=>F(r.is_active?"DISABLE":"ENABLE"),disabled:l,variant:"outline",className:"flex flex-col items-center gap-2 h-20",children:[x.jsx(_s,{className:"h-5 w-5"}),x.jsx("span",{className:"text-xs",children:r.is_active?"Disable":"Enable"})]}),x.jsxs(cr,{onClick:()=>F("ENABLE"),disabled:l||r.is_active,variant:"outline",className:"flex flex-col items-center gap-2 h-20",children:[x.jsx(Ts,{className:"h-5 w-5"}),x.jsx("span",{className:"text-xs",children:"Toggle SIM"})]})]})})]})}),x.jsx(Yh,{value:"sims",className:"space-y-4",children:x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"SIM Cards"})}),x.jsx(Vo,{children:N?x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N.sims.map(e=>x.jsxs(To,{className:e.has_sim?"":"border-gray-200 bg-gray-50",children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"text-lg "+(e.has_sim?"":"text-gray-500"),children:["SIM ",e.slot,!e.has_sim&&x.jsx("span",{className:"text-sm font-normal text-gray-400 ml-2",children:"(Empty)"})]})}),x.jsxs(Vo,{children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Status"}),x.jsx($l,{variant:e.has_sim&&e.is_active?"default":"secondary",children:e.has_sim?e.is_active?"Active":"Inactive":"No SIM"})]}),e.has_sim&&x.jsxs("div",{className:"space-y-2 mt-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"SIM Card Status"}),x.jsxs("div",{className:"relative group",children:[x.jsx(is,{className:"h-4 w-4 text-muted-foreground cursor-help"}),x.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-10",children:[x.jsx("div",{className:"mb-1 font-semibold",children:"Status Definitions:"}),x.jsx("div",{children:" Active: SIM working, on route, processing traffic"}),x.jsx("div",{children:" Good: SIM operational, device offline"}),x.jsx("div",{children:" No Balance: SMS limit reached"}),x.jsx("div",{children:" Blocked: SIM blocked, unable to send/receive"}),x.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})]}),x.jsx($l,{variant:"Active"===e.sim_card_status?"default":"Good"===e.sim_card_status?"outline":"No Balance"===e.sim_card_status||"Blocked"===e.sim_card_status?"destructive":"secondary",children:e.sim_card_status||"Unknown"})]}),e.has_sim?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"space-y-2 mt-4",children:[x.jsx("div",{className:"text-sm font-medium",children:"Operator"}),x.jsx("div",{className:"text-sm",children:e.operator})]}),x.jsxs("div",{className:"space-y-2 mt-4",children:[x.jsx("div",{className:"text-sm font-medium",children:"Carrier Name"}),x.jsx("div",{className:"text-sm",children:e.carrier_name})]}),x.jsxs("div",{className:"space-y-2 mt-4",children:[x.jsx("div",{className:"text-sm font-medium",children:"Phone Number"}),x.jsx("div",{className:"text-sm",children:e.phone_number})]}),x.jsxs("div",{className:"space-y-2 mt-4",children:[x.jsx("div",{className:"text-sm font-medium",children:"Network Type"}),x.jsx("div",{className:"text-sm",children:x.jsx($l,{variant:e.network_type_badge_variant||"secondary",children:e.network_type})})]}),x.jsxs("div",{className:"space-y-2 mt-4",children:[x.jsx("div",{className:"text-sm font-medium",children:"Signal Strength"}),x.jsxs("div",{className:"text-sm",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx($l,{variant:e.signal_strength_badge_variant||"secondary",children:e.signal_strength_text||"Unknown"}),x.jsxs("span",{children:["(",e.signal_level,"/5)"]})]}),e.signal_dbm&&` (${e.signal_dbm} dBm)`]})]}),x.jsxs("div",{className:"space-y-2 mt-4",children:[x.jsx("div",{className:"text-sm font-medium",children:"Main Balance"}),x.jsx("div",{className:"text-sm",children:x.jsxs($l,{variant:e.main_balance>0?"default":"secondary",className:"font-mono",children:["$",e.main_balance?e.main_balance.toFixed(2):"0.00"]})})]}),x.jsxs("div",{className:"space-y-2 mt-4",children:[x.jsx("div",{className:"text-sm font-medium",children:"SMS Balance"}),x.jsx("div",{className:"text-sm",children:x.jsxs($l,{variant:e.sms_balance>0?"default":0===e.sms_balance?"destructive":"secondary",className:"font-mono",children:[e.sms_balance||0," SMS"]})})]}),x.jsxs("div",{className:"space-y-2 mt-4",children:[x.jsx("div",{className:"text-sm font-medium",children:"SMS Limit"}),x.jsx("div",{className:"text-sm",children:x.jsxs($l,{variant:"outline",className:"font-mono",children:[e.sms_limit||0," SMS"]})})]}),x.jsxs("div",{className:"space-y-2 mt-4",children:[x.jsx("div",{className:"text-sm font-medium",children:"Total Sent"}),x.jsx("div",{className:"text-sm",children:x.jsxs($l,{variant:"secondary",className:"font-mono",children:[e.total_sent||0," SMS"]})})]}),x.jsxs("div",{className:"space-y-2 mt-4",children:[x.jsx("div",{className:"text-sm font-medium",children:"Total Delivered"}),x.jsx("div",{className:"text-sm",children:x.jsxs($l,{variant:"secondary",className:"font-mono",children:[e.total_delivered||0," SMS"]})})]}),x.jsxs("div",{className:"space-y-2 mt-4",children:[x.jsx("div",{className:"text-sm font-medium",children:"IMSI"}),x.jsx("div",{className:"text-sm font-mono text-xs",children:e.imsi})]}),x.jsxs("div",{className:"space-y-2 mt-4",children:[x.jsx("div",{className:"text-sm font-medium",children:"ICCID"}),x.jsx("div",{className:"text-sm font-mono text-xs",children:e.iccid})]}),x.jsxs("div",{className:"space-y-2 mt-4",children:[x.jsx("div",{className:"text-sm font-medium",children:"IMEI"}),x.jsx("div",{className:"text-sm font-mono text-xs",children:e.imei})]})]}):x.jsx("div",{className:"mt-4 p-4 bg-gray-100 rounded-lg",children:x.jsx("div",{className:"text-sm text-gray-500 text-center",children:"No SIM card inserted in this slot"})})]})]},e.slot))}):x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2].map(e=>x.jsxs(To,{className:"border-gray-200 bg-gray-50",children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"text-lg text-gray-500",children:["SIM ",e,x.jsx("span",{className:"text-sm font-normal text-gray-400 ml-2",children:"(Empty)"})]})}),x.jsxs(Vo,{children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-sm font-medium",children:"Status"}),x.jsx($l,{variant:"secondary",children:"No SIM"})]}),x.jsx("div",{className:"mt-4 p-4 bg-gray-100 rounded-lg",children:x.jsx("div",{className:"text-sm text-gray-500 text-center",children:"No SIM card inserted in this slot"})})]})]},e))})})]})}),x.jsx(Yh,{value:"alarms",className:"space-y-4",children:x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(At,{className:"h-5 w-5"}),"Alarm Logs"]}),x.jsxs(cr,{variant:"outline",size:"sm",onClick:E,disabled:k,children:[x.jsx(Ss,{className:"h-4 w-4 mr-2 "+(k?"animate-spin":"")}),"Refresh"]})]})}),x.jsx(Vo,{children:x.jsx(lm,{data:w,columns:Lx,loading:k,showSearch:!0,searchPlaceholder:"Search alarm logs...",showRowSelection:!1,title:`Device Alarm Logs (${w.length} records)`,description:`Showing alarm logs for device: ${(null==r?void 0:r.name)||(null==r?void 0:r.imei)}`,showPagination:!0,pageSize:10})})]})}),x.jsx(Yh,{value:"sms-limits",className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsx(Dx,{deviceImei:(null==r?void 0:r.imei)||"",simSlot:1}),x.jsx(Dx,{deviceImei:(null==r?void 0:r.imei)||"",simSlot:2})]})})]}),x.jsx(Xh,{open:p,onOpenChange:g,children:x.jsxs(tx,{className:"sm:max-w-md",children:[x.jsxs(sx,{children:[x.jsx(rx,{children:"Send SMS"}),x.jsx(ax,{children:"Send SMS message from this device."})]}),x.jsx(Ex,{onSubmit:e=>h(null,null,function*(){if(r){f(!0);try{const s=yield fetch(`/api/devices/${r.imei}/sms`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({sim_slot:e.sim_slot,phone_number:e.to,message:e.message,priority:"normal"})});if(s.ok)Ze.success("SMS sent successfully"),g(!1);else{const e=yield s.json();Ze.error(e.message||"Failed to send SMS")}}catch(s){console.error("Error sending SMS:",s),Ze.error("Failed to send SMS")}finally{f(!1)}}}),onCancel:()=>g(!1),isLoading:l})]})}),x.jsx(Xh,{open:v,onOpenChange:j,children:x.jsxs(tx,{className:"sm:max-w-md",children:[x.jsxs(sx,{children:[x.jsx(rx,{children:"Execute USSD"}),x.jsx(ax,{children:"Execute USSD command on this device."})]}),x.jsx(Fx,{onSubmit:e=>h(null,null,function*(){if(r){f(!0);try{const s=yield fetch(`/api/devices/${r.imei}/ussd`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)});if(s.ok)Ze.success("USSD command executed successfully"),j(!1);else{const e=yield s.json();Ze.error(e.message||"Failed to execute USSD")}}catch(s){console.error("Error executing USSD:",s),Ze.error("Failed to execute USSD")}finally{f(!1)}}}),onCancel:()=>j(!1),isLoading:l})]})}),x.jsx(Xh,{open:y,onOpenChange:b,children:x.jsxs(tx,{className:"sm:max-w-md",children:[x.jsxs(sx,{children:[x.jsx(rx,{children:"Start Alarm"}),x.jsx(ax,{children:"Start an alarm on this device with a custom message."})]}),x.jsx(Px,{onSubmit:e=>h(null,null,function*(){if(r){f(!0);try{const s={alarm_type:"custom_alarm",message:e.message||"Custom alarm triggered - Device needs attention"},n=yield fetch(`/api/devices/${r.imei}/alarm`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(s)});if(n.ok)Ze.success("Alarm started successfully"),b(!1),E();else{const e=yield n.json();Ze.error(e.message||"Failed to start alarm")}}catch(s){console.error("Error sending alarm:",s),Ze.error("Failed to start alarm")}finally{f(!1)}}}),onCancel:()=>b(!1),isLoading:l})]})})]})}):x.jsx(Do,{breadcrumbs:D,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"text-muted-foreground",children:"Device not found"})})})}):x.jsx(Do,{breadcrumbs:D,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"text-muted-foreground",children:"Authentication required..."})})})});var A,R}const Ox=new class{getAll(e){return h(this,null,function*(){return Ho.get("/country-sites",e)})}getById(e){return h(this,null,function*(){return Ho.get(`/country-sites/${e}`)})}create(e){return h(this,null,function*(){return Ho.post("/country-sites",e)})}update(e,t){return h(this,null,function*(){return Ho.put(`/country-sites/${e}`,t)})}delete(e){return h(this,null,function*(){return Ho.delete(`/country-sites/${e}`)})}getUsers(){return h(this,null,function*(){return(yield Ho.get("/users")).users})}},Vx=[{title:"Dashboard",href:"/dashboard"},{title:"Country Sites",href:"/country-sites"}];function Ux(){const{user:e}=dt(),[t,s]=me.useState([]),[n,r]=me.useState(!0),[a,l]=me.useState(null),[i,o]=me.useState(1),[c,d]=me.useState(15),[u,m]=me.useState(0),[f,p]=me.useState(1),[g,v]=me.useState(""),[j,y]=me.useState("id"),[b,N]=me.useState("desc"),_=me.useCallback((...e)=>h(null,[...e],function*(e=i,t=c,n=g,a=j,u=b){try{r(!0),l(null),console.log("Fetching country sites...",{page:e,perPage:t,search:n,sortByField:a,sortOrderField:u});const i=yield Ox.getAll({search:n||void 0,sort_by:a,sort_order:u,page:e,per_page:t});if(console.log("Country sites response:",i),!i||!i.data)throw new Error("Invalid response structure: missing data field");console.log("Setting country sites with",i.data.length,"records"),s(i.data),m(i.total||0),p(i.last_page||1),o(e),d(t)}catch(h){console.error("Error fetching country sites:",h),l(h instanceof Error?h.message:"Failed to fetch country sites"),Ze.error("Failed to fetch country sites"),s([]),m(0),p(0)}finally{r(!1)}}),[i,c,g,j,b]);me.useEffect(()=>{_()},[_]);const w=e=>{o(e)},S=[Qm(),{accessorKey:"name",header:"Name",cell:({row:e})=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Rt,{className:"h-4 w-4 text-muted-foreground"}),e.getValue("name")]})},{accessorKey:"country_phone_code",header:"Phone Code",cell:({row:e})=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(ys,{className:"h-4 w-4 text-muted-foreground"}),x.jsx($l,{variant:"outline",children:e.getValue("country_phone_code")})]})},{accessorKey:"manager_user_name",header:"Manager User",cell:({row:e})=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Gs,{className:"h-4 w-4 text-muted-foreground"}),e.getValue("manager_user_name")||"N/A"]})},{accessorKey:"operator_user_name",header:"Operator User",cell:({row:e})=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Ws,{className:"h-4 w-4 text-muted-foreground"}),e.getValue("operator_user_name")||"N/A"]})},Ym(),Xm({onDelete:e=>h(null,null,function*(){try{yield Ox.delete(e.id),Ze.success("Country site deleted successfully"),_()}catch(t){console.error("Error deleting country site:",t),Ze.error("Failed to delete country site")}}),editPath:e=>`/country-sites/${e.id}/edit`,deleteConfirmMessage:"Are you sure you want to delete this country site? This action cannot be undone."})];if(!e)return x.jsx(Do,{breadcrumbs:Vx,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"text-center",children:x.jsx("p",{className:"text-muted-foreground",children:"Please log in to view country sites."})})})});if(n)return x.jsx(Do,{breadcrumbs:Vx,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading country sites..."})]})})});if(a)return x.jsx(Do,{breadcrumbs:Vx,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsxs("p",{className:"text-destructive",children:["Error loading country sites: ",a]}),x.jsxs(cr,{onClick:()=>_(),className:"mt-4",children:[x.jsx(Ss,{className:"mr-2 h-4 w-4"}),"Retry"]})]})})});const k=x.jsx("div",{className:"flex items-center justify-center py-8",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Rt,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),x.jsx("h3",{className:"text-sm font-semibold",children:"No country sites found"}),x.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Get started by creating a new country site."}),x.jsx(fe,{to:"/country-sites/create",children:x.jsxs(cr,{className:"mt-4",children:[x.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Create Country Site"]})})]})});return x.jsx(Do,{breadcrumbs:Vx,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-x-auto",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Country Sites"}),x.jsxs("p",{className:"text-muted-foreground",children:["Manage country sites and their configurations (",u," total records)"]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>_(),disabled:n,children:x.jsx(Ss,{className:"h-4 w-4 "+(n?"animate-spin":"")})}),x.jsx(fe,{to:"/country-sites/create",children:x.jsxs(cr,{children:[x.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Create Country Site"]})})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(rs,{className:"h-5 w-5"}),"Search"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{className:"relative flex-1 max-w-sm",children:[x.jsx(Es,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),x.jsx(dr,{placeholder:"Search country sites...",value:g,onChange:e=>{return t=e.target.value,v(t),void o(1);var t},className:"pl-10"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("span",{className:"text-sm font-medium",children:"Rows per page:"}),x.jsx("select",{value:c,onChange:e=>{return t=Number(e.target.value),d(t),void o(1);var t},className:"border rounded px-2 py-1 text-sm",children:[5,10,15,20,25,30,40,50,100].map(e=>x.jsx("option",{value:e,children:e},e))})]})]})})]}),x.jsx(lm,{columns:S,data:t,title:`Country Sites (Page ${i} of ${f})`,description:`Showing ${t.length} of ${u} total records`,emptyState:k,pageSize:c,showSearch:!1,showViewOptions:!1,showPagination:!1,className:"space-y-4"}),f>1&&x.jsx(To,{children:x.jsx(Vo,{className:"p-4",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(i-1)*c+1," to ",Math.min(i*c,u)," of ",u," records"]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>w(1),disabled:1===i,children:"First"}),x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>w(i-1),disabled:1===i,children:"Previous"}),x.jsxs("span",{className:"text-sm",children:["Page ",i," of ",f]}),x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>w(i+1),disabled:i===f,children:"Next"}),x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>w(f),disabled:i===f,children:"Last"})]})]})})})]})})}function Bx(){const e=pe(),[t,s]=me.useState([]),[n,r]=me.useState(!1),[a,l]=me.useState(!0),[i,d]=me.useState({name:"",country_phone_code:"",manager_user:0,operator_user:0}),[u,m]=me.useState({});me.useEffect(()=>{f()},[]);const f=()=>h(null,null,function*(){try{l(!0);const e=yield Ox.getUsers();Array.isArray(e)?s(e):(console.error("Users response is not an array:",e),s([]),Ze.error("Invalid users data received"))}catch(e){console.error("Error loading users:",e),s([]),Ze.error("Failed to load users")}finally{l(!1)}}),p=(e,t)=>{d(s=>c(o({},s),{[e]:t})),u[e]&&m(t=>c(o({},t),{[e]:""}))};return x.jsx(Do,{children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs(cr,{variant:"outline",size:"sm",onClick:()=>e("/country-sites"),children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back"]}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Country Site"}),x.jsx("p",{className:"text-muted-foreground",children:"Add a new country site with assigned users"})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Rt,{className:"h-4 w-4"}),"Country Site Information"]})}),x.jsx(Vo,{children:x.jsxs("form",{onSubmit:t=>h(null,null,function*(){t.preventDefault(),r(!0);try{if(!i.name.trim())return void m(e=>c(o({},e),{name:"Name is required"}));if(!i.country_phone_code.trim())return void m(e=>c(o({},e),{country_phone_code:"Country phone code is required"}));if(0===i.manager_user)return void m(e=>c(o({},e),{manager_user:"Manager user is required"}));if(0===i.operator_user)return void m(e=>c(o({},e),{operator_user:"Operator user is required"}));yield Ox.create(i),Ze.success("Country site created successfully"),e("/country-sites")}catch(s){s.errors?m(s.errors):Ze.error("Failed to create country site")}finally{r(!1)}}),className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"name",children:"Name *"}),x.jsx(dr,{id:"name",value:i.name,onChange:e=>p("name",e.target.value),placeholder:"e.g., Turkey"}),u.name&&x.jsx("p",{className:"text-sm text-destructive",children:u.name})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"country_phone_code",children:"Country Phone Code *"}),x.jsxs("div",{className:"relative",children:[x.jsx(ys,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),x.jsx(dr,{id:"country_phone_code",value:i.country_phone_code,onChange:e=>p("country_phone_code",e.target.value),placeholder:"e.g., +90",className:"pl-10"})]}),u.country_phone_code&&x.jsx("p",{className:"text-sm text-destructive",children:u.country_phone_code})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"manager_user",children:"Manager User *"}),x.jsxs(Xu,{value:i.manager_user.toString(),onValueChange:e=>p("manager_user",parseInt(e)),children:[x.jsx(Zu,{children:x.jsx(Ju,{placeholder:"Select manager user"})}),x.jsx(em,{children:a?x.jsx(tm,{value:"loading",disabled:!0,children:"Loading users..."}):Array.isArray(t)&&t.length>0?t.map(e=>x.jsxs(tm,{value:e.id.toString(),children:[e.username," (",e.email,")"]},e.id)):x.jsx(tm,{value:"no-users",disabled:!0,children:"No users available"})})]}),u.manager_user&&x.jsx("p",{className:"text-sm text-destructive",children:u.manager_user})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"operator_user",children:"Operator User *"}),x.jsxs(Xu,{value:i.operator_user.toString(),onValueChange:e=>p("operator_user",parseInt(e)),children:[x.jsx(Zu,{children:x.jsx(Ju,{placeholder:"Select operator user"})}),x.jsx(em,{children:a?x.jsx(tm,{value:"loading",disabled:!0,children:"Loading users..."}):Array.isArray(t)&&t.length>0?t.map(e=>x.jsxs(tm,{value:e.id.toString(),children:[e.username," (",e.email,")"]},e.id)):x.jsx(tm,{value:"no-users",disabled:!0,children:"No users available"})})]}),u.operator_user&&x.jsx("p",{className:"text-sm text-destructive",children:u.operator_user})]})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsxs(cr,{type:"submit",disabled:n,children:[x.jsx(Ms,{className:"mr-2 h-4 w-4"}),n?"Creating...":"Create Country Site"]}),x.jsx(cr,{type:"button",variant:"outline",onClick:()=>e("/country-sites"),children:"Cancel"})]})]})})]})]})})}function $x(){const e=pe(),{id:t}=ve(),[s,n]=me.useState([]),[r,a]=me.useState(null),[l,i]=me.useState(!1),[d,u]=me.useState(!0),[m,f]=me.useState(!0),[p,g]=me.useState({name:"",country_phone_code:"",manager_user:0,operator_user:0}),[v,j]=me.useState({});me.useEffect(()=>{t&&h(null,null,function*(){try{const[e,s]=yield Promise.all([Ox.getById(parseInt(t)),Ox.getUsers()]);a(e),g({name:e.name,country_phone_code:e.country_phone_code,manager_user:e.manager_user,operator_user:e.operator_user}),Array.isArray(s)?n(s):(console.error("Users response is not an array:",s),n([]),Ze.error("Invalid users data received"))}catch(s){console.error("Error loading data:",s),Ze.error("Failed to load country site data"),e("/country-sites")}finally{f(!1),u(!1)}})},[t,e]);const y=(e,t)=>{g(s=>c(o({},s),{[e]:t})),v[e]&&j(t=>c(o({},t),{[e]:""}))};return m?x.jsx(Do,{children:x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsx("div",{className:"text-muted-foreground",children:"Loading country site..."})})}):r?x.jsx(Do,{children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs(cr,{variant:"outline",size:"sm",onClick:()=>e("/country-sites"),children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back"]}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Country Site"}),x.jsx("p",{className:"text-muted-foreground",children:"Update country site information"})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Rt,{className:"h-4 w-4"}),"Country Site Information"]})}),x.jsx(Vo,{children:x.jsxs("form",{onSubmit:s=>h(null,null,function*(){s.preventDefault(),i(!0);try{if(!p.name.trim())return void j(e=>c(o({},e),{name:"Name is required"}));if(!p.country_phone_code.trim())return void j(e=>c(o({},e),{country_phone_code:"Country phone code is required"}));if(0===p.manager_user)return void j(e=>c(o({},e),{manager_user:"Manager user is required"}));if(0===p.operator_user)return void j(e=>c(o({},e),{operator_user:"Operator user is required"}));yield Ox.update(parseInt(t),p),Ze.success("Country site updated successfully"),e("/country-sites")}catch(n){n.errors?j(n.errors):Ze.error("Failed to update country site")}finally{i(!1)}}),className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"name",children:"Name *"}),x.jsx(dr,{id:"name",value:p.name,onChange:e=>y("name",e.target.value),placeholder:"e.g., Turkey"}),v.name&&x.jsx("p",{className:"text-sm text-destructive",children:v.name})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"country_phone_code",children:"Country Phone Code *"}),x.jsxs("div",{className:"relative",children:[x.jsx(ys,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),x.jsx(dr,{id:"country_phone_code",value:p.country_phone_code,onChange:e=>y("country_phone_code",e.target.value),placeholder:"e.g., +90",className:"pl-10"})]}),v.country_phone_code&&x.jsx("p",{className:"text-sm text-destructive",children:v.country_phone_code})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"manager_user",children:"Manager User *"}),x.jsxs(Xu,{value:p.manager_user.toString(),onValueChange:e=>y("manager_user",parseInt(e)),children:[x.jsx(Zu,{children:x.jsx(Ju,{placeholder:"Select manager user"})}),x.jsx(em,{children:d?x.jsx(tm,{value:"loading",disabled:!0,children:"Loading users..."}):Array.isArray(s)&&s.length>0?s.map(e=>x.jsxs(tm,{value:e.id.toString(),children:[e.username," (",e.email,")"]},e.id)):x.jsx(tm,{value:"no-users",disabled:!0,children:"No users available"})})]}),v.manager_user&&x.jsx("p",{className:"text-sm text-destructive",children:v.manager_user})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"operator_user",children:"Operator User *"}),x.jsxs(Xu,{value:p.operator_user.toString(),onValueChange:e=>y("operator_user",parseInt(e)),children:[x.jsx(Zu,{children:x.jsx(Ju,{placeholder:"Select operator user"})}),x.jsx(em,{children:d?x.jsx(tm,{value:"loading",disabled:!0,children:"Loading users..."}):Array.isArray(s)&&s.length>0?s.map(e=>x.jsxs(tm,{value:e.id.toString(),children:[e.username," (",e.email,")"]},e.id)):x.jsx(tm,{value:"no-users",disabled:!0,children:"No users available"})})]}),v.operator_user&&x.jsx("p",{className:"text-sm text-destructive",children:v.operator_user})]})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsxs(cr,{type:"submit",disabled:l,children:[x.jsx(Ms,{className:"mr-2 h-4 w-4"}),l?"Updating...":"Update Country Site"]}),x.jsx(cr,{type:"button",variant:"outline",onClick:()=>e("/country-sites"),children:"Cancel"})]})]})})]})]})}):x.jsx(Do,{children:x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsx("div",{className:"text-muted-foreground",children:"Country site not found"})})})}const Hx=new class{getDeviceGroups(){return h(this,arguments,function*(e={}){return Ho.get("/device-groups",e)})}getDeviceGroup(e){return h(this,null,function*(){return(yield Ho.get(`/device-groups/${e}`)).data})}createDeviceGroup(e){return h(this,null,function*(){return(yield Ho.post("/device-groups",e)).data})}updateDeviceGroup(e,t){return h(this,null,function*(){return(yield Ho.put(`/device-groups/${e}`,t)).data})}deleteDeviceGroup(e){return h(this,null,function*(){return Ho.delete(`/device-groups/${e}`)})}generateQRCode(e){return h(this,null,function*(){return Ho.get(`/device-groups/${e}/qr-code`)})}},qx=Re((e,t)=>({deviceGroups:[],deviceGroupsLoading:!1,deviceGroupsError:null,currentDeviceGroup:null,currentDeviceGroupLoading:!1,currentDeviceGroupError:null,countrySites:[],countrySitesLoading:!1,countrySitesError:null,loadDeviceGroups:()=>h(null,null,function*(){try{e({deviceGroupsLoading:!0,deviceGroupsError:null});const t=yield Hx.getDeviceGroups();e({deviceGroups:t.data||[],deviceGroupsLoading:!1})}catch(t){e({deviceGroupsError:t instanceof Error?t.message:"Failed to load device groups",deviceGroupsLoading:!1})}}),loadDeviceGroup:t=>h(null,null,function*(){try{e({currentDeviceGroupLoading:!0,currentDeviceGroupError:null});const s=yield Hx.getDeviceGroup(t);e({currentDeviceGroup:s,currentDeviceGroupLoading:!1})}catch(s){e({currentDeviceGroupError:s instanceof Error?s.message:"Failed to load device group",currentDeviceGroupLoading:!1})}}),createDeviceGroup:e=>h(null,null,function*(){try{yield Hx.createDeviceGroup(e),Ze.success("Device group created successfully"),yield t().loadDeviceGroups()}catch(s){throw Ze.error("Failed to create device group"),s}}),updateDeviceGroup:(e,s)=>h(null,null,function*(){try{yield Hx.updateDeviceGroup(e,s),Ze.success("Device group updated successfully"),yield Promise.all([t().loadDeviceGroups(),t().loadDeviceGroup(e)])}catch(n){throw Ze.error("Failed to update device group"),n}}),deleteDeviceGroup:e=>h(null,null,function*(){try{yield Hx.deleteDeviceGroup(e),Ze.success("Device group deleted successfully"),yield t().loadDeviceGroups()}catch(s){throw Ze.error("Failed to delete device group"),s}}),generateQRCode:e=>h(null,null,function*(){try{return yield Hx.generateQRCode(e)}catch(t){throw Ze.error("Failed to generate QR code"),t}}),loadCountrySites:()=>h(null,null,function*(){try{e({countrySitesLoading:!0,countrySitesError:null});const t=yield Ox.getAll();e({countrySites:t.data||[],countrySitesLoading:!1})}catch(t){e({countrySitesError:t instanceof Error?t.message:"Failed to load country sites",countrySitesLoading:!1})}}),clearErrors:()=>{e({countrySitesError:null})}}));var Gx,Wx,Kx,Qx={},Yx={},Xx={};function Jx(){if(Kx)return Xx;let e;Kx=1;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Xx.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},Xx.getSymbolTotalCodewords=function(e){return t[e]},Xx.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},Xx.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');e=t},Xx.isKanjiModeEnabled=function(){return void 0!==e},Xx.toSJIS=function(t){return e(t)},Xx}var Zx,ef,tf,sf,nf,rf={};function af(){return Zx||(Zx=1,(e=rf).L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},e.from=function(t,s){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(n){return s}}),rf;var e}var lf,of,cf,df,uf={},mf={},hf={},xf={};function ff(){if(df)return xf;df=1;const e=af(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],s=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return xf.getBlocksCount=function(s,n){switch(n){case e.L:return t[4*(s-1)+0];case e.M:return t[4*(s-1)+1];case e.Q:return t[4*(s-1)+2];case e.H:return t[4*(s-1)+3];default:return}},xf.getTotalCodewordsCount=function(t,n){switch(n){case e.L:return s[4*(t-1)+0];case e.M:return s[4*(t-1)+1];case e.Q:return s[4*(t-1)+2];case e.H:return s[4*(t-1)+3];default:return}},xf}var pf,gf,vf,jf,yf={},bf={};function Nf(){return gf||(gf=1,function(e){const t=function(){if(pf)return bf;pf=1;const e=new Uint8Array(512),t=new Uint8Array(256);return function(){let s=1;for(let n=0;n<255;n++)e[n]=s,t[s]=n,s<<=1,256&s&&(s^=285);for(let t=255;t<512;t++)e[t]=e[t-255]}(),bf.log=function(e){if(e<1)throw new Error("log("+e+")");return t[e]},bf.exp=function(t){return e[t]},bf.mul=function(s,n){return 0===s||0===n?0:e[t[s]+t[n]]},bf}();e.mul=function(e,s){const n=new Uint8Array(e.length+s.length-1);for(let r=0;r<e.length;r++)for(let a=0;a<s.length;a++)n[r+a]^=t.mul(e[r],s[a]);return n},e.mod=function(e,s){let n=new Uint8Array(e);for(;n.length-s.length>=0;){const e=n[0];for(let a=0;a<s.length;a++)n[a]^=t.mul(s[a],e);let r=0;for(;r<n.length&&0===n[r];)r++;n=n.slice(r)}return n},e.generateECPolynomial=function(s){let n=new Uint8Array([1]);for(let r=0;r<s;r++)n=e.mul(n,new Uint8Array([1,t.exp(r)]));return n}}(yf)),yf}var _f,wf={},Sf={},kf={};function Cf(){return _f||(_f=1,kf.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),kf}var Mf,Ef,Ff,Pf={};function Df(){if(Mf)return Pf;Mf=1;const e="[0-9]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const s="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+")(?:.|[\r\n]))+";Pf.KANJI=new RegExp(t,"g"),Pf.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Pf.BYTE=new RegExp(s,"g"),Pf.NUMERIC=new RegExp(e,"g"),Pf.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const n=new RegExp("^"+t+"$"),r=new RegExp("^"+e+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Pf.testKanji=function(e){return n.test(e)},Pf.testNumeric=function(e){return r.test(e)},Pf.testAlphanumeric=function(e){return a.test(e)},Pf}function Af(){return Ef||(Ef=1,function(e){const t=Cf(),s=Df();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(e,s){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?e.ccBits[0]:s<27?e.ccBits[1]:e.ccBits[2]},e.getBestModeForData=function(t){return s.testNumeric(t)?e.NUMERIC:s.testAlphanumeric(t)?e.ALPHANUMERIC:s.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},e.isValid=function(e){return e&&e.bit&&e.ccBits},e.from=function(t,s){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(n){return s}}}(Sf)),Sf}function Rf(){return Ff||(Ff=1,function(e){const t=Jx(),s=ff(),n=af(),r=Af(),a=Cf(),l=t.getBCHDigit(7973);function i(e,t){return r.getCharCountIndicator(e,t)+4}function o(e,t){let s=0;return e.forEach(function(e){const n=i(e.mode,t);s+=n+e.getBitsLength()}),s}e.from=function(e,t){return a.isValid(e)?parseInt(e,10):t},e.getCapacity=function(e,n,l){if(!a.isValid(e))throw new Error("Invalid QR Code version");void 0===l&&(l=r.BYTE);const o=8*(t.getSymbolTotalCodewords(e)-s.getTotalCodewordsCount(e,n));if(l===r.MIXED)return o;const c=o-i(l,e);switch(l){case r.NUMERIC:return Math.floor(c/10*3);case r.ALPHANUMERIC:return Math.floor(c/11*2);case r.KANJI:return Math.floor(c/13);case r.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,s){let a;const l=n.from(s,n.M);if(Array.isArray(t)){if(t.length>1)return function(t,s){for(let n=1;n<=40;n++)if(o(t,n)<=e.getCapacity(n,s,r.MIXED))return n}(t,l);if(0===t.length)return 1;a=t[0]}else a=t;return function(t,s,n){for(let r=1;r<=40;r++)if(s<=e.getCapacity(r,n,t))return r}(a.mode,a.getLength(),l)},e.getEncodedBits=function(e){if(!a.isValid(e)||e<7)throw new Error("Invalid QR Code version");let s=e<<12;for(;t.getBCHDigit(s)-l>=0;)s^=7973<<t.getBCHDigit(s)-l;return e<<12|s}}(wf)),wf}var If,Tf,Lf,zf,Of,Vf,Uf,Bf,$f,Hf,qf,Gf,Wf={},Kf={},Qf={exports:{}};function Yf(){return qf||(qf=1,function(e){const t=Af(),s=function(){if(Lf)return Tf;Lf=1;const e=Af();function t(t){this.mode=e.NUMERIC,this.data=t.toString()}return t.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(e){let t,s,n;for(t=0;t+3<=this.data.length;t+=3)s=this.data.substr(t,3),n=parseInt(s,10),e.put(n,10);const r=this.data.length-t;r>0&&(s=this.data.substr(t),n=parseInt(s,10),e.put(n,3*r+1))},Tf=t}(),n=function(){if(Of)return zf;Of=1;const e=Af(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function s(t){this.mode=e.ALPHANUMERIC,this.data=t}return s.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(e){let s;for(s=0;s+2<=this.data.length;s+=2){let n=45*t.indexOf(this.data[s]);n+=t.indexOf(this.data[s+1]),e.put(n,11)}this.data.length%2&&e.put(t.indexOf(this.data[s]),6)},zf=s}(),r=function(){if(Uf)return Vf;Uf=1;const e=Af();function t(t){this.mode=e.BYTE,this.data="string"==typeof t?(new TextEncoder).encode(t):new Uint8Array(t)}return t.getBitsLength=function(e){return 8*e},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(e){for(let t=0,s=this.data.length;t<s;t++)e.put(this.data[t],8)},Vf=t}(),a=function(){if($f)return Bf;$f=1;const e=Af(),t=Jx();function s(t){this.mode=e.KANJI,this.data=t}return s.getBitsLength=function(e){return 13*e},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(e){let s;for(s=0;s<this.data.length;s++){let n=t.toSJIS(this.data[s]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[s]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},Bf=s}(),l=Df(),i=Jx(),o=function(){return Hf||(Hf=1,Qf.exports=e={single_source_shortest_paths:function(t,s,n){var r={},a={};a[s]=0;var l,i,o,c,d,u,m,h=e.PriorityQueue.make();for(h.push(s,0);!h.empty();)for(o in i=(l=h.pop()).value,c=l.cost,d=t[i]||{})d.hasOwnProperty(o)&&(u=c+d[o],m=a[o],(void 0===a[o]||m>u)&&(a[o]=u,h.push(o,u),r[o]=i));if(void 0!==n&&void 0===a[n]){var x=["Could not find a path from ",s," to ",n,"."].join("");throw new Error(x)}return r},extract_shortest_path_from_predecessor_list:function(e,t){for(var s=[],n=t;n;)s.push(n),e[n],n=e[n];return s.reverse(),s},find_path:function(t,s,n){var r=e.single_source_shortest_paths(t,s,n);return e.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(t){var s,n=e.PriorityQueue,r={};for(s in t=t||{},n)n.hasOwnProperty(s)&&(r[s]=n[s]);return r.queue=[],r.sorter=t.sorter||n.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var s={value:e,cost:t};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}}),Qf.exports;var e}();function c(e){return unescape(encodeURIComponent(e)).length}function d(e,t,s){const n=[];let r;for(;null!==(r=e.exec(s));)n.push({data:r[0],index:r.index,mode:t,length:r[0].length});return n}function u(e){const s=d(l.NUMERIC,t.NUMERIC,e),n=d(l.ALPHANUMERIC,t.ALPHANUMERIC,e);let r,a;return i.isKanjiModeEnabled()?(r=d(l.BYTE,t.BYTE,e),a=d(l.KANJI,t.KANJI,e)):(r=d(l.BYTE_KANJI,t.BYTE,e),a=[]),s.concat(n,r,a).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function m(e,l){switch(l){case t.NUMERIC:return s.getBitsLength(e);case t.ALPHANUMERIC:return n.getBitsLength(e);case t.KANJI:return a.getBitsLength(e);case t.BYTE:return r.getBitsLength(e)}}function h(e,l){let o;const c=t.getBestModeForData(e);if(o=t.from(l,c),o!==t.BYTE&&o.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+t.toString(o)+".\n Suggested mode is: "+t.toString(c));switch(o!==t.KANJI||i.isKanjiModeEnabled()||(o=t.BYTE),o){case t.NUMERIC:return new s(e);case t.ALPHANUMERIC:return new n(e);case t.KANJI:return new a(e);case t.BYTE:return new r(e)}}e.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(h(t,null)):t.data&&e.push(h(t.data,t.mode)),e},[])},e.fromString=function(s,n){const r=function(e){const s=[];for(let n=0;n<e.length;n++){const r=e[n];switch(r.mode){case t.NUMERIC:s.push([r,{data:r.data,mode:t.ALPHANUMERIC,length:r.length},{data:r.data,mode:t.BYTE,length:r.length}]);break;case t.ALPHANUMERIC:s.push([r,{data:r.data,mode:t.BYTE,length:r.length}]);break;case t.KANJI:s.push([r,{data:r.data,mode:t.BYTE,length:c(r.data)}]);break;case t.BYTE:s.push([{data:r.data,mode:t.BYTE,length:c(r.data)}])}}return s}(u(s,i.isKanjiModeEnabled())),a=function(e,s){const n={},r={start:{}};let a=["start"];for(let l=0;l<e.length;l++){const i=e[l],o=[];for(let e=0;e<i.length;e++){const c=i[e],d=""+l+e;o.push(d),n[d]={node:c,lastCount:0},r[d]={};for(let e=0;e<a.length;e++){const l=a[e];n[l]&&n[l].node.mode===c.mode?(r[l][d]=m(n[l].lastCount+c.length,c.mode)-m(n[l].lastCount,c.mode),n[l].lastCount+=c.length):(n[l]&&(n[l].lastCount=c.length),r[l][d]=m(c.length,c.mode)+4+t.getCharCountIndicator(c.mode,s))}}a=o}for(let t=0;t<a.length;t++)r[a[t]].end=0;return{map:r,table:n}}(r,n),l=o.find_path(a.map,"start","end"),d=[];for(let e=1;e<l.length-1;e++)d.push(a.table[l[e]].node);return e.fromArray(function(e){return e.reduce(function(e,t){const s=e.length-1>=0?e[e.length-1]:null;return s&&s.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}(d))},e.rawSplit=function(t){return e.fromArray(u(t,i.isKanjiModeEnabled()))}}(Kf)),Kf}function Xf(){if(Gf)return Yx;Gf=1;const e=Jx(),t=af(),s=function(){if(tf)return ef;function e(){this.buffer=[],this.length=0}return tf=1,e.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let s=0;s<t;s++)this.putBit(1==(e>>>t-s-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},ef=e}(),n=function(){if(nf)return sf;function e(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return nf=1,e.prototype.set=function(e,t,s,n){const r=e*this.size+t;this.data[r]=s,n&&(this.reservedBit[r]=!0)},e.prototype.get=function(e,t){return this.data[e*this.size+t]},e.prototype.xor=function(e,t,s){this.data[e*this.size+t]^=s},e.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},sf=e}(),r=(lf||(lf=1,function(e){const t=Jx().getSymbolSize;e.getRowColCoords=function(e){if(1===e)return[];const s=Math.floor(e/7)+2,n=t(e),r=145===n?26:2*Math.ceil((n-13)/(2*s-2)),a=[n-7];for(let t=1;t<s-1;t++)a[t]=a[t-1]-r;return a.push(6),a.reverse()},e.getPositions=function(t){const s=[],n=e.getRowColCoords(t),r=n.length;for(let e=0;e<r;e++)for(let t=0;t<r;t++)0===e&&0===t||0===e&&t===r-1||e===r-1&&0===t||s.push([n[e],n[t]]);return s}}(uf)),uf),a=function(){if(of)return mf;of=1;const e=Jx().getSymbolSize;return mf.getPositions=function(t){const s=e(t);return[[0,0],[s-7,0],[0,s-7]]},mf}(),l=(cf||(cf=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t=3,s=3,n=40,r=10;function a(t,s,n){switch(t){case e.Patterns.PATTERN000:return(s+n)%2==0;case e.Patterns.PATTERN001:return s%2==0;case e.Patterns.PATTERN010:return n%3==0;case e.Patterns.PATTERN011:return(s+n)%3==0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(n/3))%2==0;case e.Patterns.PATTERN101:return s*n%2+s*n%3==0;case e.Patterns.PATTERN110:return(s*n%2+s*n%3)%2==0;case e.Patterns.PATTERN111:return(s*n%3+(s+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(e){const s=e.size;let n=0,r=0,a=0,l=null,i=null;for(let o=0;o<s;o++){r=a=0,l=i=null;for(let c=0;c<s;c++){let s=e.get(o,c);s===l?r++:(r>=5&&(n+=t+(r-5)),l=s,r=1),s=e.get(c,o),s===i?a++:(a>=5&&(n+=t+(a-5)),i=s,a=1)}r>=5&&(n+=t+(r-5)),a>=5&&(n+=t+(a-5))}return n},e.getPenaltyN2=function(e){const t=e.size;let n=0;for(let s=0;s<t-1;s++)for(let r=0;r<t-1;r++){const t=e.get(s,r)+e.get(s,r+1)+e.get(s+1,r)+e.get(s+1,r+1);4!==t&&0!==t||n++}return n*s},e.getPenaltyN3=function(e){const t=e.size;let s=0,r=0,a=0;for(let n=0;n<t;n++){r=a=0;for(let l=0;l<t;l++)r=r<<1&2047|e.get(n,l),l>=10&&(1488===r||93===r)&&s++,a=a<<1&2047|e.get(l,n),l>=10&&(1488===a||93===a)&&s++}return s*n},e.getPenaltyN4=function(e){let t=0;const s=e.data.length;for(let n=0;n<s;n++)t+=e.data[n];return Math.abs(Math.ceil(100*t/s/5)-10)*r},e.applyMask=function(e,t){const s=t.size;for(let n=0;n<s;n++)for(let r=0;r<s;r++)t.isReserved(r,n)||t.xor(r,n,a(e,r,n))},e.getBestMask=function(t,s){const n=Object.keys(e.Patterns).length;let r=0,a=1/0;for(let l=0;l<n;l++){s(l),e.applyMask(l,t);const n=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(l,t),n<a&&(a=n,r=l)}return r}}(hf)),hf),i=ff(),o=function(){if(jf)return vf;jf=1;const e=Nf();function t(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(t){this.degree=t,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(t.length+this.degree);s.set(t);const n=e.mod(s,this.genPoly),r=this.degree-n.length;if(r>0){const e=new Uint8Array(this.degree);return e.set(n,r),e}return n},vf=t}(),c=Rf(),d=function(){if(If)return Wf;If=1;const e=Jx(),t=e.getBCHDigit(1335);return Wf.getEncodedBits=function(s,n){const r=s.bit<<3|n;let a=r<<10;for(;e.getBCHDigit(a)-t>=0;)a^=1335<<e.getBCHDigit(a)-t;return 21522^(r<<10|a)},Wf}(),u=Af(),m=Yf();function h(e,t,s){const n=e.size,r=d.getEncodedBits(t,s);let a,l;for(a=0;a<15;a++)l=1==(r>>a&1),a<6?e.set(a,8,l,!0):a<8?e.set(a+1,8,l,!0):e.set(n-15+a,8,l,!0),a<8?e.set(8,n-a-1,l,!0):a<9?e.set(8,15-a-1+1,l,!0):e.set(8,15-a-1,l,!0);e.set(n-8,8,1,!0)}function x(t,n,r){const a=new s;r.forEach(function(e){a.put(e.mode.bit,4),a.put(e.getLength(),u.getCharCountIndicator(e.mode,t)),e.write(a)});const l=8*(e.getSymbolTotalCodewords(t)-i.getTotalCodewordsCount(t,n));for(a.getLengthInBits()+4<=l&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(0);const c=(l-a.getLengthInBits())/8;for(let e=0;e<c;e++)a.put(e%2?17:236,8);return function(t,s,n){const r=e.getSymbolTotalCodewords(s),a=i.getTotalCodewordsCount(s,n),l=r-a,c=i.getBlocksCount(s,n),d=r%c,u=c-d,m=Math.floor(r/c),h=Math.floor(l/c),x=h+1,f=m-h,p=new o(f);let g=0;const v=new Array(c),j=new Array(c);let y=0;const b=new Uint8Array(t.buffer);for(let e=0;e<c;e++){const t=e<u?h:x;v[e]=b.slice(g,g+t),j[e]=p.encode(v[e]),g+=t,y=Math.max(y,t)}const N=new Uint8Array(r);let _,w,S=0;for(_=0;_<y;_++)for(w=0;w<c;w++)_<v[w].length&&(N[S++]=v[w][_]);for(_=0;_<f;_++)for(w=0;w<c;w++)N[S++]=j[w][_];return N}(a,t,n)}function f(t,s,i,o){let d;if(Array.isArray(t))d=m.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let e=s;if(!e){const s=m.rawSplit(t);e=c.getBestVersionForData(s,i)}d=m.fromString(t,e||40)}}const u=c.getBestVersionForData(d,i);if(!u)throw new Error("The amount of data is too big to be stored in a QR Code");if(s){if(s<u)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+u+".\n")}else s=u;const f=x(s,i,d),p=e.getSymbolSize(s),g=new n(p);return function(e,t){const s=e.size,n=a.getPositions(t);for(let r=0;r<n.length;r++){const t=n[r][0],a=n[r][1];for(let n=-1;n<=7;n++)if(!(t+n<=-1||s<=t+n))for(let r=-1;r<=7;r++)a+r<=-1||s<=a+r||(n>=0&&n<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===n||6===n)||n>=2&&n<=4&&r>=2&&r<=4?e.set(t+n,a+r,!0,!0):e.set(t+n,a+r,!1,!0))}}(g,s),function(e){const t=e.size;for(let s=8;s<t-8;s++){const t=s%2==0;e.set(s,6,t,!0),e.set(6,s,t,!0)}}(g),function(e,t){const s=r.getPositions(t);for(let n=0;n<s.length;n++){const t=s[n][0],r=s[n][1];for(let s=-2;s<=2;s++)for(let n=-2;n<=2;n++)-2===s||2===s||-2===n||2===n||0===s&&0===n?e.set(t+s,r+n,!0,!0):e.set(t+s,r+n,!1,!0)}}(g,s),h(g,i,0),s>=7&&function(e,t){const s=e.size,n=c.getEncodedBits(t);let r,a,l;for(let i=0;i<18;i++)r=Math.floor(i/3),a=i%3+s-8-3,l=1==(n>>i&1),e.set(r,a,l,!0),e.set(a,r,l,!0)}(g,s),function(e,t){const s=e.size;let n=-1,r=s-1,a=7,l=0;for(let i=s-1;i>0;i-=2)for(6===i&&i--;;){for(let s=0;s<2;s++)if(!e.isReserved(r,i-s)){let n=!1;l<t.length&&(n=1==(t[l]>>>a&1)),e.set(r,i-s,n),a--,-1===a&&(l++,a=7)}if(r+=n,r<0||s<=r){r-=n,n=-n;break}}}(g,f),isNaN(o)&&(o=l.getBestMask(g,h.bind(null,g,i))),l.applyMask(o,g),h(g,i,o),{modules:g,version:s,errorCorrectionLevel:i,maskPattern:o,segments:d}}return Yx.create=function(s,n){if(void 0===s||""===s)throw new Error("No input text");let r,a,i=t.M;return void 0!==n&&(i=t.from(n.errorCorrectionLevel,t.M),r=c.from(n.version),a=l.from(n.maskPattern),n.toSJISFunc&&e.setToSJISFunction(n.toSJISFunc)),f(s,r,i,a)},Yx}var Jf,Zf,ep={},tp={};function sp(){return Jf||(Jf=1,function(e){function t(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");const s=parseInt(t.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:255&s,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(e){e||(e={}),e.color||(e.color={});const s=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,r=e.scale||4;return{width:n,scale:n?4:r,margin:s,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},e.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},e.getImageWidth=function(t,s){const n=e.getScale(t,s);return Math.floor((t+2*s.margin)*n)},e.qrToImageData=function(t,s,n){const r=s.modules.size,a=s.modules.data,l=e.getScale(r,n),i=Math.floor((r+2*n.margin)*l),o=n.margin*l,c=[n.color.light,n.color.dark];for(let e=0;e<i;e++)for(let s=0;s<i;s++){let d=4*(e*i+s),u=n.color.light;e>=o&&s>=o&&e<i-o&&s<i-o&&(u=c[a[Math.floor((e-o)/l)*r+Math.floor((s-o)/l)]?1:0]),t[d++]=u.r,t[d++]=u.g,t[d++]=u.b,t[d]=u.a}}}(tp)),tp}function np(){return Zf||(Zf=1,function(e){const t=sp();e.render=function(e,s,n){let r=n,a=s;void 0!==r||s&&s.getContext||(r=s,s=void 0),s||(a=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),r=t.getOptions(r);const l=t.getImageWidth(e.modules.size,r),i=a.getContext("2d"),o=i.createImageData(l,l);return t.qrToImageData(o.data,e,r),function(e,t,s){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=s,t.width=s,t.style.height=s+"px",t.style.width=s+"px"}(i,a,l),i.putImageData(o,0,0),a},e.renderToDataURL=function(t,s,n){let r=n;void 0!==r||s&&s.getContext||(r=s,s=void 0),r||(r={});const a=e.render(t,s,r),l=r.type||"image/png",i=r.rendererOpts||{};return a.toDataURL(l,i.quality)}}(ep)),ep}var rp,ap,lp={};function ip(){if(rp)return lp;rp=1;const e=sp();function t(e,t){const s=e.a/255,n=t+'="'+e.hex+'"';return s<1?n+" "+t+'-opacity="'+s.toFixed(2).slice(1)+'"':n}function s(e,t,s){let n=e+t;return void 0!==s&&(n+=" "+s),n}return lp.render=function(n,r,a){const l=e.getOptions(r),i=n.modules.size,o=n.modules.data,c=i+2*l.margin,d=l.color.light.a?"<path "+t(l.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",u="<path "+t(l.color.dark,"stroke")+' d="'+function(e,t,n){let r="",a=0,l=!1,i=0;for(let o=0;o<e.length;o++){const c=Math.floor(o%t),d=Math.floor(o/t);c||l||(l=!0),e[o]?(i++,o>0&&c>0&&e[o-1]||(r+=l?s("M",c+n,.5+d+n):s("m",a,0),a=0,l=!1),c+1<t&&e[o+1]||(r+=s("h",i),i=0)):a++}return r}(o,i,l.margin)+'"/>',m='viewBox="0 0 '+c+" "+c+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+m+' shape-rendering="crispEdges">'+d+u+"</svg>\n";return"function"==typeof a&&a(null,h),h},lp}var op=function(){if(ap)return Qx;ap=1;const e=Wx?Gx:(Wx=1,Gx=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}),t=Xf(),s=np(),n=ip();function r(s,n,r,a,l){const i=[].slice.call(arguments,1),o=i.length,c="function"==typeof i[o-1];if(!c&&!e())throw new Error("Callback required as last argument");if(!c){if(o<1)throw new Error("Too few arguments provided");return 1===o?(r=n,n=a=void 0):2!==o||n.getContext||(a=r,r=n,n=void 0),new Promise(function(e,l){try{const l=t.create(r,a);e(s(l,n,a))}catch(i){l(i)}})}if(o<2)throw new Error("Too few arguments provided");2===o?(l=r,r=n,n=a=void 0):3===o&&(n.getContext&&void 0===l?(l=a,a=void 0):(l=a,a=r,r=n,n=void 0));try{const e=t.create(r,a);l(null,s(e,n,a))}catch(d){l(d)}}return Qx.create=t.create,Qx.toCanvas=r.bind(null,s.render),Qx.toDataURL=r.bind(null,s.renderToDataURL),Qx.toString=r.bind(null,function(e,t,s){return n.render(e,s)}),Qx}();const cp=Se(op);function dp({value:e,size:t=150,level:s="M",bgColor:n="#FFFFFF",fgColor:r="#000000",className:a=""}){const l=me.useRef(null),[i,o]=me.useState(!0),[c,d]=me.useState(null),[u,m]=me.useState(0);me.useEffect(()=>{h(null,null,function*(){if(l.current&&e){o(!0),d(null);try{console.log("Generating QR code for value:",e.substring(0,100)+"..."),console.log("QR code length:",e.length),yield cp.toCanvas(l.current,e,{width:t,margin:2,color:{dark:r,light:n},errorCorrectionLevel:s}),console.log("QR code generated successfully"),o(!1)}catch(a){console.error("QR code generation error:",a),d(`QR code generation failed: ${a instanceof Error?a.message:"Unknown error"}`),o(!1)}}})},[e,t,s,n,r,u]);const f=()=>{m(e=>e+1)};return c?x.jsxs("div",{className:`flex flex-col justify-center items-center space-y-2 ${a}`,children:[x.jsxs("div",{className:"text-red-500 text-sm text-center",children:["Error: ",c]}),x.jsx("button",{onClick:f,className:"px-3 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600",children:"Retry"})]}):x.jsxs("div",{className:`flex justify-center items-center relative ${a}`,children:[i&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 rounded",children:x.jsx("div",{className:"text-sm text-gray-600",children:"Generating QR..."})}),x.jsx("canvas",{ref:l,style:{width:t,height:t,maxWidth:"100%"}})]})}function up(){const[e,t]=me.useState("all"),[s,n]=me.useState(null),[r,a]=me.useState(!1),[l,i]=me.useState(null),[o,c]=me.useState(null),[d,u]=me.useState(""),{user:m}=dt(),f=pe(),{deviceGroups:p,countrySites:g,deviceGroupsLoading:v,deviceGroupsError:j,loadDeviceGroups:y,loadCountrySites:b,deleteDeviceGroup:N,generateQRCode:_}=qx(),w="admin"===(null==m?void 0:m.role),S="admin"===(null==m?void 0:m.role),k="admin"===(null==m?void 0:m.role),C=me.useCallback(()=>h(null,null,function*(){try{console.log("Fetching device groups..."),yield y()}catch(e){console.error("Error fetching device groups:",e),Ze.error("Failed to fetch device groups")}}),[y]);me.useEffect(()=>{C()},[C]),me.useEffect(()=>{b()},[b]);const M=me.useCallback(e=>h(null,null,function*(){try{yield N(e.id),Ze.success("Device group deleted successfully"),C()}catch(t){console.error("Error deleting device group:",t),Ze.error("Failed to delete device group")}}),[N,C]),E=me.useCallback(e=>h(null,null,function*(){try{yield navigator.clipboard.writeText(e),i(e),Ze.success("API key copied to clipboard"),setTimeout(()=>i(null),2e3)}catch(t){Ze.error("Failed to copy API key")}}),[]),F=[Qm(),{accessorKey:"device_group",header:"Name",cell:({row:e})=>x.jsx("div",{className:"font-medium",children:e.getValue("device_group")})},{accessorKey:"country_site",header:"Country Site",cell:({row:e})=>x.jsx("div",{className:"text-sm text-muted-foreground",children:e.getValue("country_site")||"N/A"})},{accessorKey:"device_type",header:"Device Type",cell:({row:e})=>{const t=e.getValue("device_type");return x.jsx($l,{variant:"outline",children:"android"===t?"Android":"usb_modem"===t?"USB Modem":t})}},{accessorKey:"status",header:"Status",cell:({row:e})=>{const t=e.getValue("status");let s="secondary",n=t;switch(t){case"active":s="default",n="Active";break;case"inactive":s="secondary",n="Inactive";break;case"maintenance":s="destructive",n="Maintenance";break;case"configured":s="secondary",n="Configured";break;case"incomplete":s="destructive",n="Incomplete";break;default:s="secondary",n="Unknown"}return x.jsx($l,{variant:s,children:n})}},{accessorKey:"queue_name",header:"Queue",cell:({row:e})=>x.jsx("div",{className:"text-sm text-muted-foreground",children:e.getValue("queue_name")||"N/A"})},{accessorKey:"api_key",header:"API Key",cell:({row:e})=>{const t=e.getValue("api_key");return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:t?`${t.slice(0,8)}...`:"N/A"}),t&&x.jsx(cr,{variant:"ghost",size:"sm",onClick:()=>E(t),title:"Copy API Key",children:x.jsx(Es,{className:"h-3 w-3"})})]})}},{id:"active_alarms",header:"Alarms",cell:({row:e})=>{const t=e.original,s=[t.enable_battery_alarms,t.enable_error_alarms,t.enable_offline_alarms,t.enable_signal_alarms,t.enable_sim_balance_alarms].filter(Boolean).length;return x.jsxs("div",{className:"text-sm",children:[s," active"]})}},{accessorKey:"low_balance_threshold",header:"Thresholds",cell:({row:e})=>x.jsx("div",{className:"text-sm text-muted-foreground",children:e.getValue("low_balance_threshold")||"N/A"})},{id:"sms_limit",header:"SMS Limits",cell:({row:e})=>{const t=e.original;return x.jsx("div",{className:"text-sm text-muted-foreground",children:t.enable_sms_limits?"Enabled":"Unlimited"})}},{id:"auto_actions",header:"Auto Actions",cell:({row:e})=>{const t=e.original;return x.jsx("div",{className:"flex gap-1",children:t.auto_disable_sim_on_alarm?x.jsx($l,{variant:"outline",className:"text-xs",children:"Enabled"}):x.jsx($l,{variant:"secondary",className:"text-xs",children:"Disabled"})})}},Ym(),{id:"actions",header:"Actions",cell:({row:e})=>{const t=e.original;return x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx(cr,{variant:"ghost",size:"sm",onClick:()=>h(null,null,function*(){try{const e=yield _(t.id);e.success&&(c(e.qr_data),n(t),a(!0))}catch(e){console.error("Error generating QR code:",e)}}),title:"QR Code",children:x.jsx(ws,{className:"h-4 w-4"})}),S&&x.jsx(cr,{variant:"ghost",size:"sm",onClick:()=>f(`/device-groups/${t.id}/edit`),title:"Edit",children:x.jsx(zs,{className:"h-4 w-4"})}),k&&x.jsx(cr,{variant:"ghost",size:"sm",title:"Delete",className:"text-destructive hover:text-destructive",onClick:()=>M(t),children:x.jsx(Us,{className:"h-4 w-4"})})]})}}];if(v)return x.jsx(Do,{children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading device groups..."})]})})});if(j)return x.jsx(Do,{children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsxs("p",{className:"text-destructive",children:["Error loading device groups: ",j]}),x.jsxs(cr,{onClick:()=>C(),className:"mt-4",children:[x.jsx(Ss,{className:"mr-2 h-4 w-4"}),"Retry"]})]})})});const P=x.jsx("div",{className:"flex items-center justify-center py-8",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Rt,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),x.jsx("h3",{className:"text-sm font-semibold",children:"No device groups found"}),x.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Get started by creating a new device group."}),w&&x.jsxs(cr,{onClick:()=>f("/device-groups/create"),className:"mt-4",children:[x.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Create Device Group"]})]})});return x.jsx(Do,{children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-x-auto",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Device Groups"}),x.jsxs("p",{className:"text-muted-foreground",children:["Manage device groups and their configurations (",(null==p?void 0:p.length)||0," total records)"]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>C(),disabled:v,children:x.jsx(Ss,{className:"h-4 w-4 "+(v?"animate-spin":"")})}),w&&x.jsxs(cr,{onClick:()=>f("/device-groups/create"),children:[x.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Add Device Group"]})]})]}),0===(null==g?void 0:g.length)&&x.jsx(To,{className:"border-yellow-200 bg-yellow-50",children:x.jsx(Vo,{className:"p-4",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(Rt,{className:"h-5 w-5 text-yellow-600"}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold text-yellow-800",children:"No Country Sites Available"}),x.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"You need to create at least one country site before creating device groups. Device groups must be associated with a country site."}),x.jsx("div",{className:"mt-3",children:x.jsx(cr,{onClick:()=>f("/countrysites/create"),size:"sm",className:"bg-yellow-600 hover:bg-yellow-700",children:"Create Country Site"})})]})]})})}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(rs,{className:"h-5 w-5"}),"Search & Filters"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Search"}),x.jsxs("div",{className:"relative",children:[x.jsx(Es,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),x.jsx(dr,{placeholder:"Search device groups...",value:d,onChange:e=>{return t=e.target.value,void u(t);var t},className:"pl-10"})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium",children:"Country Site"}),x.jsxs(Xu,{value:e,onValueChange:t,children:[x.jsx(Zu,{children:x.jsx(Ju,{placeholder:"Filter by country site"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"all",children:"All Country Sites"}),(null==g?void 0:g.length)>0?g.map(e=>x.jsx(tm,{value:e.id.toString(),children:e.name},e.id)):x.jsx(tm,{value:"loading",disabled:!0,children:"Loading country sites..."})]})]})]})]})})]}),x.jsx(lm,{columns:F,data:p||[],title:"Device Groups",description:`Showing ${(null==p?void 0:p.length)||0} total records`,emptyState:P,showSearch:!1,showViewOptions:!0,showPagination:!0,className:"space-y-4"}),s&&x.jsx(Lm,{open:r,onOpenChange:a,children:x.jsxs(Um,{className:"max-w-2xl",children:[x.jsxs(Bm,{children:[x.jsxs(Hm,{children:["QR Code for ",s.device_group]}),x.jsx(qm,{children:"Scan this QR code to connect your device to this group. This QR code contains all the necessary configuration for your device."})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("div",{className:"flex justify-center py-4",children:x.jsx(dp,{value:o||"",size:200})}),x.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[x.jsxs("div",{children:[x.jsx("strong",{children:"Device Group:"})," ",s.device_group]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Country Site:"})," ",s.country_site]}),x.jsxs("div",{children:[x.jsx("strong",{children:"API Key:"})," ",x.jsx("code",{className:"text-xs",children:s.api_key})]}),x.jsxs("div",{children:[x.jsx("strong",{children:"WebSocket URL:"})," ",x.jsx("code",{className:"text-xs",children:"ws://192.168.9.24:7001/ws"})]})]}),x.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[x.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"QR Code contains:"}),x.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[x.jsx("li",{children:" Device group and country site information"}),x.jsx("li",{children:" API key for authentication"}),x.jsx("li",{children:" WebSocket URL for real-time communication"})]})]})]}),x.jsx($m,{children:x.jsx(Wm,{children:"Close"})})]})})]})})}var mp="Switch",[hp,xp]=w(mp),[fp,pp]=hp(mp),gp=me.forwardRef((e,t)=>{const s=e,{__scopeSwitch:n,name:r,checked:a,defaultChecked:l,required:i,disabled:d,value:m="on",onCheckedChange:h,form:f}=s,g=u(s,["__scopeSwitch","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]),[v,j]=me.useState(null),y=E(t,e=>j(e)),b=me.useRef(!1),N=!v||f||!!v.closest("form"),[_,w]=C({prop:a,defaultProp:null!=l&&l,onChange:h,caller:mp});return x.jsxs(fp,{scope:n,checked:_,disabled:d,children:[x.jsx(p.button,c(o({type:"button",role:"switch","aria-checked":_,"aria-required":i,"data-state":bp(_),"data-disabled":d?"":void 0,disabled:d,value:m},g),{ref:y,onClick:P(e.onClick,e=>{w(e=>!e),N&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})})),N&&x.jsx(yp,{control:v,bubbles:!b.current,name:r,value:m,checked:_,required:i,disabled:d,form:f,style:{transform:"translateX(-100%)"}})]})});gp.displayName=mp;var vp="SwitchThumb",jp=me.forwardRef((e,t)=>{const s=e,{__scopeSwitch:n}=s,r=u(s,["__scopeSwitch"]),a=pp(vp,n);return x.jsx(p.span,c(o({"data-state":bp(a.checked),"data-disabled":a.disabled?"":void 0},r),{ref:t}))});jp.displayName=vp;var yp=me.forwardRef((e,t)=>{var s=e,{__scopeSwitch:n,control:r,checked:a,bubbles:l=!0}=s,i=u(s,["__scopeSwitch","control","checked","bubbles"]);const d=me.useRef(null),m=E(d,t),h=hc(a),f=se(r);return me.useEffect(()=>{const e=d.current;if(!e)return;const t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set;if(h!==a&&s){const t=new Event("click",{bubbles:l});s.call(e,a),e.dispatchEvent(t)}},[h,a,l]),x.jsx("input",c(o({type:"checkbox","aria-hidden":!0,defaultChecked:a},i),{tabIndex:-1,ref:m,style:c(o(o({},i.style),f),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))});function bp(e){return e?"checked":"unchecked"}yp.displayName="SwitchBubbleInput";var Np=gp,_p=jp;function wp(e){var t=e,{className:s}=t,n=u(t,["className"]);return x.jsx(Np,c(o({"data-slot":"switch",className:ir("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s)},n),{children:x.jsx(_p,{"data-slot":"switch-thumb",className:ir("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})}))}const Sp=[{id:1,title:"Basic Information",icon:Rt},{id:2,title:"Device Settings",icon:As},{id:3,title:"Alarm Settings",icon:$s},{id:4,title:"SMS Limits",icon:fs},{id:5,title:"Review & Create",icon:Gt}];function kp({deviceGroup:e,countrySites:t,onSuccess:s,onCancel:n}){var r,a,l,i,d,u,m;const[f,p]=me.useState(1),[g,v]=me.useState({}),[j,y]=me.useState(!1),[b,N]=me.useState({device_group:(null==e?void 0:e.device_group)||"",country_site:(null==e?void 0:e.country_site)||"",country_site_id:(null==e?void 0:e.country_site_id)||0,device_type:(null==e?void 0:e.device_type)||"android",status:(null==e?void 0:e.status)||"active",websocket_url:(null==e?void 0:e.websocket_url)||"",api_key:(null==e?void 0:e.api_key)||"",queue_name:(null==e?void 0:e.queue_name)||"",battery_low_threshold:(null==e?void 0:e.battery_low_threshold)||20,error_count_threshold:(null==e?void 0:e.error_count_threshold)||5,offline_threshold_minutes:(null==e?void 0:e.offline_threshold_minutes)||5,signal_low_threshold:(null==e?void 0:e.signal_low_threshold)||2,low_balance_threshold:(null==e?void 0:e.low_balance_threshold)||"10.00",enable_battery_alarms:null==(r=null==e?void 0:e.enable_battery_alarms)||r,enable_error_alarms:null==(a=null==e?void 0:e.enable_error_alarms)||a,enable_offline_alarms:null==(l=null==e?void 0:e.enable_offline_alarms)||l,enable_signal_alarms:null==(i=null==e?void 0:e.enable_signal_alarms)||i,enable_sim_balance_alarms:null==(d=null==e?void 0:e.enable_sim_balance_alarms)||d,auto_disable_sim_on_alarm:null!=(u=null==e?void 0:e.auto_disable_sim_on_alarm)&&u,sim1_daily_sms_limit:(null==e?void 0:e.sim1_daily_sms_limit)||100,sim1_monthly_sms_limit:(null==e?void 0:e.sim1_monthly_sms_limit)||1e3,sim2_daily_sms_limit:(null==e?void 0:e.sim2_daily_sms_limit)||100,sim2_monthly_sms_limit:(null==e?void 0:e.sim2_monthly_sms_limit)||1e3,enable_sms_limits:null!=(m=null==e?void 0:e.enable_sms_limits)&&m,sms_limit_reset_hour:(null==e?void 0:e.sms_limit_reset_hour)||0,sim1_guard_interval:(null==e?void 0:e.sim1_guard_interval)||1,sim2_guard_interval:(null==e?void 0:e.sim2_guard_interval)||1}),_=(e,t)=>{N(s=>c(o({},s),{[e]:t})),g[e]&&v(t=>c(o({},t),{[e]:""}))},w=e=>{const t={};switch(e){case 1:b.device_group.trim()||(t.device_group="Device group name is required"),b.country_site_id||(t.country_site="Country site is required");break;case 2:(b.battery_low_threshold<0||b.battery_low_threshold>100)&&(t.battery_low_threshold="Battery threshold must be between 0 and 100"),b.error_count_threshold<1&&(t.error_count_threshold="Error count threshold must be at least 1"),b.offline_threshold_minutes<1&&(t.offline_threshold_minutes="Offline threshold must be at least 1 minute"),b.signal_low_threshold<0&&(t.signal_low_threshold="Signal threshold must be at least 0");break;case 4:b.sim1_daily_sms_limit<0&&(t.sim1_daily_sms_limit="Daily SMS limit must be at least 0"),b.sim1_monthly_sms_limit<0&&(t.sim1_monthly_sms_limit="Monthly SMS limit must be at least 0"),b.sim2_daily_sms_limit<0&&(t.sim2_daily_sms_limit="Daily SMS limit must be at least 0"),b.sim2_monthly_sms_limit<0&&(t.sim2_monthly_sms_limit="Monthly SMS limit must be at least 0"),(b.sms_limit_reset_hour<0||b.sms_limit_reset_hour>23)&&(t.sms_limit_reset_hour="Reset hour must be between 0 and 23")}return v(t),0===Object.keys(t).length};return x.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[x.jsx("div",{className:"flex items-center justify-between",children:Sp.map((e,t)=>x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 "+(f>=e.id?"bg-primary border-primary text-primary-foreground":"bg-background border-muted-foreground text-muted-foreground"),children:f>e.id?x.jsx(Gt,{className:"h-5 w-5"}):x.jsx(e.icon,{className:"h-5 w-5"})}),t<Sp.length-1&&x.jsx("div",{className:"w-20 h-0.5 mx-2 "+(f>e.id?"bg-primary":"bg-muted")})]},e.id))}),x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-2xl font-bold",children:Sp[f-1].title}),x.jsxs("p",{className:"text-muted-foreground",children:["Step ",f," of ",Sp.length]})]}),x.jsx(To,{children:x.jsx(Vo,{className:"pt-6",children:(()=>{switch(f){case 1:return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsxs(Io,{htmlFor:"device_group",className:"text-base font-medium",children:["Device Group Name ",x.jsx("span",{className:"text-destructive",children:"*"})]}),x.jsx(dr,{id:"device_group",value:b.device_group,onChange:e=>_("device_group",e.target.value),placeholder:"Enter device group name",className:g.device_group?"border-destructive":""}),g.device_group&&x.jsx("p",{className:"text-sm text-destructive",children:g.device_group})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs(Io,{htmlFor:"country_site",className:"text-base font-medium",children:["Country Site ",x.jsx("span",{className:"text-destructive",children:"*"})]}),x.jsxs(Xu,{value:b.country_site_id?b.country_site_id.toString():"",onValueChange:e=>{const s=t.find(t=>t.id.toString()===e);_("country_site_id",e?parseInt(e):0),_("country_site",(null==s?void 0:s.country_site)||""),g.country_site&&v(e=>c(o({},e),{country_site:""}))},children:[x.jsx(Zu,{className:g.country_site?"border-destructive":"",children:x.jsx(Ju,{placeholder:"Select a country site (required)"})}),x.jsx(em,{children:0===t.length?x.jsx(tm,{value:"no-country-sites",disabled:!0,children:"No country sites available"}):t.map(e=>x.jsx(tm,{value:e.id.toString(),children:e.country_site},e.id))})]}),0===t.length&&x.jsx("p",{className:"text-sm text-yellow-600",children:"A country site must be selected to create a device group."}),g.sitename&&x.jsx("p",{className:"text-sm text-destructive",children:g.sitename})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"device_type",className:"text-base font-medium",children:"Device Type"}),x.jsxs(Xu,{value:b.device_type,onValueChange:e=>_("device_type",e),children:[x.jsx(Zu,{children:x.jsx(Ju,{})}),x.jsxs(em,{children:[x.jsx(tm,{value:"android",children:"Android"}),x.jsx(tm,{value:"usb_modem",children:"USB Modem"})]})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"status",className:"text-base font-medium",children:"Status"}),x.jsxs(Xu,{value:b.status,onValueChange:e=>_("status",e),children:[x.jsx(Zu,{children:x.jsx(Ju,{})}),x.jsxs(em,{children:[x.jsx(tm,{value:"active",children:"Active"}),x.jsx(tm,{value:"inactive",children:"Inactive"}),x.jsx(tm,{value:"maintenance",children:"Maintenance"})]})]})]})]})]});case 2:return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"battery_low_threshold",className:"text-base font-medium",children:"Battery Low Threshold (%)"}),x.jsx(dr,{id:"battery_low_threshold",type:"number",min:"0",max:"100",value:b.battery_low_threshold,onChange:e=>_("battery_low_threshold",parseInt(e.target.value)||0),className:g.battery_low_threshold?"border-destructive":""}),g.battery_low_threshold&&x.jsx("p",{className:"text-sm text-destructive",children:g.battery_low_threshold})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"error_count_threshold",className:"text-base font-medium",children:"Error Count Threshold"}),x.jsx(dr,{id:"error_count_threshold",type:"number",min:"1",value:b.error_count_threshold,onChange:e=>_("error_count_threshold",parseInt(e.target.value)||0),className:g.error_count_threshold?"border-destructive":""}),g.error_count_threshold&&x.jsx("p",{className:"text-sm text-destructive",children:g.error_count_threshold})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"offline_threshold_minutes",className:"text-base font-medium",children:"Offline Threshold (minutes)"}),x.jsx(dr,{id:"offline_threshold_minutes",type:"number",min:"1",value:b.offline_threshold_minutes,onChange:e=>_("offline_threshold_minutes",parseInt(e.target.value)||0),className:g.offline_threshold_minutes?"border-destructive":""}),g.offline_threshold_minutes&&x.jsx("p",{className:"text-sm text-destructive",children:g.offline_threshold_minutes})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"signal_low_threshold",className:"text-base font-medium",children:"Signal Low Threshold"}),x.jsx(dr,{id:"signal_low_threshold",type:"number",min:"0",value:b.signal_low_threshold,onChange:e=>_("signal_low_threshold",parseInt(e.target.value)||0),className:g.signal_low_threshold?"border-destructive":""}),g.signal_low_threshold&&x.jsx("p",{className:"text-sm text-destructive",children:g.signal_low_threshold})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"low_balance_threshold",className:"text-base font-medium",children:"Low Balance Threshold"}),x.jsx(dr,{id:"low_balance_threshold",value:b.low_balance_threshold,onChange:e=>_("low_balance_threshold",e.target.value),placeholder:"10.00"})]})]});case 3:return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(Dt,{className:"h-5 w-5 text-blue-500"}),x.jsxs("div",{children:[x.jsx(Io,{className:"text-base font-medium",children:"Battery Alarms"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable battery level monitoring"})]})]}),x.jsx(wp,{checked:b.enable_battery_alarms,onCheckedChange:e=>_("enable_battery_alarms",e)})]}),x.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx($s,{className:"h-5 w-5 text-red-500"}),x.jsxs("div",{children:[x.jsx(Io,{className:"text-base font-medium",children:"Error Alarms"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable error monitoring"})]})]}),x.jsx(wp,{checked:b.enable_error_alarms,onCheckedChange:e=>_("enable_error_alarms",e)})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(Qs,{className:"h-5 w-5 text-orange-500"}),x.jsxs("div",{children:[x.jsx(Io,{className:"text-base font-medium",children:"Offline Alarms"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable offline monitoring"})]})]}),x.jsx(wp,{checked:b.enable_offline_alarms,onCheckedChange:e=>_("enable_offline_alarms",e)})]}),x.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(Is,{className:"h-5 w-5 text-green-500"}),x.jsxs("div",{children:[x.jsx(Io,{className:"text-base font-medium",children:"Signal Alarms"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable signal monitoring"})]})]}),x.jsx(wp,{checked:b.enable_signal_alarms,onCheckedChange:e=>_("enable_signal_alarms",e)})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(Zt,{className:"h-5 w-5 text-purple-500"}),x.jsxs("div",{children:[x.jsx(Io,{className:"text-base font-medium",children:"SIM Balance Alarms"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable balance monitoring"})]})]}),x.jsx(wp,{checked:b.enable_sim_balance_alarms,onCheckedChange:e=>_("enable_sim_balance_alarms",e)})]}),x.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(us,{className:"h-5 w-5 text-gray-500"}),x.jsxs("div",{children:[x.jsx(Io,{className:"text-base font-medium",children:"Auto Disable SIM"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Disable SIM on alarm"})]})]}),x.jsx(wp,{checked:b.auto_disable_sim_on_alarm,onCheckedChange:e=>_("auto_disable_sim_on_alarm",e)})]})]})]});case 4:return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(fs,{className:"h-5 w-5 text-blue-500"}),x.jsxs("div",{children:[x.jsx(Io,{className:"text-base font-medium",children:"Enable SMS Limits"}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable daily and monthly SMS limits"})]})]}),x.jsx(wp,{checked:b.enable_sms_limits,onCheckedChange:e=>_("enable_sms_limits",e)})]}),b.enable_sms_limits&&x.jsxs(x.Fragment,{children:[x.jsx(fr,{}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"sim1_daily_sms_limit",className:"text-base font-medium",children:"SIM 1 Daily Limit"}),x.jsx(dr,{id:"sim1_daily_sms_limit",type:"number",min:"0",value:b.sim1_daily_sms_limit,onChange:e=>_("sim1_daily_sms_limit",parseInt(e.target.value)||0),className:g.sim1_daily_sms_limit?"border-destructive":""}),g.sim1_daily_sms_limit&&x.jsx("p",{className:"text-sm text-destructive",children:g.sim1_daily_sms_limit})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"sim1_monthly_sms_limit",className:"text-base font-medium",children:"SIM 1 Monthly Limit"}),x.jsx(dr,{id:"sim1_monthly_sms_limit",type:"number",min:"0",value:b.sim1_monthly_sms_limit,onChange:e=>_("sim1_monthly_sms_limit",parseInt(e.target.value)||0),className:g.sim1_monthly_sms_limit?"border-destructive":""}),g.sim1_monthly_sms_limit&&x.jsx("p",{className:"text-sm text-destructive",children:g.sim1_monthly_sms_limit})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"sim2_daily_sms_limit",className:"text-base font-medium",children:"SIM 2 Daily Limit"}),x.jsx(dr,{id:"sim2_daily_sms_limit",type:"number",min:"0",value:b.sim2_daily_sms_limit,onChange:e=>_("sim2_daily_sms_limit",parseInt(e.target.value)||0),className:g.sim2_daily_sms_limit?"border-destructive":""}),g.sim2_daily_sms_limit&&x.jsx("p",{className:"text-sm text-destructive",children:g.sim2_daily_sms_limit})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"sim2_monthly_sms_limit",className:"text-base font-medium",children:"SIM 2 Monthly Limit"}),x.jsx(dr,{id:"sim2_monthly_sms_limit",type:"number",min:"0",value:b.sim2_monthly_sms_limit,onChange:e=>_("sim2_monthly_sms_limit",parseInt(e.target.value)||0),className:g.sim2_monthly_sms_limit?"border-destructive":""}),g.sim2_monthly_sms_limit&&x.jsx("p",{className:"text-sm text-destructive",children:g.sim2_monthly_sms_limit})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"sms_limit_reset_hour",className:"text-base font-medium",children:"Reset Hour (0-23)"}),x.jsx(dr,{id:"sms_limit_reset_hour",type:"number",min:"0",max:"23",value:b.sms_limit_reset_hour,onChange:e=>_("sms_limit_reset_hour",parseInt(e.target.value)||0),className:g.sms_limit_reset_hour?"border-destructive":""}),g.sms_limit_reset_hour&&x.jsx("p",{className:"text-sm text-destructive",children:g.sms_limit_reset_hour})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"sim1_guard_interval",className:"text-base font-medium",children:"SIM 1 Guard Interval (minutes)"}),x.jsx(dr,{id:"sim1_guard_interval",type:"number",min:"1",value:b.sim1_guard_interval,onChange:e=>_("sim1_guard_interval",parseInt(e.target.value)||0)})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"sim2_guard_interval",className:"text-base font-medium",children:"SIM 2 Guard Interval (minutes)"}),x.jsx(dr,{id:"sim2_guard_interval",type:"number",min:"1",value:b.sim2_guard_interval,onChange:e=>_("sim2_guard_interval",parseInt(e.target.value)||0)})]})]})]})]});case 5:return x.jsxs("div",{className:"space-y-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Rt,{className:"h-5 w-5"}),"Basic Information"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("strong",{children:"Device Group:"})," ",b.device_group||"Not set"]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Country Site:"})," ",b.country_site||"Not set"]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Device Type:"})," ",b.device_type]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Status:"})," ",b.status]}),x.jsxs("div",{children:[x.jsx("strong",{children:"WebSocket URL:"})," ",b.websocket_url||"Not set"]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(As,{className:"h-5 w-5"}),"Device Settings"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("strong",{children:"Battery Threshold:"})," ",b.battery_low_threshold,"%"]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Error Count Threshold:"})," ",b.error_count_threshold]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Offline Threshold:"})," ",b.offline_threshold_minutes," minutes"]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Signal Threshold:"})," ",b.signal_low_threshold]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Balance Threshold:"})," ",b.low_balance_threshold]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx($s,{className:"h-5 w-5"}),"Alarm Settings"]})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[b.enable_battery_alarms?x.jsx(Gt,{className:"h-4 w-4 text-green-500"}):x.jsx(Qt,{className:"h-4 w-4 text-gray-400"}),x.jsx("span",{children:"Battery Alarms"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[b.enable_error_alarms?x.jsx(Gt,{className:"h-4 w-4 text-green-500"}):x.jsx(Qt,{className:"h-4 w-4 text-gray-400"}),x.jsx("span",{children:"Error Alarms"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[b.enable_offline_alarms?x.jsx(Gt,{className:"h-4 w-4 text-green-500"}):x.jsx(Qt,{className:"h-4 w-4 text-gray-400"}),x.jsx("span",{children:"Offline Alarms"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[b.enable_signal_alarms?x.jsx(Gt,{className:"h-4 w-4 text-green-500"}):x.jsx(Qt,{className:"h-4 w-4 text-gray-400"}),x.jsx("span",{children:"Signal Alarms"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[b.enable_sim_balance_alarms?x.jsx(Gt,{className:"h-4 w-4 text-green-500"}):x.jsx(Qt,{className:"h-4 w-4 text-gray-400"}),x.jsx("span",{children:"SIM Balance Alarms"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[b.auto_disable_sim_on_alarm?x.jsx(Gt,{className:"h-4 w-4 text-green-500"}):x.jsx(Qt,{className:"h-4 w-4 text-gray-400"}),x.jsx("span",{children:"Auto Disable SIM"})]})]})})]}),b.enable_sms_limits&&x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(fs,{className:"h-5 w-5"}),"SMS Limits"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("strong",{children:"SIM 1 Daily:"})," ",b.sim1_daily_sms_limit]}),x.jsxs("div",{children:[x.jsx("strong",{children:"SIM 1 Monthly:"})," ",b.sim1_monthly_sms_limit]}),x.jsxs("div",{children:[x.jsx("strong",{children:"SIM 2 Daily:"})," ",b.sim2_daily_sms_limit]}),x.jsxs("div",{children:[x.jsx("strong",{children:"SIM 2 Monthly:"})," ",b.sim2_monthly_sms_limit]})]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Reset Hour:"})," ",b.sms_limit_reset_hour,":00"]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("strong",{children:"SIM 1 Guard:"})," ",b.sim1_guard_interval," min"]}),x.jsxs("div",{children:[x.jsx("strong",{children:"SIM 2 Guard:"})," ",b.sim2_guard_interval," min"]})]})]})]})]});default:return null}})()})}),x.jsxs("div",{className:"flex justify-between",children:[x.jsxs(cr,{variant:"outline",onClick:()=>{p(e=>Math.max(e-1,1))},disabled:1===f,children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Previous"]}),f<Sp.length?x.jsxs(cr,{onClick:()=>{w(f)&&p(e=>Math.min(e+1,Sp.length))},children:["Next",x.jsx(Et,{className:"ml-2 h-4 w-4"})]}):x.jsxs(cr,{onClick:()=>h(null,null,function*(){if(w(f)){y(!0);try{const t=c(o({},b),{country_site_id:b.country_site_id||0,country_site:b.country_site||""});e?(yield Hx.updateDeviceGroup(e.id,t),Ze.success("Device group updated successfully")):(yield Hx.createDeviceGroup(t),Ze.success("Device group created successfully")),s()}catch(t){t.errors?v(t.errors):Ze.error("Failed to save device group")}finally{y(!1)}}}),disabled:j,children:[x.jsx(Ms,{className:"mr-2 h-4 w-4"}),j?"Saving...":e?"Update Device Group":"Create Device Group"]})]}),x.jsx("div",{className:"text-center",children:x.jsx(cr,{variant:"ghost",onClick:n,children:"Cancel"})})]})}function Cp(){const e=pe(),[t,s]=me.useState([]),[n,r]=me.useState(!0);me.useEffect(()=>{a()},[]);const a=()=>h(null,null,function*(){try{const e=yield Ox.getAll();s(e.data||[])}catch(e){console.error("Error loading country sites:",e)}finally{r(!1)}});return n?x.jsx(Do,{breadcrumbs:[{title:"Country Management",href:"#"},{title:"Device Groups",href:"/device-groups"},{title:"Create",href:"/device-groups/create"}],children:x.jsx("div",{className:"w-full px-4 py-8",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),x.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading..."})]})})})}):x.jsx(Do,{breadcrumbs:[{title:"Country Management",href:"#"},{title:"Device Groups",href:"/device-groups"},{title:"Create",href:"/device-groups/create"}],children:x.jsxs("div",{className:"w-full px-4 py-8",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[x.jsxs(cr,{variant:"outline",size:"sm",onClick:()=>e("/device-groups"),children:[x.jsx(Ot,{className:"mr-2 h-4 w-4"}),"Back"]}),x.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[x.jsx(Rt,{className:"h-6 w-6 text-primary"}),"Create Device Group"]})]}),0===t.length?x.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(Rt,{className:"h-6 w-6 text-yellow-600"}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"No Country Sites Available"}),x.jsx("p",{className:"text-yellow-700 mt-1",children:"You need to create at least one country site before creating a device group. Device groups must be associated with a country site."}),x.jsx("div",{className:"mt-4",children:x.jsx(cr,{onClick:()=>e("/country-sites/create"),className:"bg-yellow-600 hover:bg-yellow-700",children:"Create Sitename"})})]})]})}):x.jsx(kp,{deviceGroup:null,countrySites:t.map(e=>({id:e.id,country_site:e.name})),onSuccess:()=>{e("/device-groups")},onCancel:()=>e("/device-groups")})]})})}function Mp(){const e=pe(),{id:t}=ve(),[s,n]=me.useState([]),{currentDeviceGroup:r,countrySites:a,currentDeviceGroupLoading:l,currentDeviceGroupError:i,loadDeviceGroup:o,loadCountrySites:c}=qx();me.useEffect(()=>{t&&d()},[t]);const d=()=>h(null,null,function*(){try{yield Promise.all([o(parseInt(t)),c()])}catch(s){console.error("Error loading data:",s),Ze.error("Failed to load device group data"),e("/device-groups")}});return me.useEffect(()=>{if(a.length>0){const e=a.map(e=>({id:e.id,country_site:e.name}));n(e)}},[a]),i?x.jsx(Do,{children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-destructive mb-4",children:i}),x.jsx(cr,{onClick:()=>e("/device-groups"),className:"mt-4",children:"Back to Device Groups"})]})})})}):l?x.jsx(Do,{children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),x.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading..."})]})})})}):r?x.jsx(Do,{children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(cr,{variant:"outline",size:"sm",onClick:()=>e("/device-groups"),children:[x.jsx(Ot,{className:"mr-2 h-4 w-4"}),"Back"]}),x.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[x.jsx(Rt,{className:"h-6 w-6 text-primary"}),"Edit Device Group"]})]}),x.jsx(kp,{deviceGroup:r,countrySites:s,onSuccess:()=>{e("/device-groups")},onCancel:()=>e("/device-groups")})]})}):x.jsx(Do,{children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-muted-foreground",children:"Device group not found"}),x.jsx(cr,{onClick:()=>e("/device-groups"),className:"mt-4",children:"Back to Device Groups"})]})})})})}function Ep(){const{token:e}=dt(),[t,s]=me.useState(null),[n,r]=me.useState(""),[a]=me.useState([]),[l,i]=me.useState(""),[d,u]=me.useState(""),[m,f]=me.useState(!1),[p,g]=me.useState({device_group:"",country_site:"",api_key:"",device_id:"",queue_name:"device_queue",battery_low_threshold:20,error_count_threshold:5,offline_threshold_minutes:5,signal_low_threshold:2,low_balance_threshold:"10.00",enable_battery_alarms:!0,enable_error_alarms:!0,enable_offline_alarms:!0,enable_signal_alarms:!0,enable_sim_balance_alarms:!0,auto_disable_sim_on_alarm:!1,sim1_daily_sms_limit:100,sim1_monthly_sms_limit:1e3,sim2_daily_sms_limit:100,sim2_monthly_sms_limit:1e3,enable_sms_limits:!1,sms_limit_reset_hour:0,sim1_guard_interval:1,sim2_guard_interval:1}),v=(e,t)=>{g(s=>c(o({},s),{[e]:t}))};return x.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h1",{className:"text-3xl font-bold",children:"QR Code Generator"}),x.jsx($l,{variant:"default",children:"Device Configuration"})]}),x.jsxs(Wh,{defaultValue:"config",className:"w-full",children:[x.jsxs(Kh,{className:"grid w-full grid-cols-2",children:[x.jsx(Qh,{value:"config",children:"Configuration"}),x.jsx(Qh,{value:"result",children:"QR Result"})]}),x.jsxs(Yh,{value:"config",className:"space-y-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Device Configuration"})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"device_group",children:"Device Group *"}),x.jsx(dr,{id:"device_group",value:p.device_group,onChange:e=>v("device_group",e.target.value),placeholder:"Enter device group"})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"country_site",children:"Country Site *"}),x.jsx(dr,{id:"country_site",value:p.country_site,onChange:e=>v("country_site",e.target.value),placeholder:"Enter country site"})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"api_key",children:"API Key *"}),x.jsx(dr,{id:"api_key",value:p.api_key,onChange:e=>v("api_key",e.target.value),placeholder:"Enter API key"})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"queue_name",children:"Queue Name"}),x.jsx(dr,{id:"queue_name",value:p.queue_name,onChange:e=>v("queue_name",e.target.value),placeholder:"Enter queue name"})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Threshold Settings"})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"battery_low_threshold",children:"Battery Low Threshold (%)"}),x.jsx(dr,{id:"battery_low_threshold",type:"number",value:p.battery_low_threshold,onChange:e=>v("battery_low_threshold",parseInt(e.target.value))})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"error_count_threshold",children:"Error Count Threshold"}),x.jsx(dr,{id:"error_count_threshold",type:"number",value:p.error_count_threshold,onChange:e=>v("error_count_threshold",parseInt(e.target.value))})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"offline_threshold_minutes",children:"Offline Threshold (minutes)"}),x.jsx(dr,{id:"offline_threshold_minutes",type:"number",value:p.offline_threshold_minutes,onChange:e=>v("offline_threshold_minutes",parseInt(e.target.value))})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"signal_low_threshold",children:"Signal Low Threshold"}),x.jsx(dr,{id:"signal_low_threshold",type:"number",value:p.signal_low_threshold,onChange:e=>v("signal_low_threshold",parseInt(e.target.value))})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"low_balance_threshold",children:"Low Balance Threshold"}),x.jsx(dr,{id:"low_balance_threshold",value:p.low_balance_threshold,onChange:e=>v("low_balance_threshold",e.target.value),placeholder:"10.00"})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Alarm Settings"})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(wp,{id:"enable_battery_alarms",checked:p.enable_battery_alarms,onCheckedChange:e=>v("enable_battery_alarms",e)}),x.jsx(Io,{htmlFor:"enable_battery_alarms",children:"Enable Battery Alarms"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(wp,{id:"enable_error_alarms",checked:p.enable_error_alarms,onCheckedChange:e=>v("enable_error_alarms",e)}),x.jsx(Io,{htmlFor:"enable_error_alarms",children:"Enable Error Alarms"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(wp,{id:"enable_offline_alarms",checked:p.enable_offline_alarms,onCheckedChange:e=>v("enable_offline_alarms",e)}),x.jsx(Io,{htmlFor:"enable_offline_alarms",children:"Enable Offline Alarms"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(wp,{id:"enable_signal_alarms",checked:p.enable_signal_alarms,onCheckedChange:e=>v("enable_signal_alarms",e)}),x.jsx(Io,{htmlFor:"enable_signal_alarms",children:"Enable Signal Alarms"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(wp,{id:"enable_sim_balance_alarms",checked:p.enable_sim_balance_alarms,onCheckedChange:e=>v("enable_sim_balance_alarms",e)}),x.jsx(Io,{htmlFor:"enable_sim_balance_alarms",children:"Enable SIM Balance Alarms"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(wp,{id:"auto_disable_sim_on_alarm",checked:p.auto_disable_sim_on_alarm,onCheckedChange:e=>v("auto_disable_sim_on_alarm",e)}),x.jsx(Io,{htmlFor:"auto_disable_sim_on_alarm",children:"Auto Disable SIM on Alarm"})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"SMS Limits"})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[x.jsx(wp,{id:"enable_sms_limits",checked:p.enable_sms_limits,onCheckedChange:e=>v("enable_sms_limits",e)}),x.jsx(Io,{htmlFor:"enable_sms_limits",children:"Enable SMS Limits"})]}),p.enable_sms_limits&&x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"sim1_daily_sms_limit",children:"SIM1 Daily Limit"}),x.jsx(dr,{id:"sim1_daily_sms_limit",type:"number",value:p.sim1_daily_sms_limit,onChange:e=>v("sim1_daily_sms_limit",parseInt(e.target.value))})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"sim1_monthly_sms_limit",children:"SIM1 Monthly Limit"}),x.jsx(dr,{id:"sim1_monthly_sms_limit",type:"number",value:p.sim1_monthly_sms_limit,onChange:e=>v("sim1_monthly_sms_limit",parseInt(e.target.value))})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"sim2_daily_sms_limit",children:"SIM2 Daily Limit"}),x.jsx(dr,{id:"sim2_daily_sms_limit",type:"number",value:p.sim2_daily_sms_limit,onChange:e=>v("sim2_daily_sms_limit",parseInt(e.target.value))})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"sim2_monthly_sms_limit",children:"SIM2 Monthly Limit"}),x.jsx(dr,{id:"sim2_monthly_sms_limit",type:"number",value:p.sim2_monthly_sms_limit,onChange:e=>v("sim2_monthly_sms_limit",parseInt(e.target.value))})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"sms_limit_reset_hour",children:"Reset Hour (0-23)"}),x.jsx(dr,{id:"sms_limit_reset_hour",type:"number",min:"0",max:"23",value:p.sms_limit_reset_hour,onChange:e=>v("sms_limit_reset_hour",parseInt(e.target.value))})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"sim1_guard_interval",children:"SIM1 Guard Interval (seconds)"}),x.jsx(dr,{id:"sim1_guard_interval",type:"number",value:p.sim1_guard_interval,onChange:e=>v("sim1_guard_interval",parseInt(e.target.value))})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"sim2_guard_interval",children:"SIM2 Guard Interval (seconds)"}),x.jsx(dr,{id:"sim2_guard_interval",type:"number",value:p.sim2_guard_interval,onChange:e=>v("sim2_guard_interval",parseInt(e.target.value))})]})]})]})]}),x.jsx("div",{className:"flex justify-center",children:x.jsx(cr,{onClick:()=>h(null,null,function*(){if(l){f(!0);try{const t=yield fetch(`/api/device-groups/${l}/qr`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=yield t.json();u(e.qr_data),Ze.success("QR code generated successfully")}else Ze.error("Failed to generate QR code")}catch(t){console.error("Error generating QR code:",t),Ze.error("Failed to generate QR code")}finally{f(!1)}}else Ze.error("Please select a device group")}),disabled:m,size:"lg",children:m?"Generating...":"Generate QR Configuration"})})]}),x.jsx(Yh,{value:"result",className:"space-y-6",children:t?x.jsxs(x.Fragment,{children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"QR Configuration"})}),x.jsx(Vo,{children:x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h3",{className:"font-medium",children:"Configuration Details"}),x.jsxs("div",{className:"space-x-2",children:[x.jsx(cr,{variant:"outline",onClick:()=>{return e=n,navigator.clipboard.writeText(e),void Ze.success("Copied to clipboard");var e},children:"Copy JSON"}),x.jsx(cr,{variant:"outline",onClick:()=>{if(!n)return;const e=new Blob([n],{type:"application/json"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`qr-config-${p.device_group}-${p.country_site}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t),Ze.success("QR configuration downloaded")},children:"Download"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[x.jsxs("div",{children:[x.jsx("strong",{children:"Device Group:"})," ",t.device_group]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Country Site:"})," ",t.country_site]}),x.jsxs("div",{children:[x.jsx("strong",{children:"WebSocket URL:"})," ",t.websocket_url]}),x.jsxs("div",{children:[x.jsx("strong",{children:"API Key:"})," ",t.api_key]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Queue Name:"})," ",t.queue_name]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Generated:"})," ",t.timestamp]})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"QR JSON"})}),x.jsx(Vo,{children:x.jsx(xh,{value:n,readOnly:!0,className:"min-h-[200px] font-mono text-sm"})})]})]}):x.jsx(To,{children:x.jsx(Vo,{className:"flex items-center justify-center h-32",children:x.jsx("p",{className:"text-muted-foreground",children:"Generate a QR configuration to see the result"})})})})]})]})}const Fp={getBlacklistNumbers(e){return h(this,null,function*(){return Ho.get("/blacklist-numbers",e)})},deleteBlacklistNumber(e){return h(this,null,function*(){return Ho.delete(`/blacklist-numbers/${e}`)})},bulkDeleteBlacklistNumbers(e){return h(this,null,function*(){return Ho.delete(`/blacklist-numbers/bulk?ids=${e.join(",")}`)})},importBlacklistNumbers(e){return h(this,null,function*(){const t=new FormData;return t.append("file",e),Ho.post("/blacklist-numbers/import",t)})},pasteImportBlacklistNumbers(e){return h(this,null,function*(){return Ho.post("/blacklist-numbers/paste-import",{lines:e})})}},Pp=[{title:"Dashboard",href:"/dashboard"},{title:"Blacklist Numbers",href:"/blacklist-numbers"}];function Dp(){pe();const[e,t]=je(),{token:s}=dt(),[n,r]=me.useState(1),[a,l]=me.useState(10),[i,d]=me.useState(0),[u,m]=me.useState(1),[f,p]=me.useState(e.get("search")||""),[g,v]=me.useState(e.get("sort_by")||"created_at"),[j,y]=me.useState(e.get("sort_order")||"desc"),[b,N]=me.useState(e.get("type")||"all"),[_,w]=me.useState([]),[S,k]=me.useState(!0),[C,M]=me.useState(!1),[E,F]=me.useState(null),[P,D]=me.useState(!1),[A,R]=me.useState(null),[I,T]=me.useState(!1),[L,z]=me.useState(""),[O,V]=me.useState(!1),[U,B]=me.useState(null),$=me.useCallback(()=>h(null,null,function*(){try{k(!0);const e={page:n,per_page:a,sort_by:g,sort_order:j};f&&(e.search=f),b&&"all"!==b&&(e.type=b);const s=yield Fp.getBlacklistNumbers(e),r=s.data.map(e=>c(o({},e),{id:e.id,created_at:e.created_at,updated_at:e.updated_at}));w(r),d(s.total),m(s.last_page);const l=new URLSearchParams;f&&l.set("search",f),"all"!==b&&l.set("type",b),g&&l.set("sort_by",g),j&&l.set("sort_order",j),t(l)}catch(e){console.error("Error fetching blacklist numbers:",e),Ze.error("Failed to fetch blacklist numbers")}finally{k(!1)}}),[n,a,f,b,g,j,t]);me.useEffect(()=>{$()},[$]);const H=me.useCallback(()=>{r(1),$()},[$]),q=me.useCallback(()=>{p(""),N("all"),v("created_at"),y("desc"),r(1)},[]),G=me.useCallback(e=>h(null,null,function*(){try{yield Fp.deleteBlacklistNumber(e.id),Ze.success("Blacklist number deleted successfully"),$()}catch(t){console.error("Error deleting blacklist number:",t),Ze.error("Failed to delete blacklist number")}}),[$]),W=me.useCallback(e=>{var t;const s=null==(t=e.target.files)?void 0:t[0];s&&F(s)},[]),K=me.useCallback(()=>h(null,null,function*(){if(E){D(!0);try{const e=yield Fp.importBlacklistNumbers(E);R(e),Ze.success("Import completed successfully"),M(!1),F(null),$()}catch(e){console.error("Error importing file:",e),Ze.error("Failed to import file")}finally{D(!1)}}}),[E,$]),Q=me.useCallback(()=>h(null,null,function*(){if(L.trim()){V(!0);try{const e=yield Fp.pasteImportBlacklistNumbers(L);B(e),Ze.success("Paste import completed successfully"),T(!1),z(""),$()}catch(e){console.error("Error importing pasted text:",e),Ze.error("Failed to import pasted text")}finally{V(!1)}}}),[L,$]),Y=me.useCallback(e=>new Date(e).toLocaleDateString(),[]),X=me.useMemo(()=>[{accessorKey:"number",header:"Number",cell:({row:e})=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(ys,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"font-mono",children:e.getValue("number")})]})},{accessorKey:"type",header:"Type",cell:({row:e})=>{const t=e.getValue("type");return x.jsxs($l,{variant:"sms"===t?"destructive":"default",children:["sms"===t?x.jsx(fs,{className:"mr-1 h-3 w-3"}):x.jsx(Gs,{className:"mr-1 h-3 w-3"}),t.toUpperCase()]})}},{accessorKey:"reason",header:"Reason",cell:({row:e})=>x.jsx("span",{className:"text-sm text-muted-foreground",children:e.getValue("reason")||"No reason provided"})},Ym(),Xm({onDelete:G,editPath:e=>`/blacklist-numbers/${e.id}/edit`,deleteConfirmMessage:"Are you sure you want to delete this blacklist number?"})],[G,Y]),J=()=>x.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("p",{className:"text-sm font-medium",children:"Rows per page"}),x.jsxs(Xu,{value:a.toString(),onValueChange:e=>{l(Number(e)),r(1)},children:[x.jsx(Zu,{className:"h-8 w-[70px]",children:x.jsx(Ju,{placeholder:a})}),x.jsx(em,{side:"top",children:[5,10,20,50,100].map(e=>x.jsx(tm,{value:e.toString(),children:e},e))})]})]}),x.jsxs("div",{className:"flex items-center space-x-6 lg:space-x-8",children:[x.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",n," of ",u]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsxs(cr,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>r(1),disabled:1===n,children:[x.jsx("span",{className:"sr-only",children:"Go to first page"}),x.jsx(zt,{className:"h-4 w-4 rotate-90"})]}),x.jsxs(cr,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>r(n-1),disabled:1===n,children:[x.jsx("span",{className:"sr-only",children:"Go to previous page"}),x.jsx(zt,{className:"h-4 w-4 rotate-90"})]}),x.jsxs(cr,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>r(n+1),disabled:n===u,children:[x.jsx("span",{className:"sr-only",children:"Go to next page"}),x.jsx(zt,{className:"h-4 w-4 -rotate-90"})]}),x.jsxs(cr,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>r(u),disabled:n===u,children:[x.jsx("span",{className:"sr-only",children:"Go to last page"}),x.jsx(zt,{className:"h-4 w-4 -rotate-90"})]})]})]})]});return x.jsx(Do,{breadcrumbs:Pp,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Blacklist Numbers"}),x.jsx("p",{className:"text-muted-foreground",children:"Manage blacklisted phone numbers"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(cr,{variant:"outline",onClick:()=>T(!0),children:[x.jsx(Hs,{className:"mr-2 h-4 w-4"}),"Paste Import"]}),x.jsxs(cr,{variant:"outline",onClick:()=>M(!0),children:[x.jsx(Hs,{className:"mr-2 h-4 w-4"}),"Import File"]}),x.jsx(fe,{to:"/blacklist-numbers/create",children:x.jsxs(cr,{children:[x.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Add Number"]})})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(rs,{className:"h-4 w-4"}),"Filters"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[x.jsx("div",{className:"relative min-w-[200px]",children:x.jsx(dr,{placeholder:"Search numbers...",value:f,onChange:e=>p(e.target.value),onKeyDown:e=>"Enter"===e.key&&H(),className:"w-full"})}),x.jsxs(Xu,{value:b,onValueChange:N,children:[x.jsx(Zu,{className:"h-8 min-w-[120px]",children:x.jsx(Ju,{placeholder:"All Types"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"all",children:"All Types"}),x.jsx(tm,{value:"sms",children:"SMS"}),x.jsx(tm,{value:"manual",children:"Manual"})]})]}),x.jsxs(cr,{variant:"outline",size:"sm",onClick:H,children:[x.jsx(Es,{className:"mr-2 h-4 w-4"}),"Search"]}),x.jsx(cr,{variant:"outline",size:"sm",onClick:q,children:"Clear Filters"})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Blacklist Numbers"})}),x.jsxs(Vo,{children:[x.jsx(lm,{columns:X,data:_,title:"Blacklist Numbers",description:`Showing ${_.length} of ${i} blacklist numbers`,showSearch:!1,showViewOptions:!1,showPagination:!1,pageSize:a}),x.jsx(J,{})]})]}),x.jsx(Xh,{open:C,onOpenChange:M,children:x.jsxs(tx,{children:[x.jsxs(sx,{children:[x.jsx(rx,{children:"Import Blacklist Numbers"}),x.jsx(ax,{children:"Upload a CSV file with blacklist numbers. The file should have columns: number, type, reason."})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"import-file",children:"Select File"}),x.jsx(dr,{id:"import-file",type:"file",accept:".csv,.txt",onChange:W})]}),A&&x.jsx(Bo,{children:x.jsxs($o,{children:["Import completed: ",A.success_count," successful, ",A.error_count," errors"]})})]}),x.jsxs("div",{className:"flex justify-end space-x-2",children:[x.jsx(cr,{variant:"outline",onClick:()=>M(!1),disabled:P,children:"Cancel"}),x.jsx(cr,{onClick:K,disabled:!E||P,children:P?"Importing...":"Import"})]})]})}),x.jsx(Xh,{open:I,onOpenChange:T,children:x.jsxs(tx,{children:[x.jsxs(sx,{children:[x.jsx(rx,{children:"Paste Import Blacklist Numbers"}),x.jsx(ax,{children:"Paste phone numbers (one per line) to import them as blacklist numbers."})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"paste-text",children:"Phone Numbers"}),x.jsx(xh,{id:"paste-text",placeholder:"Enter phone numbers, one per line...",value:L,onChange:e=>z(e.target.value),rows:10})]}),U&&x.jsx(Bo,{children:x.jsxs($o,{children:["Import completed: ",U.success_count," successful, ",U.error_count," errors"]})})]}),x.jsxs("div",{className:"flex justify-end space-x-2",children:[x.jsx(cr,{variant:"outline",onClick:()=>T(!1),disabled:O,children:"Cancel"}),x.jsx(cr,{onClick:Q,disabled:!L.trim()||O,children:O?"Importing...":"Import"})]})]})})]})})}const Ap=[{title:"Dashboard",href:"/dashboard"},{title:"Blacklist Numbers",href:"/blacklist-numbers"},{title:"Create",href:"/blacklist-numbers/create"}];function Rp(){const e=pe(),[t,s]=me.useState(!1),[n,r]=me.useState({}),[a,l]=me.useState({number:"",type:"manual",reason:""});return x.jsx(Do,{breadcrumbs:Ap,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(fe,{to:"/blacklist-numbers",children:x.jsxs(cr,{variant:"ghost",size:"sm",children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Blacklist"]})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Add Blacklist Number"}),x.jsx("p",{className:"text-muted-foreground",children:"Add a new phone number to the blacklist"})]})]})}),x.jsx("div",{className:"max-w-2xl",children:x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(ys,{className:"h-5 w-5"}),"Blacklist Number Details"]})}),x.jsx(Vo,{children:x.jsxs("form",{onSubmit:t=>h(null,null,function*(){t.preventDefault(),s(!0),r({});try{yield Ho.post("/blacklist-numbers",a),e("/blacklist-numbers")}catch(n){console.error("Error creating blacklist number:",n),n instanceof Error&&r({general:n.message})}finally{s(!1)}}),className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"number",children:"Phone Number *"}),x.jsx(dr,{id:"number",type:"tel",placeholder:"+905551234567",value:a.number,onChange:e=>{const t=(e=>{let t=e.replace(/[^\d+]/g,"");return t.startsWith("+")||(t="+"+t),t})(e.target.value);l(e=>c(o({},e),{number:t}))},className:n.number?"border-destructive":""}),n.number&&x.jsx("p",{className:"text-sm text-destructive",children:n.number}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter the phone number in international format (e.g., +905551234567)"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"type",children:"Type *"}),x.jsxs(Xu,{value:a.type,onValueChange:e=>l(t=>c(o({},t),{type:e})),children:[x.jsx(Zu,{children:x.jsx(Ju,{})}),x.jsxs(em,{children:[x.jsx(tm,{value:"manual",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Gs,{className:"h-4 w-4"}),"Manual"]})}),x.jsx(tm,{value:"sms",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(fs,{className:"h-4 w-4"}),"SMS"]})})]})]}),n.type&&x.jsx("p",{className:"text-sm text-destructive",children:n.type}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Select how this number was added to the blacklist"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"reason",children:"Reason"}),x.jsx(xh,{id:"reason",placeholder:"Enter the reason for blacklisting this number...",value:a.reason,onChange:e=>l(t=>c(o({},t),{reason:e.target.value})),rows:4,className:n.reason?"border-destructive":""}),n.reason&&x.jsx("p",{className:"text-sm text-destructive",children:n.reason}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional reason for adding this number to the blacklist"})]}),x.jsxs(Bo,{children:[x.jsx(qt,{className:"h-4 w-4"}),x.jsxs($o,{children:[x.jsx("strong",{children:"Important:"})," Once a number is added to the blacklist, it will be blocked from receiving SMS messages. Make sure you have the correct number before proceeding."]})]}),x.jsxs("div",{className:"flex gap-4 pt-4",children:[x.jsx(cr,{type:"submit",disabled:t,children:t?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Adding..."]}):x.jsxs(x.Fragment,{children:[x.jsx(Ms,{className:"mr-2 h-4 w-4"}),"Add to Blacklist"]})}),x.jsx(fe,{to:"/blacklist-numbers",children:x.jsx(cr,{type:"button",variant:"outline",children:"Cancel"})})]})]})})]})})]})})}const Ip=[{title:"Dashboard",href:"/dashboard"},{title:"Blacklist Numbers",href:"/blacklist-numbers"},{title:"Edit",href:"/blacklist-numbers/edit"}];function Tp(){const{id:e}=ve(),t=pe(),[s,n]=me.useState(null),[r,a]=me.useState(!0),[l,i]=me.useState(!1),[d,u]=me.useState(!1),[m,f]=me.useState({}),[p,g]=me.useState({number:"",type:"manual",reason:""});return me.useEffect(()=>{h(null,null,function*(){if(e)try{const t=yield Ho.get(`/blacklist-numbers/${e}`);n(t),g({number:t.number,type:t.type,reason:t.reason||""})}catch(t){console.error("Error fetching blacklist number:",t)}finally{a(!1)}})},[e]),r?x.jsx(Do,{breadcrumbs:Ip,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):s?x.jsxs(Do,{breadcrumbs:Ip,children:[x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(fe,{to:"/blacklist-numbers",children:x.jsxs(cr,{variant:"ghost",size:"sm",children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Blacklist"]})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Blacklist Number"}),x.jsx("p",{className:"text-muted-foreground",children:"Modify blacklist number details"})]})]}),x.jsxs(cr,{variant:"destructive",onClick:()=>i(!0),children:[x.jsx(Us,{className:"mr-2 h-4 w-4"}),"Delete"]})]}),x.jsx("div",{className:"max-w-2xl",children:x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(ys,{className:"h-5 w-5"}),"Blacklist Number Details"]})}),x.jsx(Vo,{children:x.jsxs("form",{onSubmit:s=>h(null,null,function*(){s.preventDefault(),u(!0),f({});try{yield Ho.put(`/blacklist-numbers/${e}`,p),t("/blacklist-numbers")}catch(n){console.error("Error updating blacklist number:",n),n instanceof Error&&f({general:n.message})}finally{u(!1)}}),className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"number",children:"Phone Number *"}),x.jsx(dr,{id:"number",type:"tel",placeholder:"+905551234567",value:p.number,onChange:e=>{const t=(e=>{let t=e.replace(/[^\d+]/g,"");return t.startsWith("+")||(t="+"+t),t})(e.target.value);g(e=>c(o({},e),{number:t}))},className:m.number?"border-destructive":""}),m.number&&x.jsx("p",{className:"text-sm text-destructive",children:m.number}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter the phone number in international format (e.g., +905551234567)"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"type",children:"Type *"}),x.jsxs(Xu,{value:p.type,onValueChange:e=>g(t=>c(o({},t),{type:e})),children:[x.jsx(Zu,{children:x.jsx(Ju,{})}),x.jsxs(em,{children:[x.jsx(tm,{value:"manual",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Gs,{className:"h-4 w-4"}),"Manual"]})}),x.jsx(tm,{value:"sms",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(fs,{className:"h-4 w-4"}),"SMS"]})})]})]}),m.type&&x.jsx("p",{className:"text-sm text-destructive",children:m.type}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Select how this number was added to the blacklist"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"reason",children:"Reason"}),x.jsx(xh,{id:"reason",placeholder:"Enter the reason for blacklisting this number...",value:p.reason,onChange:e=>g(t=>c(o({},t),{reason:e.target.value})),rows:4,className:m.reason?"border-destructive":""}),m.reason&&x.jsx("p",{className:"text-sm text-destructive",children:m.reason}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional reason for adding this number to the blacklist"})]}),x.jsxs(Bo,{children:[x.jsx(qt,{className:"h-4 w-4"}),x.jsxs($o,{children:[x.jsx("strong",{children:"Important:"})," Changes to blacklist numbers will affect SMS delivery immediately. Make sure the information is correct before saving."]})]}),x.jsxs("div",{className:"flex gap-4 pt-4",children:[x.jsx(cr,{type:"submit",disabled:d,children:d?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Saving..."]}):x.jsxs(x.Fragment,{children:[x.jsx(Ms,{className:"mr-2 h-4 w-4"}),"Save Changes"]})}),x.jsx(fe,{to:"/blacklist-numbers",children:x.jsx(cr,{type:"button",variant:"outline",children:"Cancel"})})]})]})})]})})]}),x.jsx(Xh,{open:l,onOpenChange:i,children:x.jsxs(tx,{className:"sm:max-w-md",children:[x.jsxs(sx,{children:[x.jsx(rx,{children:"Confirm Delete"}),x.jsx(ax,{children:"Are you sure you want to delete this blacklist number? This action cannot be undone."})]}),x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsx(cr,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),x.jsx(cr,{variant:"destructive",onClick:()=>h(null,null,function*(){try{yield Ho.delete(`/blacklist-numbers/${e}`),t("/blacklist-numbers")}catch(s){console.error("Error deleting blacklist number:",s)}}),children:"Delete"})]})]})})]}):x.jsx(Do,{breadcrumbs:Ip,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("p",{className:"text-muted-foreground",children:"Blacklist number not found"})})})})}const Lp=[{title:"Dashboard",href:"/dashboard"},{title:"Blacklist Numbers",href:"/blacklist-numbers"},{title:"Details",href:"/blacklist-numbers/show"}];function zp(){const{id:e}=ve(),t=pe(),[s,n]=me.useState(null),[r,a]=me.useState(!0),[l,i]=me.useState(!1);if(me.useEffect(()=>{h(null,null,function*(){if(e)try{const t=yield Ho.get(`/blacklist-numbers/${e}`);n(t)}catch(t){console.error("Error fetching blacklist number:",t)}finally{a(!1)}})},[e]),r)return x.jsx(Do,{breadcrumbs:Lp,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})});if(!s)return x.jsx(Do,{breadcrumbs:Lp,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("p",{className:"text-muted-foreground",children:"Blacklist number not found"})})})});const o=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});return x.jsxs(Do,{breadcrumbs:Lp,children:[x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(fe,{to:"/blacklist-numbers",children:x.jsxs(cr,{variant:"ghost",size:"sm",children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Blacklist"]})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Blacklist Number Details"}),x.jsx("p",{className:"text-muted-foreground",children:"View detailed information about this blacklisted number"})]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(fe,{to:`/blacklist-numbers/${s.id}/edit`,children:x.jsxs(cr,{variant:"outline",children:[x.jsx(zs,{className:"mr-2 h-4 w-4"}),"Edit"]})}),x.jsxs(cr,{variant:"destructive",onClick:()=>i(!0),children:[x.jsx(Us,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(ys,{className:"h-5 w-5"}),"Basic Information"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Phone Number"}),x.jsx("span",{className:"font-mono text-lg",children:s.number})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),x.jsxs($l,{variant:(c=s.type,"sms"===c?"destructive":"default"),children:[(e=>"sms"===e?x.jsx(fs,{className:"h-4 w-4"}):x.jsx(Gs,{className:"h-4 w-4"}))(s.type),x.jsx("span",{className:"ml-1",children:s.type.toUpperCase()})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Reason"}),x.jsx("div",{className:"p-3 bg-muted rounded-md",children:s.reason?x.jsx("p",{className:"text-sm",children:s.reason}):x.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No reason provided"})})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Xt,{className:"h-5 w-5"}),"Timestamps"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(It,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Created At"})]}),x.jsx("p",{className:"text-sm",children:o(s.created_at)})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"})]}),x.jsx("p",{className:"text-sm",children:o(s.updated_at)})]})]})]})]}),x.jsxs(To,{className:"border-destructive/50 bg-destructive/5",children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2 text-destructive",children:[x.jsx($s,{className:"h-5 w-5"}),"Impact Information"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-sm",children:x.jsx("strong",{children:"This number is currently blocked from receiving SMS messages."})}),x.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[x.jsx("li",{children:" All incoming SMS messages to this number are rejected"}),x.jsx("li",{children:" The number cannot receive any SMS notifications"}),x.jsx("li",{children:" This affects all SMS services and applications"}),x.jsx("li",{children:" Changes take effect immediately"})]})]})})]}),x.jsxs("div",{className:"flex gap-4 pt-4",children:[x.jsx(fe,{to:`/blacklist-numbers/${s.id}/edit`,children:x.jsxs(cr,{children:[x.jsx(zs,{className:"mr-2 h-4 w-4"}),"Edit Number"]})}),x.jsx(fe,{to:"/blacklist-numbers",children:x.jsx(cr,{variant:"outline",children:"Back to List"})})]})]}),x.jsx(Xh,{open:l,onOpenChange:i,children:x.jsxs(tx,{className:"sm:max-w-md",children:[x.jsxs(sx,{children:[x.jsx(rx,{children:"Confirm Delete"}),x.jsx(ax,{children:"Are you sure you want to delete this blacklist number? This will allow the number to receive SMS messages again. This action cannot be undone."})]}),x.jsxs("div",{className:"flex justify-end gap-2",children:[x.jsx(cr,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),x.jsx(cr,{variant:"destructive",onClick:()=>h(null,null,function*(){try{yield Ho.delete(`/blacklist-numbers/${s.id}`),t("/blacklist-numbers")}catch(e){console.error("Error deleting blacklist number:",e)}}),children:"Delete"})]})]})})]});var c}const Op={getSmppUsers(){return h(this,null,function*(){return Ho.get("/smpp-users")})},deleteSmppUser(e){return h(this,null,function*(){return Ho.delete(`/smpp-users/${e}`)})}},Vp=[{title:"Dashboard",href:"/dashboard"},{title:"SMPP Users",href:"/smpp-users"}];function Up(){const{token:e}=dt(),{isConnected:t,smppUsers:s}=xt(),[n,r]=me.useState([]),[a,l]=me.useState(!0),[i,d]=me.useState(""),[u,m]=me.useState("all"),f=me.useCallback(()=>h(null,null,function*(){try{l(!0);const e=yield Op.getSmppUsers(),t=(null==e?void 0:e.data)||[],s=Array.isArray(t)?t.map(e=>c(o({},e),{id:e.id,created_at:e.created_at,updated_at:e.updated_at})):[];r(s)}catch(e){console.error("Error fetching SMPP users:",e),Ze.error("Failed to fetch SMPP users"),r([])}finally{l(!1)}}),[]);me.useEffect(()=>{f()},[f]),me.useEffect(()=>{const e=e=>{const t=e.detail;console.log("SMPP User Status Update received:",t),r(e=>e.map(e=>e.system_id===t.system_id?c(o({},e),{is_online:t.is_online||!1,last_connected_at:t.last_connected_at,last_ip_address:t.last_ip_address,connection_count:t.connection_count||e.connection_count,total_messages_sent:t.total_messages_sent||e.total_messages_sent,total_messages_received:t.total_messages_received||e.total_messages_received}):e))};return window.addEventListener("smpp-user-status-update",e),()=>{window.removeEventListener("smpp-user-status-update",e)}},[]);const p=me.useMemo(()=>{const e=[...n||[]];return(s||[]).forEach(t=>{const s=e.findIndex(e=>e.system_id===t.system_id);-1===s?e.push({id:0,system_id:t.system_id,password:"",max_connection_speed:100,is_active:!0,is_online:t.is_online||!1,connection_count:0,total_messages_sent:0,total_messages_received:0,last_connected_at:t.last_connected_at,last_ip_address:t.last_ip_address,mt_http_send:!0,mt_http_dlr_method:!0,mt_http_balance:!0,mt_smpps_send:!0,mt_priority:!0,mt_http_long_content:!0,mt_src_addr_auth:!0,mt_dlr_level:!0,mt_http_rate:!0,mt_validity_period:!0,mt_http_bulk:!1,mt_hex_content:!0,created_at:t.timestamp,updated_at:t.timestamp}):e[s]=c(o({},e[s]),{is_online:t.is_online||!1,last_connected_at:t.last_connected_at,last_ip_address:t.last_ip_address,connection_count:t.connection_count||e[s].connection_count,total_messages_sent:t.total_messages_sent||e[s].total_messages_sent,total_messages_received:t.total_messages_received||e[s].total_messages_received})}),e},[n,s]),g=me.useMemo(()=>p.filter(e=>{var t,s;const n=""===i||((null==(t=e.system_id)?void 0:t.toLowerCase())||"").includes(i.toLowerCase())||((null==(s=e.last_ip_address)?void 0:s.toLowerCase())||"").includes(i.toLowerCase()),r="all"===u||"online"===u&&e.is_online||"offline"===u&&!e.is_online;return n&&r}),[p,i,u]),v=me.useMemo(()=>{const e=p.length,t=p.filter(e=>e.is_online).length;return{total:e,active:t,inactive:p.filter(e=>!e.is_online).length,totalConnections:p.reduce((e,t)=>e+t.connection_count,0),totalMessagesSent:p.reduce((e,t)=>e+t.total_messages_sent,0),totalMessagesReceived:p.reduce((e,t)=>e+t.total_messages_received,0),activePercentage:e>0?Math.round(t/e*100):0}},[p]),j=me.useCallback(e=>h(null,null,function*(){try{yield Op.deleteSmppUser(e.id),Ze.success("SMPP user deleted successfully"),f()}catch(t){console.error("Error deleting SMPP user:",t),Ze.error("Failed to delete SMPP user")}}),[f]),y=me.useCallback(()=>{d(""),m("all")},[]),b=me.useMemo(()=>[Qm(),{accessorKey:"system_id",header:"System ID",cell:({row:e})=>x.jsx("div",{className:"font-mono text-sm",children:e.getValue("system_id")})},{accessorKey:"is_online",header:"Status",cell:({row:e})=>{const t=e.getValue("is_online"),s=e.getValue("is_active");return console.log("Status Debug:",{system_id:e.getValue("system_id"),is_online:t,is_active:s,row_data:e.original}),x.jsx($l,{variant:t?"default":"secondary",children:t?"ONLINE":"OFFLINE"})}},{accessorKey:"max_connection_speed",header:"Max Connections",cell:({row:e})=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(kt,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{children:e.getValue("max_connection_speed")})]})},{accessorKey:"connection_count",header:"Connections",cell:({row:e})=>x.jsx("div",{className:"text-sm",children:e.getValue("connection_count")})},{accessorKey:"total_messages_sent",header:"Sent",cell:({row:e})=>x.jsx("div",{className:"text-sm",children:e.getValue("total_messages_sent")})},{accessorKey:"total_messages_received",header:"Received",cell:({row:e})=>x.jsx("div",{className:"text-sm",children:e.getValue("total_messages_received")})},{accessorKey:"last_ip_address",header:"Last IP",cell:({row:e})=>{const t=e.getValue("last_ip_address");return x.jsx("div",{className:"font-mono text-sm",children:t||"-"})}},{accessorKey:"last_connected_at",header:"Last Connected",cell:({row:e})=>{const t=e.getValue("last_connected_at");return x.jsx("div",{className:"text-sm",children:t?new Date(t).toLocaleString():"-"})}},Ym(),{id:"actions",header:"Actions",cell:({row:e})=>{const t=e.original;return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(fe,{to:`/smpp-users/${t.id}/edit`,children:x.jsx(cr,{variant:"ghost",size:"sm",children:x.jsx(zs,{className:"h-4 w-4"})})}),x.jsx(cr,{variant:"ghost",size:"sm",onClick:()=>j(t),className:"text-destructive",children:x.jsx(Us,{className:"h-4 w-4"})})]})}}],[j]);return x.jsx(Do,{breadcrumbs:Vp,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"SMPP Users"}),x.jsx("p",{className:"text-muted-foreground",children:"Manage SMPP protocol users and connections"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(cr,{variant:"ghost",size:"sm",onClick:f,disabled:a,children:x.jsx(Ss,{className:"h-4 w-4 "+(a?"animate-spin":"")})}),x.jsx(fe,{to:"/smpp-users/create",children:x.jsxs(cr,{children:[x.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Add SMPP User"]})})]})]}),x.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Total SMPP Users"}),x.jsx(Gs,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold",children:v.total}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"All registered SMPP users"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Active Users"}),x.jsx(Rs,{className:"h-4 w-4 text-green-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-green-600",children:v.active}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"flex-1 min-w-[60px]",children:x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:x.jsx("div",{className:"h-2 rounded-full bg-green-500",style:{width:v.active/v.total*100+"%"}})})}),x.jsxs("span",{className:"text-xs text-muted-foreground",children:[v.activePercentage,"%"]})]})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Inactive Users"}),x.jsx(kt,{className:"h-4 w-4 text-red-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-red-600",children:v.inactive}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Disabled SMPP users"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Es,{className:"h-4 w-4"}),"Filters"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[x.jsx("div",{className:"relative min-w-[200px]",children:x.jsx(dr,{placeholder:"Search SMPP users...",value:i,onChange:e=>d(e.target.value),className:"w-full"})}),x.jsxs("select",{value:u,onChange:e=>m(e.target.value),className:"h-8 min-w-[120px] px-3 py-1 border border-input bg-background rounded-md text-sm",children:[x.jsx("option",{value:"all",children:"All Status"}),x.jsx("option",{value:"online",children:"Online"}),x.jsx("option",{value:"offline",children:"Offline"})]}),x.jsx(cr,{variant:"outline",size:"sm",onClick:y,children:"Clear Filters"})]})})]}),x.jsx(lm,{columns:b,data:g,title:"SMPP Users",description:`Showing ${g.length} of ${n.length} SMPP users`,showSearch:!1,showViewOptions:!1,showPagination:!0,pageSize:10})]})})}const Bp=[{title:"SMPP Users",href:"/smpp-users"},{title:"Create SMPP User",href:"/smpp-users/create"}];function $p(){const e=pe(),[t,s]=me.useState(!1),[n,r]=me.useState({system_id:"",password:"",max_connection_speed:100,is_active:!0,mt_src_addr:"",mt_http_throughput:"ND",mt_balance:"ND",mt_smpps_throughput:"ND",mt_sms_count:"ND",mt_early_percent:"ND",mt_priority_filter:"^[0-3]$",mt_content_filter:".*",mt_src_addr_filter:".*",mt_dst_addr_filter:".*",mt_validity_period_filter:"^\\d+$",mt_http_send:!0,mt_http_dlr_method:!0,mt_http_balance:!0,mt_smpps_send:!0,mt_priority:!0,mt_http_long_content:!0,mt_src_addr_auth:!0,mt_dlr_level:!0,mt_http_rate:!0,mt_validity_period:!0,mt_http_bulk:!1,mt_hex_content:!0}),a=(e,t)=>{r(s=>c(o({},s),{[e]:t}))};return x.jsx(Do,{breadcrumbs:Bp,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs(cr,{variant:"ghost",onClick:()=>e("/smpp-users"),children:[x.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back to SMPP Users"]}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create SMPP User"}),x.jsx("p",{className:"text-muted-foreground",children:"Add a new SMPP user to the system"})]})]}),x.jsxs("form",{onSubmit:t=>h(null,null,function*(){t.preventDefault(),s(!0);try{yield Ho.post("/smpp-users",n),e("/smpp-users")}catch(r){console.error("Error creating SMPP user:",r)}finally{s(!1)}}),children:[x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Basic Information"})}),x.jsxs(Vo,{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"system_id",children:"System ID *"}),x.jsx(dr,{id:"system_id",value:n.system_id,onChange:e=>a("system_id",e.target.value),placeholder:"Enter system ID",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"password",children:"Password *"}),x.jsx(dr,{id:"password",type:"password",value:n.password,onChange:e=>a("password",e.target.value),placeholder:"Enter password",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"max_connection_speed",children:"Max Connection Speed (msg/sec) *"}),x.jsx(dr,{id:"max_connection_speed",type:"number",min:"1",max:"10000",value:n.max_connection_speed,onChange:e=>a("max_connection_speed",parseInt(e.target.value)),placeholder:"100",required:!0})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"is_active",checked:n.is_active,onCheckedChange:e=>a("is_active",e)}),x.jsx(Io,{htmlFor:"is_active",className:"text-sm font-normal leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Active (User can connect to SMPP server)"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"MT Messaging Credentials - Quota"})}),x.jsxs(Vo,{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_src_addr",children:"Source Address"}),x.jsx(dr,{id:"mt_src_addr",value:n.mt_src_addr||"",onChange:e=>a("mt_src_addr",e.target.value),placeholder:"None"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_http_throughput",children:"HTTP Throughput"}),x.jsx(dr,{id:"mt_http_throughput",value:n.mt_http_throughput||"",onChange:e=>a("mt_http_throughput",e.target.value),placeholder:"ND"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_balance",children:"Balance"}),x.jsx(dr,{id:"mt_balance",value:n.mt_balance||"",onChange:e=>a("mt_balance",e.target.value),placeholder:"ND"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_smpps_throughput",children:"SMPPS Throughput"}),x.jsx(dr,{id:"mt_smpps_throughput",value:n.mt_smpps_throughput||"",onChange:e=>a("mt_smpps_throughput",e.target.value),placeholder:"ND"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_sms_count",children:"SMS Count"}),x.jsx(dr,{id:"mt_sms_count",value:n.mt_sms_count||"",onChange:e=>a("mt_sms_count",e.target.value),placeholder:"ND"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_early_percent",children:"Early Percent"}),x.jsx(dr,{id:"mt_early_percent",value:n.mt_early_percent||"",onChange:e=>a("mt_early_percent",e.target.value),placeholder:"ND"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"MT Messaging Credentials - Value Filters"})}),x.jsxs(Vo,{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_priority_filter",children:"Priority Filter"}),x.jsx(dr,{id:"mt_priority_filter",value:n.mt_priority_filter||"",onChange:e=>a("mt_priority_filter",e.target.value),placeholder:"^[0-3]$"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_content_filter",children:"Content Filter"}),x.jsx(dr,{id:"mt_content_filter",value:n.mt_content_filter||"",onChange:e=>a("mt_content_filter",e.target.value),placeholder:".*"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_src_addr_filter",children:"Source Address Filter"}),x.jsx(dr,{id:"mt_src_addr_filter",value:n.mt_src_addr_filter||"",onChange:e=>a("mt_src_addr_filter",e.target.value),placeholder:".*"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_dst_addr_filter",children:"Destination Address Filter"}),x.jsx(dr,{id:"mt_dst_addr_filter",value:n.mt_dst_addr_filter||"",onChange:e=>a("mt_dst_addr_filter",e.target.value),placeholder:".*"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_validity_period_filter",children:"Validity Period Filter"}),x.jsx(dr,{id:"mt_validity_period_filter",value:n.mt_validity_period_filter||"",onChange:e=>a("mt_validity_period_filter",e.target.value),placeholder:"^\\\\d+$"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"MT Messaging Credentials - Authorization"})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_http_send",checked:n.mt_http_send,onCheckedChange:e=>a("mt_http_send",e)}),x.jsx(Io,{htmlFor:"mt_http_send",className:"text-sm font-normal",children:"HTTP Send"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_http_dlr_method",checked:n.mt_http_dlr_method,onCheckedChange:e=>a("mt_http_dlr_method",e)}),x.jsx(Io,{htmlFor:"mt_http_dlr_method",className:"text-sm font-normal",children:"HTTP DLR Method"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_http_balance",checked:n.mt_http_balance,onCheckedChange:e=>a("mt_http_balance",e)}),x.jsx(Io,{htmlFor:"mt_http_balance",className:"text-sm font-normal",children:"HTTP Balance"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_smpps_send",checked:n.mt_smpps_send,onCheckedChange:e=>a("mt_smpps_send",e)}),x.jsx(Io,{htmlFor:"mt_smpps_send",className:"text-sm font-normal",children:"SMPPS Send"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_priority",checked:n.mt_priority,onCheckedChange:e=>a("mt_priority",e)}),x.jsx(Io,{htmlFor:"mt_priority",className:"text-sm font-normal",children:"Priority"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_http_long_content",checked:n.mt_http_long_content,onCheckedChange:e=>a("mt_http_long_content",e)}),x.jsx(Io,{htmlFor:"mt_http_long_content",className:"text-sm font-normal",children:"HTTP Long Content"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_src_addr_auth",checked:n.mt_src_addr_auth,onCheckedChange:e=>a("mt_src_addr_auth",e)}),x.jsx(Io,{htmlFor:"mt_src_addr_auth",className:"text-sm font-normal",children:"Source Address Auth"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_dlr_level",checked:n.mt_dlr_level,onCheckedChange:e=>a("mt_dlr_level",e)}),x.jsx(Io,{htmlFor:"mt_dlr_level",className:"text-sm font-normal",children:"DLR Level"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_http_rate",checked:n.mt_http_rate,onCheckedChange:e=>a("mt_http_rate",e)}),x.jsx(Io,{htmlFor:"mt_http_rate",className:"text-sm font-normal",children:"HTTP Rate"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_validity_period",checked:n.mt_validity_period,onCheckedChange:e=>a("mt_validity_period",e)}),x.jsx(Io,{htmlFor:"mt_validity_period",className:"text-sm font-normal",children:"Validity Period"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_http_bulk",checked:n.mt_http_bulk,onCheckedChange:e=>a("mt_http_bulk",e)}),x.jsx(Io,{htmlFor:"mt_http_bulk",className:"text-sm font-normal",children:"HTTP Bulk"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_hex_content",checked:n.mt_hex_content,onCheckedChange:e=>a("mt_hex_content",e)}),x.jsx(Io,{htmlFor:"mt_hex_content",className:"text-sm font-normal",children:"Hex Content"})]})]})})]})]}),x.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[x.jsx(cr,{type:"button",variant:"outline",onClick:()=>e("/smpp-users"),children:"Cancel"}),x.jsx(cr,{type:"submit",disabled:t,children:t?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Creating..."]}):x.jsxs(x.Fragment,{children:[x.jsx(Ms,{className:"h-4 w-4 mr-2"}),"Create SMPP User"]})})]})]})]})})})}function Hp(){const{id:e}=ve(),t=pe(),[s,n]=me.useState(null),[r,a]=me.useState(!0),[l,i]=me.useState(!1),[d,u]=me.useState({system_id:"",password:"",max_connection_speed:100,is_active:!0,mt_src_addr:"",mt_http_throughput:"ND",mt_balance:"ND",mt_smpps_throughput:"ND",mt_sms_count:"ND",mt_early_percent:"ND",mt_priority_filter:"^[0-3]$",mt_content_filter:".*",mt_src_addr_filter:".*",mt_dst_addr_filter:".*",mt_validity_period_filter:"^\\d+$",mt_http_send:!0,mt_http_dlr_method:!0,mt_http_balance:!0,mt_smpps_send:!0,mt_priority:!0,mt_http_long_content:!0,mt_src_addr_auth:!0,mt_dlr_level:!0,mt_http_rate:!0,mt_validity_period:!0,mt_http_bulk:!1,mt_hex_content:!0});me.useEffect(()=>{h(null,null,function*(){if(e)try{const t=yield Ho.get(`/smpp-users/${e}`);n(t.data),u({system_id:t.data.system_id,password:t.data.password,max_connection_speed:t.data.max_connection_speed,is_active:t.data.is_active,mt_src_addr:t.data.mt_src_addr||"",mt_http_throughput:t.data.mt_http_throughput||"ND",mt_balance:t.data.mt_balance||"ND",mt_smpps_throughput:t.data.mt_smpps_throughput||"ND",mt_sms_count:t.data.mt_sms_count||"ND",mt_early_percent:t.data.mt_early_percent||"ND",mt_priority_filter:t.data.mt_priority_filter||"^[0-3]$",mt_content_filter:t.data.mt_content_filter||".*",mt_src_addr_filter:t.data.mt_src_addr_filter||".*",mt_dst_addr_filter:t.data.mt_dst_addr_filter||".*",mt_validity_period_filter:t.data.mt_validity_period_filter||"^\\d+$",mt_http_send:t.data.mt_http_send,mt_http_dlr_method:t.data.mt_http_dlr_method,mt_http_balance:t.data.mt_http_balance,mt_smpps_send:t.data.mt_smpps_send,mt_priority:t.data.mt_priority,mt_http_long_content:t.data.mt_http_long_content,mt_src_addr_auth:t.data.mt_src_addr_auth,mt_dlr_level:t.data.mt_dlr_level,mt_http_rate:t.data.mt_http_rate,mt_validity_period:t.data.mt_validity_period,mt_http_bulk:t.data.mt_http_bulk,mt_hex_content:t.data.mt_hex_content})}catch(t){console.error("Error fetching SMPP user:",t)}finally{a(!1)}})},[e]);const m=(e,t)=>{u(s=>c(o({},s),{[e]:t}))},f=[{title:"SMPP Users",href:"/smpp-users"},{title:"Edit SMPP User",href:`/smpp-users/${e}/edit`}];return r?x.jsx(Do,{breadcrumbs:f,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):s?x.jsx(Do,{breadcrumbs:f,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs(cr,{variant:"ghost",onClick:()=>t("/smpp-users"),children:[x.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back to SMPP Users"]}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit SMPP User"}),x.jsx("p",{className:"text-muted-foreground",children:"Update SMPP user information"})]})]}),x.jsxs("form",{onSubmit:s=>h(null,null,function*(){s.preventDefault(),i(!0);try{yield Ho.put(`/smpp-users/${e}`,d),t("/smpp-users")}catch(n){console.error("Error updating SMPP user:",n)}finally{i(!1)}}),children:[x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Basic Information"})}),x.jsxs(Vo,{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"system_id",children:"System ID *"}),x.jsx(dr,{id:"system_id",value:d.system_id,onChange:e=>m("system_id",e.target.value),placeholder:"Enter system ID",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"password",children:"Password *"}),x.jsx(dr,{id:"password",type:"password",value:d.password,onChange:e=>m("password",e.target.value),placeholder:"Enter password",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"max_connection_speed",children:"Max Connection Speed (msg/sec) *"}),x.jsx(dr,{id:"max_connection_speed",type:"number",min:"1",max:"10000",value:d.max_connection_speed,onChange:e=>m("max_connection_speed",parseInt(e.target.value)),placeholder:"100",required:!0})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"is_active",checked:d.is_active,onCheckedChange:e=>m("is_active",e)}),x.jsx(Io,{htmlFor:"is_active",className:"text-sm font-normal leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Active (User can connect to SMPP server)"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"MT Messaging Credentials - Quota"})}),x.jsxs(Vo,{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_src_addr",children:"Source Address"}),x.jsx(dr,{id:"mt_src_addr",value:d.mt_src_addr||"",onChange:e=>m("mt_src_addr",e.target.value),placeholder:"None"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_http_throughput",children:"HTTP Throughput"}),x.jsx(dr,{id:"mt_http_throughput",value:d.mt_http_throughput||"",onChange:e=>m("mt_http_throughput",e.target.value),placeholder:"ND"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_balance",children:"Balance"}),x.jsx(dr,{id:"mt_balance",value:d.mt_balance||"",onChange:e=>m("mt_balance",e.target.value),placeholder:"ND"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_smpps_throughput",children:"SMPPS Throughput"}),x.jsx(dr,{id:"mt_smpps_throughput",value:d.mt_smpps_throughput||"",onChange:e=>m("mt_smpps_throughput",e.target.value),placeholder:"ND"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_sms_count",children:"SMS Count"}),x.jsx(dr,{id:"mt_sms_count",value:d.mt_sms_count||"",onChange:e=>m("mt_sms_count",e.target.value),placeholder:"ND"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_early_percent",children:"Early Percent"}),x.jsx(dr,{id:"mt_early_percent",value:d.mt_early_percent||"",onChange:e=>m("mt_early_percent",e.target.value),placeholder:"ND"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"MT Messaging Credentials - Value Filters"})}),x.jsxs(Vo,{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_priority_filter",children:"Priority Filter"}),x.jsx(dr,{id:"mt_priority_filter",value:d.mt_priority_filter||"",onChange:e=>m("mt_priority_filter",e.target.value),placeholder:"^[0-3]$"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_content_filter",children:"Content Filter"}),x.jsx(dr,{id:"mt_content_filter",value:d.mt_content_filter||"",onChange:e=>m("mt_content_filter",e.target.value),placeholder:".*"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_src_addr_filter",children:"Source Address Filter"}),x.jsx(dr,{id:"mt_src_addr_filter",value:d.mt_src_addr_filter||"",onChange:e=>m("mt_src_addr_filter",e.target.value),placeholder:".*"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_dst_addr_filter",children:"Destination Address Filter"}),x.jsx(dr,{id:"mt_dst_addr_filter",value:d.mt_dst_addr_filter||"",onChange:e=>m("mt_dst_addr_filter",e.target.value),placeholder:".*"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mt_validity_period_filter",children:"Validity Period Filter"}),x.jsx(dr,{id:"mt_validity_period_filter",value:d.mt_validity_period_filter||"",onChange:e=>m("mt_validity_period_filter",e.target.value),placeholder:"^\\\\d+$"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"MT Messaging Credentials - Authorization"})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_http_send",checked:d.mt_http_send,onCheckedChange:e=>m("mt_http_send",e)}),x.jsx(Io,{htmlFor:"mt_http_send",className:"text-sm font-normal",children:"HTTP Send"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_http_dlr_method",checked:d.mt_http_dlr_method,onCheckedChange:e=>m("mt_http_dlr_method",e)}),x.jsx(Io,{htmlFor:"mt_http_dlr_method",className:"text-sm font-normal",children:"HTTP DLR Method"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_http_balance",checked:d.mt_http_balance,onCheckedChange:e=>m("mt_http_balance",e)}),x.jsx(Io,{htmlFor:"mt_http_balance",className:"text-sm font-normal",children:"HTTP Balance"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_smpps_send",checked:d.mt_smpps_send,onCheckedChange:e=>m("mt_smpps_send",e)}),x.jsx(Io,{htmlFor:"mt_smpps_send",className:"text-sm font-normal",children:"SMPPS Send"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_priority",checked:d.mt_priority,onCheckedChange:e=>m("mt_priority",e)}),x.jsx(Io,{htmlFor:"mt_priority",className:"text-sm font-normal",children:"Priority"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_http_long_content",checked:d.mt_http_long_content,onCheckedChange:e=>m("mt_http_long_content",e)}),x.jsx(Io,{htmlFor:"mt_http_long_content",className:"text-sm font-normal",children:"HTTP Long Content"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_src_addr_auth",checked:d.mt_src_addr_auth,onCheckedChange:e=>m("mt_src_addr_auth",e)}),x.jsx(Io,{htmlFor:"mt_src_addr_auth",className:"text-sm font-normal",children:"Source Address Auth"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_dlr_level",checked:d.mt_dlr_level,onCheckedChange:e=>m("mt_dlr_level",e)}),x.jsx(Io,{htmlFor:"mt_dlr_level",className:"text-sm font-normal",children:"DLR Level"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_http_rate",checked:d.mt_http_rate,onCheckedChange:e=>m("mt_http_rate",e)}),x.jsx(Io,{htmlFor:"mt_http_rate",className:"text-sm font-normal",children:"HTTP Rate"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_validity_period",checked:d.mt_validity_period,onCheckedChange:e=>m("mt_validity_period",e)}),x.jsx(Io,{htmlFor:"mt_validity_period",className:"text-sm font-normal",children:"Validity Period"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_http_bulk",checked:d.mt_http_bulk,onCheckedChange:e=>m("mt_http_bulk",e)}),x.jsx(Io,{htmlFor:"mt_http_bulk",className:"text-sm font-normal",children:"HTTP Bulk"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"mt_hex_content",checked:d.mt_hex_content,onCheckedChange:e=>m("mt_hex_content",e)}),x.jsx(Io,{htmlFor:"mt_hex_content",className:"text-sm font-normal",children:"Hex Content"})]})]})})]})]}),x.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[x.jsx(cr,{type:"button",variant:"outline",onClick:()=>t("/smpp-users"),children:"Cancel"}),x.jsx(cr,{type:"submit",disabled:l,children:l?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Updating..."]}):x.jsxs(x.Fragment,{children:[x.jsx(Ms,{className:"h-4 w-4 mr-2"}),"Update SMPP User"]})})]})]})]})})}):x.jsx(Do,{breadcrumbs:f,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("p",{className:"text-muted-foreground",children:"SMPP user not found"})})})})}function qp(){const{id:e}=ve(),[t,s]=me.useState(null),[n,r]=me.useState(!0);me.useEffect(()=>{h(null,null,function*(){if(e)try{const t=yield Ho.get(`/smpp-users/${e}`);s(t.data)}catch(t){console.error("Error fetching SMPP user:",t)}finally{r(!1)}})},[e]);const a=[{title:"SMPP Users",href:"/smpp-users"},{title:"SMPP User Details",href:`/smpp-users/${e}`}];if(n)return x.jsx(Do,{breadcrumbs:a,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})});if(!t)return x.jsx(Do,{breadcrumbs:a,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("p",{className:"text-muted-foreground",children:"SMPP user not found"})})})});const l=e=>e?new Date(e).toLocaleString():"Never",i=e=>e?x.jsxs($l,{variant:"default",className:"bg-green-500 text-white",children:[x.jsx(Gt,{className:"h-3 w-3 mr-1"}),"Enabled"]}):x.jsxs($l,{variant:"secondary",children:[x.jsx(Kt,{className:"h-3 w-3 mr-1"}),"Disabled"]});return x.jsx(Do,{breadcrumbs:a,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(fe,{to:"/smpp-users",children:x.jsxs(cr,{variant:"ghost",children:[x.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back to SMPP Users"]})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t.system_id}),x.jsx("p",{className:"text-muted-foreground",children:"SMPP User Details"})]})]}),x.jsx(fe,{to:`/smpp-users/${t.id}/edit`,children:x.jsxs(cr,{children:[x.jsx(zs,{className:"h-4 w-4 mr-2"}),"Edit SMPP User"]})})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Gs,{className:"h-5 w-5"}),"Basic Information"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"System ID"}),x.jsx("p",{className:"font-mono text-sm",children:t.system_id})]}),x.jsx(fr,{}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Password"}),x.jsx("p",{className:"font-mono text-sm",children:t.password})]}),x.jsx(fr,{}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Active Status"}),x.jsx("div",{className:"mt-1",children:(c=t.is_active,c?x.jsxs($l,{variant:"default",className:"bg-blue-500 text-white",children:[x.jsx(Gt,{className:"h-3 w-3 mr-1"}),"Active"]}):x.jsxs($l,{variant:"destructive",children:[x.jsx(Kt,{className:"h-3 w-3 mr-1"}),"Inactive"]}))})]}),x.jsx(fr,{}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Connection Status"}),x.jsx("div",{className:"mt-1",children:(o=t.is_online,o?x.jsxs($l,{variant:"default",className:"bg-green-500 text-white",children:[x.jsx(Qs,{className:"h-3 w-3 mr-1"}),"Online"]}):x.jsxs($l,{variant:"secondary",children:[x.jsx(Ks,{className:"h-3 w-3 mr-1"}),"Offline"]}))})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Js,{className:"h-5 w-5"}),"Connection Settings"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Max Connection Speed"}),x.jsxs("p",{className:"text-lg font-semibold",children:[t.max_connection_speed," msg/sec"]})]}),x.jsx(fr,{}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last IP Address"}),x.jsx("p",{className:"font-mono text-sm",children:t.last_ip_address||"Never connected"})]})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(As,{className:"h-5 w-5"}),"MT Messaging Credentials - Quota"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Source Address"}),x.jsx("p",{className:"font-mono text-sm",children:t.mt_src_addr||"None"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"HTTP Throughput"}),x.jsx("p",{className:"font-mono text-sm",children:t.mt_http_throughput||"ND"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Balance"}),x.jsx("p",{className:"font-mono text-sm",children:t.mt_balance||"ND"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"SMPPS Throughput"}),x.jsx("p",{className:"font-mono text-sm",children:t.mt_smpps_throughput||"ND"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"SMS Count"}),x.jsx("p",{className:"font-mono text-sm",children:t.mt_sms_count||"ND"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Early Percent"}),x.jsx("p",{className:"font-mono text-sm",children:t.mt_early_percent||"ND"})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(rs,{className:"h-5 w-5"}),"MT Messaging Credentials - Value Filters"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Priority Filter"}),x.jsx("p",{className:"font-mono text-sm",children:t.mt_priority_filter||"^[0-3]$"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Content Filter"}),x.jsx("p",{className:"font-mono text-sm",children:t.mt_content_filter||".*"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Source Address Filter"}),x.jsx("p",{className:"font-mono text-sm",children:t.mt_src_addr_filter||".*"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Destination Address Filter"}),x.jsx("p",{className:"font-mono text-sm",children:t.mt_dst_addr_filter||".*"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Validity Period Filter"}),x.jsx("p",{className:"font-mono text-sm",children:t.mt_validity_period_filter||"^\\d+$"})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Rs,{className:"h-5 w-5"}),"MT Messaging Credentials - Authorization"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"HTTP Send"}),x.jsx("div",{className:"mt-1",children:i(t.mt_http_send)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"HTTP DLR Method"}),x.jsx("div",{className:"mt-1",children:i(t.mt_http_dlr_method)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"HTTP Balance"}),x.jsx("div",{className:"mt-1",children:i(t.mt_http_balance)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"SMPPS Send"}),x.jsx("div",{className:"mt-1",children:i(t.mt_smpps_send)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Priority"}),x.jsx("div",{className:"mt-1",children:i(t.mt_priority)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"HTTP Long Content"}),x.jsx("div",{className:"mt-1",children:i(t.mt_http_long_content)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Source Address Auth"}),x.jsx("div",{className:"mt-1",children:i(t.mt_src_addr_auth)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"DLR Level"}),x.jsx("div",{className:"mt-1",children:i(t.mt_dlr_level)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"HTTP Rate"}),x.jsx("div",{className:"mt-1",children:i(t.mt_http_rate)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Validity Period"}),x.jsx("div",{className:"mt-1",children:i(t.mt_validity_period)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"HTTP Bulk"}),x.jsx("div",{className:"mt-1",children:i(t.mt_http_bulk)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Hex Content"}),x.jsx("div",{className:"mt-1",children:i(t.mt_hex_content)})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Xt,{className:"h-5 w-5"}),"Connection History"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Connected"}),x.jsx("p",{children:l(t.last_connected_at||null)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Disconnected"}),x.jsx("p",{children:l(t.last_disconnected_at||null)})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Timestamps"})}),x.jsx(Vo,{children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),x.jsx("p",{children:l(t.created_at)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Updated At"}),x.jsx("p",{children:l(t.updated_at)})]})]})})]})]})})});var o,c}const Gp=e=>h(null,null,function*(){const t=new URLSearchParams;return(null==e?void 0:e.search)&&t.append("search",e.search),(null==e?void 0:e.status)&&"all"!==e.status&&t.append("status",e.status),(null==e?void 0:e.sms_status)&&"all"!==e.sms_status&&t.append("sms_status",e.sms_status),(null==e?void 0:e.smpp_sent)&&"all"!==e.smpp_sent&&t.append("smpp_sent",e.smpp_sent),(null==e?void 0:e.source_addr)&&t.append("source_addr",e.source_addr),(null==e?void 0:e.destination_addr)&&t.append("destination_addr",e.destination_addr),(null==e?void 0:e.device_id)&&t.append("device_id",e.device_id),(null==e?void 0:e.device_name)&&t.append("device_name",e.device_name),(null==e?void 0:e.simcard_name)&&"all"!==e.simcard_name&&t.append("simcard_name",e.simcard_name),(null==e?void 0:e.sim_slot)&&"all"!==e.sim_slot&&t.append("sim_slot",e.sim_slot),(null==e?void 0:e.country_site)&&"all"!==e.country_site&&t.append("country_site",e.country_site),(null==e?void 0:e.device_group)&&"all"!==e.device_group&&t.append("device_group",e.device_group),(null==e?void 0:e.source_username)&&"all"!==e.source_username&&t.append("source_username",e.source_username),(null==e?void 0:e.start_date)&&t.append("start_date",e.start_date),(null==e?void 0:e.end_date)&&t.append("end_date",e.end_date),(null==e?void 0:e.start_time)&&t.append("start_time",e.start_time),(null==e?void 0:e.end_time)&&t.append("end_time",e.end_time),(null==e?void 0:e.sort_by)&&t.append("sort_by",e.sort_by),(null==e?void 0:e.sort_order)&&t.append("sort_order",e.sort_order),(null==e?void 0:e.page)&&t.append("page",e.page.toString()),(null==e?void 0:e.per_page)&&t.append("per_page",e.per_page.toString()),yield Ho.get(`/sms-logs?${t.toString()}`)}),Wp=e=>h(null,null,function*(){return yield Ho.get(`/sms-logs/${e}`)}),Kp=[{title:"Dashboard",href:"/dashboard"},{title:"SMS Logs",href:"/sms-logs"}];function Qp(){const{user:e,token:t,isAuthenticated:s}=dt(),{smsLogs:n}=xt(),[r,a]=je(),[l,i]=me.useState([]),[c,d]=me.useState(!0),[u,m]=me.useState(null),[f,p]=me.useState(1),[g,v]=me.useState(15),[j,y]=me.useState(0),[b,N]=me.useState(0),[_,w]=me.useState(""),[S,k]=me.useState(""),[C,M]=me.useState(""),[E,F]=me.useState(""),[P,D]=me.useState(""),[A,R]=me.useState(""),[I,T]=me.useState(""),[L,z]=me.useState(""),[O,V]=me.useState("all"),[U,B]=me.useState(""),[$,H]=me.useState(""),[q,G]=me.useState(""),[W,K]=me.useState(""),[Q,Y]=me.useState(""),[X,J]=me.useState(""),[Z,ee]=me.useState(""),[te,se]=me.useState(""),[ne,re]=me.useState(""),[ae,le]=me.useState(!1);me.useEffect(()=>{const e=r.get("search"),t=r.get("start_date"),s=r.get("end_date"),n=r.get("start_time"),a=r.get("end_time"),l=r.get("source_addr"),i=r.get("destination_addr"),o=r.get("device_name"),c=r.get("sms_status");e&&B(e),t&&H(t),s&&G(s),n&&K(n),a&&Y(a),l&&J(l),i&&ee(i),o&&se(o),re(c||"all"),w(e||""),k(t||""),M(s||""),F(n||""),D(a||""),R(l||""),T(i||""),z(o||""),V(c||"all"),(e||t||s||n||a||l||i||o||c)&&le(!0)},[r]);const ie=e=>{const t=new URLSearchParams(r);Object.entries(e).forEach(([e,s])=>{s?t.set(e,s):t.delete(e)}),a(t)},oe=()=>h(null,null,function*(){if(s&&t)try{d(!0),m(null);const e={page:f,per_page:g,search:U||void 0,start_date:$||void 0,end_date:q||void 0,start_time:W||void 0,end_time:Q||void 0,source_addr:X||void 0,destination_addr:Z||void 0,device_name:te||void 0,sms_status:ne&&"all"!==ne?ne:void 0},t=yield Gp(e);i(t.data),y(t.total),N(t.last_page)}catch(e){console.error("Error fetching SMS logs:",e),m(e instanceof Error?e.message:"Failed to fetch SMS logs"),Ze.error("Failed to fetch SMS logs")}finally{d(!1)}});me.useEffect(()=>{oe()},[f,g,U,$,q,W,Q,X,Z,te,ne,s,t]);const ce=U||$||q||W||Q||X||Z||te||ne&&"all"!==ne,de=me.useMemo(()=>{const e=[...l||[]];return(n||[]).forEach(t=>{const s=e.findIndex(e=>e.message_id&&t.message_id?e.message_id===t.message_id:e.id&&t.id?e.id===t.id:"inbound"===e.direction&&"inbound"===t.direction?e.destination_addr===t.destination_addr&&e.created_at===t.created_at:"outbound"===e.direction&&"outbound"===t.direction&&e.source_addr===t.source_addr&&e.created_at===t.created_at);-1===s?e.unshift(t):e[s]=o(o({},e[s]),t)}),e},[l,n]),ue=me.useMemo(()=>{const e=de.length,t=de.filter(e=>"delivered"===e.status).length,s=de.filter(e=>"failed"===e.status).length,n=de.filter(e=>"pending"===e.status).length,r=de.filter(e=>"outbound"===e.direction).length,a=de.filter(e=>"inbound"===e.direction).length,l=de.reduce((e,t)=>e+parseFloat(t.total_cost||"0"),0),i=e>0?(t/e*100).toFixed(1):"0";return{total:e,delivered:t,failed:s,pending:n,outbound:r,inbound:a,totalCost:l.toFixed(2),successRate:i}},[de]),he=me.useMemo(()=>[{accessorKey:"id",header:"ID",cell:({row:e})=>x.jsx("div",{className:"font-mono text-sm",children:e.getValue("id")})},{accessorKey:"message_id",header:"Message ID",cell:({row:e})=>x.jsx("div",{className:"font-mono text-xs max-w-[300px] truncate",children:e.getValue("message_id")})},{accessorKey:"direction",header:"Direction",cell:({row:e})=>{const t=e.getValue("direction");return x.jsxs("div",{className:"flex items-center gap-2",children:["outbound"===t?x.jsx(Pt,{className:"h-3 w-3 text-blue-500"}):x.jsx(Ct,{className:"h-3 w-3 text-green-500"}),x.jsx($l,{variant:"outbound"===t?"default":"secondary",children:t})]})}},{accessorKey:"source_addr",header:"Source",cell:({row:e})=>{const t=e.getValue("source_addr")||null;return x.jsx("div",{className:"text-sm font-mono",children:t||"Panel"})}},{accessorKey:"destination_addr",header:"Destination",cell:({row:e})=>{const t=e.getValue("destination_addr")||null;return x.jsx("div",{className:"text-sm font-mono",children:t||"-"})}},{accessorKey:"message",header:"Message",cell:({row:e})=>{const t=e.getValue("message")||null,s=e.getValue("message_length")||(t?t.length:0);if(!t)return x.jsx("span",{className:"text-muted-foreground",children:"-"});let n=1,r=0;try{if("undefined"!=typeof window&&window.SMS){const e=(new window.SMS).count(t);n=e.totalSms,r=e.charsLeft}else n=Math.ceil(s/160)}catch(l){n=Math.ceil(s/160)}const a=t.length>50?`${t.substring(0,50)}...`:t;return x.jsxs("div",{className:"max-w-xs",children:[x.jsx("div",{className:"text-sm",children:a}),x.jsxs("div",{className:"text-xs text-muted-foreground",children:[s," chars  ",n," SMS",r>0&&r<160&&x.jsxs("span",{className:"ml-1",children:["(",r," left)"]})]})]})}},{accessorKey:"device_name",header:"Device",cell:({row:e})=>{const t=e.getValue("device_name")||null;return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Rt,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"font-medium",children:t||"-"})]})}},{accessorKey:"status",header:"Status",cell:({row:e})=>{const t=e.getValue("status");let s="secondary";return"delivered"===t?s="default":"failed"===t?s="destructive":"pending"===t&&(s="outline"),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Gt,{className:"h-4 w-4 text-muted-foreground"}),x.jsx($l,{variant:s,children:t})]})}},{accessorKey:"created_at",header:"Created",cell:({row:e})=>{const t=e.getValue("created_at");return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(It,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("div",{className:"text-sm",children:new Date(t).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]})}}],[]);if(!e)return x.jsx(Do,{breadcrumbs:Kp,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"text-center",children:x.jsx("p",{className:"text-muted-foreground",children:"Please log in to view SMS logs."})})})});if(c)return x.jsx(Do,{breadcrumbs:Kp,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading SMS logs..."})]})})});if(u)return x.jsx(Do,{breadcrumbs:Kp,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsxs("p",{className:"text-destructive",children:["Error loading SMS logs: ",u]}),x.jsxs(cr,{onClick:oe,className:"mt-4",children:[x.jsx(Ss,{className:"mr-2 h-4 w-4"}),"Retry"]})]})})});const xe=x.jsx("div",{className:"flex items-center justify-center py-8",children:x.jsxs("div",{className:"text-center",children:[x.jsx(fs,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),x.jsx("h3",{className:"text-sm font-semibold",children:"No SMS logs found"}),x.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"No SMS logs match your current filters."})]})});return x.jsx(Do,{breadcrumbs:Kp,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"SMS Logs"}),x.jsxs("p",{className:"text-muted-foreground",children:["Monitor and manage SMS message logs (",j," total records)"]})]}),x.jsx("div",{className:"flex items-center gap-2",children:x.jsxs(cr,{variant:"outline",size:"sm",onClick:oe,children:[x.jsx(Ss,{className:"mr-2 h-4 w-4"}),"Refresh"]})})]}),x.jsxs("div",{className:"grid gap-3 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[x.jsxs(To,{className:"p-3",children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-1 px-0 pt-0",children:[x.jsx(zo,{className:"text-xs font-medium",children:"Total SMS"}),x.jsx(fs,{className:"h-3 w-3 text-muted-foreground"})]}),x.jsxs(Vo,{className:"px-0 pb-0",children:[x.jsx("div",{className:"text-lg font-bold",children:ue.total}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:[ue.outbound," outbound, ",ue.inbound," inbound"]})]})]}),x.jsxs(To,{className:"p-3",children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-1 px-0 pt-0",children:[x.jsx(zo,{className:"text-xs font-medium",children:"Delivered"}),x.jsx(Wt,{className:"h-3 w-3 text-green-500"})]}),x.jsxs(Vo,{className:"px-0 pb-0",children:[x.jsx("div",{className:"text-lg font-bold text-green-600",children:ue.delivered}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:[ue.successRate,"% success rate"]})]})]}),x.jsxs(To,{className:"p-3",children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-1 px-0 pt-0",children:[x.jsx(zo,{className:"text-xs font-medium",children:"Failed"}),x.jsx(Kt,{className:"h-3 w-3 text-red-500"})]}),x.jsxs(Vo,{className:"px-0 pb-0",children:[x.jsx("div",{className:"text-lg font-bold text-red-600",children:ue.failed}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:[ue.total>0?(ue.failed/ue.total*100).toFixed(1):"0","% failure rate"]})]})]}),x.jsxs(To,{className:"p-3",children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-1 px-0 pt-0",children:[x.jsx(zo,{className:"text-xs font-medium",children:"Pending"}),x.jsx(Yt,{className:"h-3 w-3 text-yellow-500"})]}),x.jsxs(Vo,{className:"px-0 pb-0",children:[x.jsx("div",{className:"text-lg font-bold text-yellow-600",children:ue.pending}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:[ue.total>0?(ue.pending/ue.total*100).toFixed(1):"0","% pending"]})]})]}),x.jsxs(To,{className:"p-3",children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-1 px-0 pt-0",children:[x.jsx(zo,{className:"text-xs font-medium",children:"Total Cost"}),x.jsx(ts,{className:"h-3 w-3 text-muted-foreground"})]}),x.jsxs(Vo,{className:"px-0 pb-0",children:[x.jsxs("div",{className:"text-lg font-bold",children:[ue.totalCost," USD"]}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:["Average: ",ue.total>0?(parseFloat(ue.totalCost)/ue.total).toFixed(4):"0"," USD per SMS"]})]})]}),x.jsxs(To,{className:"p-3",children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-1 px-0 pt-0",children:[x.jsx(zo,{className:"text-xs font-medium",children:"Real-time Status"}),x.jsx(Bs,{className:"h-3 w-3 text-muted-foreground"})]}),x.jsxs(Vo,{className:"px-0 pb-0",children:[x.jsx("div",{className:"text-lg font-bold text-blue-600",children:"Live"}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:[(null==n?void 0:n.length)||0," real-time updates"]})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx(zo,{children:"Search & Filters"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(cr,{variant:"outline",size:"sm",onClick:()=>le(!ae),children:[x.jsx(rs,{className:"mr-2 h-4 w-4"}),ae?"Hide":"Show"," Filters"]}),ce&&x.jsxs(cr,{variant:"outline",size:"sm",onClick:()=>{w(""),k(""),M(""),F(""),D(""),R(""),T(""),z(""),V("all"),B(""),H(""),G(""),K(""),Y(""),J(""),ee(""),se(""),re(""),p(1),ie({})},children:[x.jsx(Xs,{className:"mr-2 h-4 w-4"}),"Clear All"]})]})]})}),x.jsx(Vo,{children:x.jsxs("form",{onSubmit:e=>e.preventDefault(),className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"flex-1",children:x.jsxs("div",{className:"relative",children:[x.jsx(Es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),x.jsx(dr,{placeholder:"Search messages, devices, phone numbers...",value:_,onChange:e=>w(e.target.value),onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},className:"pl-10"})]})}),x.jsx(cr,{onClick:()=>w(""),variant:"outline",type:"button",children:"Clear"}),x.jsx(cr,{onClick:()=>{B(_),H(S),G(C),K(E),Y(P),J(A),ee(I),se(L),re("all"===O?"":O),p(1),ie({search:_,start_date:S,end_date:C,start_time:E,end_time:P,source_addr:A,destination_addr:I,device_name:L,sms_status:"all"===O?"":O})},type:"button",children:"Apply Filters"})]}),ae&&x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"start-date",children:"Start Date"}),x.jsx(dr,{id:"start-date",type:"date",value:S,onChange:e=>k(e.target.value)})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"end-date",children:"End Date"}),x.jsx(dr,{id:"end-date",type:"date",value:C,onChange:e=>M(e.target.value)})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"start-time",children:"Start Time (24h)"}),x.jsx(dr,{id:"start-time",type:"time",step:"60",value:E,onChange:e=>F(e.target.value),placeholder:"HH:MM"}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Use 24-hour format (e.g., 14:30 for 2:30 PM)"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"end-time",children:"End Time (24h)"}),x.jsx(dr,{id:"end-time",type:"time",step:"60",value:P,onChange:e=>D(e.target.value),placeholder:"HH:MM"}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Use 24-hour format (e.g., 23:45 for 11:45 PM)"})]})]}),x.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"source-address",children:"Source Address"}),x.jsx(dr,{id:"source-address",placeholder:"Enter source address...",value:A,onChange:e=>R(e.target.value),onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()}})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"destination-address",children:"Destination Address"}),x.jsx(dr,{id:"destination-address",placeholder:"Enter destination address...",value:I,onChange:e=>T(e.target.value),onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()}})]})]}),x.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"device-name",children:"Device Name"}),x.jsx(dr,{id:"device-name",placeholder:"Enter device name...",value:L,onChange:e=>z(e.target.value),onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()}})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"sms-status",children:"SMS Status"}),x.jsxs(Xu,{value:O,onValueChange:V,children:[x.jsx(Zu,{children:x.jsx(Ju,{placeholder:"Select status..."})}),x.jsxs(em,{children:[x.jsx(tm,{value:"all",children:"All Statuses"}),x.jsx(tm,{value:"delivered",children:"Delivered"}),x.jsx(tm,{value:"failed",children:"Failed"}),x.jsx(tm,{value:"pending",children:"Pending"}),x.jsx(tm,{value:"sent",children:"Sent"}),x.jsx(tm,{value:"expired",children:"Expired"}),x.jsx(tm,{value:"rejected",children:"Rejected"})]})]})]})]})]}),ce&&x.jsxs("div",{className:"flex flex-wrap gap-2",children:[U&&x.jsxs($l,{variant:"secondary",className:"flex items-center gap-1",children:["Search: ",U,x.jsx(Xs,{className:"h-3 w-3 cursor-pointer",onClick:()=>{w(""),B("")}})]}),$&&x.jsxs($l,{variant:"secondary",className:"flex items-center gap-1",children:["From: ",$,x.jsx(Xs,{className:"h-3 w-3 cursor-pointer",onClick:()=>{k(""),H("")}})]}),q&&x.jsxs($l,{variant:"secondary",className:"flex items-center gap-1",children:["To: ",q,x.jsx(Xs,{className:"h-3 w-3 cursor-pointer",onClick:()=>{M(""),G("")}})]}),W&&x.jsxs($l,{variant:"secondary",className:"flex items-center gap-1",children:["From Time: ",W,x.jsx(Xs,{className:"h-3 w-3 cursor-pointer",onClick:()=>{F(""),K("")}})]}),Q&&x.jsxs($l,{variant:"secondary",className:"flex items-center gap-1",children:["To Time: ",Q,x.jsx(Xs,{className:"h-3 w-3 cursor-pointer",onClick:()=>{D(""),Y("")}})]}),X&&x.jsxs($l,{variant:"secondary",className:"flex items-center gap-1",children:["Source: ",X,x.jsx(Xs,{className:"h-3 w-3 cursor-pointer",onClick:()=>{R(""),J("")}})]}),Z&&x.jsxs($l,{variant:"secondary",className:"flex items-center gap-1",children:["Destination: ",Z,x.jsx(Xs,{className:"h-3 w-3 cursor-pointer",onClick:()=>{T(""),ee("")}})]}),te&&x.jsxs($l,{variant:"secondary",className:"flex items-center gap-1",children:["Device: ",te,x.jsx(Xs,{className:"h-3 w-3 cursor-pointer",onClick:()=>{z(""),se("")}})]}),ne&&"all"!==ne&&x.jsxs($l,{variant:"secondary",className:"flex items-center gap-1",children:["Status: ",ne,x.jsx(Xs,{className:"h-3 w-3 cursor-pointer",onClick:()=>{V("all"),re("")}})]})]})]})})]}),x.jsx(lm,{columns:he,data:de,title:`SMS Logs (Page ${f} of ${b})`,description:`Showing ${de.length} of ${j} total records`,emptyState:xe,pageSize:g,showSearch:!1,showViewOptions:!1,showPagination:!1,className:"space-y-4"}),b>1&&x.jsx(To,{children:x.jsx(Vo,{className:"p-4",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(f-1)*g+1," to ",Math.min(f*g,j)," of ",j," records"]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("span",{className:"text-sm font-medium",children:"Rows per page:"}),x.jsx("select",{value:g,onChange:e=>v(Number(e.target.value)),className:"border rounded px-2 py-1 text-sm",children:[5,10,15,20,25,30,40,50,100].map(e=>x.jsx("option",{value:e,children:e},e))})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>p(1),disabled:1===f,children:"First"}),x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>p(f-1),disabled:1===f,children:"Previous"}),x.jsxs("span",{className:"text-sm",children:["Page ",f," of ",b]}),x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>p(f+1),disabled:f===b,children:"Next"}),x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>p(b),disabled:f===b,children:"Last"})]})]})]})})})]})})}function Yp(){const{id:e}=ve(),{user:t,token:s,isAuthenticated:n}=dt(),[r,a]=me.useState(null),[l,i]=me.useState(!0),[o,c]=me.useState(null),[d,u]=me.useState(""),[m,f]=me.useState(""),[p,g]=me.useState(""),[v,j]=me.useState(""),[y,b]=me.useState(""),[N,_]=me.useState(""),[w,S]=me.useState(!1),k=[{title:"Dashboard",href:"/dashboard"},{title:"SMS Logs",href:"/sms-logs"},{title:`SMS Log #${e}`,href:`/sms-logs/${e}`}],C=()=>h(null,null,function*(){if(n&&s&&e)try{i(!0),c(null);const t=yield Wp(parseInt(e));a(t)}catch(t){console.error("Error fetching SMS log:",t),c(t instanceof Error?t.message:"Failed to fetch SMS log"),Ze.error("Failed to fetch SMS log")}finally{i(!1)}});me.useEffect(()=>{C()},[e,n,s]);const M=d||m||p||v||y||N,E=e=>{switch(e){case"delivered":return"default";case"failed":return"destructive";case"pending":return"outline";default:return"secondary"}};if(!t)return x.jsx(Do,{breadcrumbs:k,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"text-center",children:x.jsx("p",{className:"text-muted-foreground",children:"Please log in to view SMS log details."})})})});if(l)return x.jsx(Do,{breadcrumbs:k,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading SMS log details..."})]})})});if(o||!r)return x.jsx(Do,{breadcrumbs:k,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsxs("p",{className:"text-destructive",children:["Error loading SMS log: ",o]}),x.jsx(cr,{onClick:C,className:"mt-4",children:"Retry"})]})})});const F=(e=>{if(!e)return{count:0,charsLeft:0,limit:160};try{if("undefined"!=typeof window&&window.SMS){const t=(new window.SMS).count(e);return{count:t.totalSms,charsLeft:t.charsLeft,limit:t.limit}}{const t=Math.ceil(e.length/160);return{count:t,charsLeft:160-e.length%160,limit:160}}}catch(t){return{count:Math.ceil(e.length/160),charsLeft:160-e.length%160,limit:160}}})(r.message||"");return x.jsx(Do,{breadcrumbs:k,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(fe,{to:"/sms-logs",children:x.jsxs(cr,{variant:"outline",size:"sm",children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to SMS Logs"]})}),x.jsxs("div",{children:[x.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["SMS Log #",r.id]}),x.jsxs("p",{className:"text-muted-foreground",children:["Message ID: ",r.message_id]})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx($l,{variant:E(r.status||""),children:r.status}),x.jsxs("div",{className:"flex items-center gap-1",children:[(P=r.direction||"","outbound"===P?x.jsx(Pt,{className:"h-4 w-4 text-blue-500"}):x.jsx(Ct,{className:"h-4 w-4 text-green-500"})),x.jsx($l,{variant:"outbound"===r.direction?"default":"secondary",children:r.direction})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx(zo,{children:"Related SMS Logs Filters"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(cr,{variant:"outline",size:"sm",onClick:()=>S(!w),children:[x.jsx(rs,{className:"mr-2 h-4 w-4"}),w?"Hide":"Show"," Filters"]}),M&&x.jsxs(cr,{variant:"outline",size:"sm",onClick:()=>{u(""),f(""),g(""),j(""),b(""),_("")},children:[x.jsx(Xs,{className:"mr-2 h-4 w-4"}),"Clear All"]})]})]})}),w&&x.jsx(Vo,{children:x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"start-date",children:"Start Date"}),x.jsx(dr,{id:"start-date",type:"date",value:d,onChange:e=>u(e.target.value)})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"end-date",children:"End Date"}),x.jsx(dr,{id:"end-date",type:"date",value:m,onChange:e=>f(e.target.value)})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"start-time",children:"Start Time"}),x.jsx(dr,{id:"start-time",type:"time",value:p,onChange:e=>g(e.target.value)})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"end-time",children:"End Time"}),x.jsx(dr,{id:"end-time",type:"time",value:v,onChange:e=>j(e.target.value)})]})]}),x.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"source-address",children:"Source Address"}),x.jsx(dr,{id:"source-address",placeholder:"Enter source address...",value:y,onChange:e=>b(e.target.value)})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"destination-address",children:"Destination Address"}),x.jsx(dr,{id:"destination-address",placeholder:"Enter destination address...",value:N,onChange:e=>_(e.target.value)})]})]}),M&&x.jsxs("div",{className:"flex flex-wrap gap-2",children:[d&&x.jsxs($l,{variant:"secondary",className:"flex items-center gap-1",children:["From: ",d,x.jsx(Xs,{className:"h-3 w-3 cursor-pointer",onClick:()=>u("")})]}),m&&x.jsxs($l,{variant:"secondary",className:"flex items-center gap-1",children:["To: ",m,x.jsx(Xs,{className:"h-3 w-3 cursor-pointer",onClick:()=>f("")})]}),p&&x.jsxs($l,{variant:"secondary",className:"flex items-center gap-1",children:["From Time: ",p,x.jsx(Xs,{className:"h-3 w-3 cursor-pointer",onClick:()=>g("")})]}),v&&x.jsxs($l,{variant:"secondary",className:"flex items-center gap-1",children:["To Time: ",v,x.jsx(Xs,{className:"h-3 w-3 cursor-pointer",onClick:()=>j("")})]}),y&&x.jsxs($l,{variant:"secondary",className:"flex items-center gap-1",children:["Source: ",y,x.jsx(Xs,{className:"h-3 w-3 cursor-pointer",onClick:()=>b("")})]}),N&&x.jsxs($l,{variant:"secondary",className:"flex items-center gap-1",children:["Destination: ",N,x.jsx(Xs,{className:"h-3 w-3 cursor-pointer",onClick:()=>_("")})]})]}),x.jsx("div",{className:"flex items-center gap-2",children:x.jsx(fe,{to:`/sms-logs?start_date=${d}&end_date=${m}&start_time=${p}&end_time=${v}&source_addr=${y}&destination_addr=${N}`,children:x.jsx(cr,{size:"sm",children:"View Related SMS Logs"})})})]})})]}),x.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(fs,{className:"h-5 w-5"}),"Message Details"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Message Content"}),x.jsx("div",{className:"mt-1 p-3 bg-muted rounded-md",children:x.jsx("p",{className:"text-sm whitespace-pre-wrap",children:r.message||"-"})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Length"}),x.jsxs("p",{className:"text-sm",children:[r.message_length||0," characters"]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"SMS Count"}),x.jsxs("p",{className:"text-sm",children:[F.count," SMS"]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Characters Left"}),x.jsxs("p",{className:"text-sm",children:[F.charsLeft," to next SMS"]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Priority"}),x.jsx("p",{className:"text-sm",children:r.priority||"-"})]})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(as,{className:"h-5 w-5"}),"Communication Details"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Source Address"}),x.jsx("p",{className:"text-sm font-mono",children:r.source_addr||"Panel"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Destination Address"}),x.jsx("p",{className:"text-sm font-mono",children:r.destination_addr||"-"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Source Connector"}),x.jsx($l,{variant:"outline",className:"text-xs",children:r.source_connector||"-"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Source User"}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx(Gs,{className:"h-3 w-3"}),x.jsx("span",{className:"text-sm",children:r.source_user||"-"})]})]})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Rt,{className:"h-5 w-5"}),"Device & SIM Details"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Device Name"}),x.jsx("p",{className:"text-sm",children:r.device_name||"-"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Device Group"}),x.jsx("p",{className:"text-sm",children:r.device_group||"-"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Country Site"}),x.jsx("p",{className:"text-sm",children:r.country_site||"-"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"SIM Card"}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx(ys,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"text-sm",children:r.simcard_name||"Unknown"}),r.sim_slot&&x.jsxs($l,{variant:"outline",className:"text-xs",children:["Slot ",r.sim_slot]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"IMSI"}),x.jsx("p",{className:"text-sm font-mono",children:r.device_imsi||"-"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Xt,{className:"h-5 w-5"}),"Status & Timing"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:["delivered"===r.status&&x.jsx(Gt,{className:"h-4 w-4 text-green-500"}),"failed"===r.status&&x.jsx(Kt,{className:"h-4 w-4 text-red-500"}),"pending"===r.status&&x.jsx(Yt,{className:"h-4 w-4 text-yellow-500"}),x.jsx($l,{variant:E(r.status||""),children:r.status})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx(It,{className:"h-3 w-3"}),x.jsx("span",{className:"text-sm",children:new Date(r.created_at).toLocaleString()})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Received At"}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx(Xt,{className:"h-3 w-3"}),x.jsx("span",{className:"text-sm",children:r.received_at?new Date(r.received_at).toLocaleString():"-"})]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Retry Count"}),x.jsxs("p",{className:"text-sm",children:[r.retry_count||0," / ",r.max_retries||3]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"SMPP Sent"}),x.jsx($l,{variant:r.smpp_sent?"default":"secondary",children:r.smpp_sent?"Yes":"No"})]})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(ts,{className:"h-5 w-5"}),"Cost & Technical Details"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Total Cost"}),x.jsxs("p",{className:"text-sm font-mono",children:[r.total_cost||"0.00"," USD"]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Currency"}),x.jsx("p",{className:"text-sm",children:r.currency||"USD"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Delivery Report"}),x.jsx($l,{variant:r.delivery_report_requested?"default":"secondary",children:r.delivery_report_requested?"Requested":"Not Requested"})]}),r.error_message&&x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Error Message"}),x.jsx("p",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:r.error_message})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"PDU Count"}),x.jsx("p",{className:"text-sm",children:r.pdu_count||1})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Blacklisted"}),x.jsx($l,{variant:r.is_blacklisted?"destructive":"secondary",children:r.is_blacklisted?"Yes":"No"})]})]})]})]})]})]})});var P}const Xp={getAlarmLogs(){return h(this,null,function*(){return Ho.get("/alarm-logs")})},deleteAlarmLog(e){return h(this,null,function*(){return Ho.delete(`/alarm-logs/${e}`)})}},Jp=[{title:"Dashboard",href:"/dashboard"},{title:"Alarm Logs",href:"/alarm-logs"}];function Zp(){const{token:e}=dt(),[t,s]=me.useState([]),[n,r]=me.useState(!0),[a,l]=me.useState(""),[i,d]=me.useState("all"),[u,m]=me.useState("all"),f=me.useCallback(()=>h(null,null,function*(){try{r(!0);const e=(yield Xp.getAlarmLogs()).data.map(e=>c(o({},e),{id:e.id,created_at:e.created_at,updated_at:e.updated_at}));s(e)}catch(e){console.error("Error fetching alarm logs:",e),Ze.error("Failed to fetch alarm logs")}finally{r(!1)}}),[]);me.useEffect(()=>{f()},[f]);const p=me.useMemo(()=>t.filter(e=>{var t;const s=""===a||e.device_id.toLowerCase().includes(a.toLowerCase())||(null==(t=e.device_name)?void 0:t.toLowerCase().includes(a.toLowerCase()))||e.alarm_type.toLowerCase().includes(a.toLowerCase())||e.message.toLowerCase().includes(a.toLowerCase()),n="all"===i||e.status===i,r="all"===u||e.severity===u;return s&&n&&r}),[t,a,i,u]),g=me.useMemo(()=>{const e=t.map(e=>e.status).filter(Boolean);return[...new Set(e)]},[t]),v=me.useMemo(()=>{const e=t.map(e=>e.severity).filter(Boolean);return[...new Set(e)]},[t]),j=me.useMemo(()=>{const e=t.length,s=t.filter(e=>"active"===e.status).length;return{total:e,active:s,resolved:t.filter(e=>"resolved"===e.status).length,critical:t.filter(e=>"critical"===e.severity).length,warning:t.filter(e=>"warning"===e.severity).length,info:t.filter(e=>"info"===e.severity).length,activePercentage:e>0?Math.round(s/e*100):0}},[t]),y=me.useCallback(e=>h(null,null,function*(){try{yield Xp.deleteAlarmLog(e.id),Ze.success("Alarm log deleted successfully"),f()}catch(t){console.error("Error deleting alarm log:",t),Ze.error("Failed to delete alarm log")}}),[f]),b=me.useCallback(()=>{l(""),d("all"),m("all")},[]),N=me.useMemo(()=>[{accessorKey:"device_id",header:"Device ID",cell:({row:e})=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"font-mono text-sm",children:e.getValue("device_id")})]})},{accessorKey:"device_name",header:"Device Name",cell:({row:e})=>e.getValue("device_name")},{accessorKey:"alarm_type",header:"Alarm Type",cell:({row:e})=>x.jsx("div",{className:"font-medium",children:e.getValue("alarm_type")})},{accessorKey:"severity",header:"Severity",cell:({row:e})=>{const t=e.getValue("severity");return x.jsxs($l,{variant:(e=>{switch(e){case"critical":return"destructive";case"warning":return"default";case"info":return"secondary";default:return"outline"}})(t),children:[(e=>{switch(e){case"critical":case"warning":return x.jsx($s,{className:"h-3 w-3"});case"info":return x.jsx(kt,{className:"h-3 w-3"});default:return x.jsx(At,{className:"h-3 w-3"})}})(t),x.jsx("span",{className:"ml-1",children:t.toUpperCase()})]})}},{accessorKey:"message",header:"Message",cell:({row:e})=>x.jsx("div",{className:"max-w-[300px] truncate text-sm",children:e.getValue("message")})},{accessorKey:"status",header:"Status",cell:({row:e})=>{const t=e.getValue("status");return x.jsxs($l,{variant:(e=>{switch(e){case"active":return"destructive";case"resolved":return"default";default:return"secondary"}})(t),children:[(e=>{switch(e){case"active":return x.jsx($s,{className:"h-3 w-3"});case"resolved":return x.jsx(Gt,{className:"h-3 w-3"});default:return x.jsx(kt,{className:"h-3 w-3"})}})(t),x.jsx("span",{className:"ml-1",children:t.toUpperCase()})]})}},Ym(),Xm({onDelete:y,editPath:e=>`/alarm-logs/${e.id}/edit`,deleteConfirmMessage:"Are you sure you want to delete this alarm log?"})],[y]);return x.jsx(Do,{breadcrumbs:Jp,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Alarm Logs"}),x.jsx("p",{className:"text-muted-foreground",children:"Monitor device alarms and system alerts"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(cr,{variant:"ghost",size:"sm",onClick:f,disabled:n,children:x.jsx(Ss,{className:"h-4 w-4 "+(n?"animate-spin":"")})}),x.jsx(fe,{to:"/alarm-logs/create",children:x.jsxs(cr,{children:[x.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Add Alarm"]})})]})]}),x.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:[x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Total Alarms"}),x.jsx(At,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold",children:j.total}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"All alarm logs"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Active Alarms"}),x.jsx($s,{className:"h-4 w-4 text-red-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-red-600",children:j.active}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"flex-1 min-w-[60px]",children:x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:x.jsx("div",{className:"h-2 rounded-full bg-red-500",style:{width:`${j.activePercentage}%`}})})}),x.jsxs("span",{className:"text-xs text-muted-foreground",children:[j.activePercentage,"%"]})]})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Resolved"}),x.jsx(Gt,{className:"h-4 w-4 text-green-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-green-600",children:j.resolved}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Resolved alarms"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Critical"}),x.jsx($s,{className:"h-4 w-4 text-red-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-red-600",children:j.critical}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Critical severity"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Warning"}),x.jsx($s,{className:"h-4 w-4 text-yellow-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:j.warning}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Warning severity"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Info"}),x.jsx(kt,{className:"h-4 w-4 text-blue-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j.info}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Info severity"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Es,{className:"h-4 w-4"}),"Filters"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[x.jsx("div",{className:"relative min-w-[200px]",children:x.jsx(dr,{placeholder:"Search alarm logs...",value:a,onChange:e=>l(e.target.value),className:"w-full"})}),x.jsxs("select",{value:i,onChange:e=>d(e.target.value),className:"h-8 min-w-[120px] px-3 py-1 border border-input bg-background rounded-md text-sm",children:[x.jsx("option",{value:"all",children:"All Status"}),g.map(e=>x.jsx("option",{value:e,children:e.toUpperCase()},e))]}),x.jsxs("select",{value:u,onChange:e=>m(e.target.value),className:"h-8 min-w-[120px] px-3 py-1 border border-input bg-background rounded-md text-sm",children:[x.jsx("option",{value:"all",children:"All Severity"}),v.map(e=>x.jsx("option",{value:e,children:e.toUpperCase()},e))]}),x.jsx(cr,{variant:"outline",size:"sm",onClick:b,children:"Clear Filters"})]})})]}),x.jsx(lm,{columns:N,data:p,title:"Alarm Logs",description:`Showing ${p.length} of ${t.length} alarm logs`,showSearch:!1,showViewOptions:!1,showPagination:!0,pageSize:10})]})})}function eg(){var e,t,s;const{id:n}=ve(),{token:r}=dt(),[a,l]=me.useState(null),[i,o]=me.useState(!0),c=[{title:"Reports",href:"#"},{title:"Alarm Logs",href:"/alarm-logs"},{title:"Details",href:"#"}];return me.useEffect(()=>{h(null,null,function*(){if(n)try{o(!0);const e=yield fetch(`/api/alarm-logs/${n}`,{headers:{Authorization:`Bearer ${r}`}});if(e.ok){const t=yield e.json();l(t)}else Ze.error("Failed to fetch alarm log")}catch(e){console.error("Error fetching alarm log:",e),Ze.error("Failed to fetch alarm log")}finally{o(!1)}})},[n]),i?x.jsx(Do,{breadcrumbs:c,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading alarm log..."})]})})})}):a?x.jsx(Do,{breadcrumbs:c,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(fe,{to:"/alarm-logs",children:x.jsxs(cr,{variant:"outline",size:"sm",children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to List"]})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Alarm Log Details"}),x.jsxs("p",{className:"text-muted-foreground",children:["Device: ",a.device_name||a.device_id]})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[(e=>{switch(null==e?void 0:e.toLowerCase()){case"stopped":return x.jsx(Gt,{className:"h-4 w-4 text-green-500"});case"started":return x.jsx(Kt,{className:"h-4 w-4 text-red-500"});case"failed":return x.jsx($s,{className:"h-4 w-4 text-red-500"});default:return x.jsx($s,{className:"h-4 w-4 text-yellow-500"})}})(a.status),x.jsx($l,{variant:(e=>{switch(null==e?void 0:e.toLowerCase()){case"started":return"default";case"stopped":default:return"secondary";case"failed":return"destructive"}})(a.status),children:(null==(e=a.status)?void 0:e.toUpperCase())||"N/A"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx($s,{className:"h-5 w-5"}),"Alarm Information"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Alarm Type"}),x.jsx("div",{className:"mt-1",children:x.jsx($l,{variant:"outline",children:(null==(t=a.alarm_type)?void 0:t.replace("_"," ").toUpperCase())||"N/A"})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Severity"}),x.jsx("div",{className:"mt-1",children:x.jsx($l,{variant:(e=>{switch(null==e?void 0:e.toLowerCase()){case"critical":case"error":return"destructive";case"warning":return"default";default:return"secondary"}})(a.severity),children:(null==(s=a.severity)?void 0:s.toUpperCase())||"N/A"})})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Message"}),x.jsx("div",{className:"mt-1 p-3 bg-muted rounded-md",children:x.jsx("p",{className:"text-sm whitespace-pre-wrap",children:a.message||"No message available"})})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Ts,{className:"h-5 w-5"}),"Device Information"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Device ID"}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx(Ts,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"text-sm font-mono",children:a.device_id})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Device Name"}),x.jsx("p",{className:"text-sm",children:a.device_name||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Device Group"}),x.jsx("p",{className:"text-sm",children:a.device_group||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Sitename"}),x.jsx("p",{className:"text-sm",children:a.sitename||"N/A"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(As,{className:"h-5 w-5"}),"Device Status at Alarm Time"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Battery Level"}),x.jsxs("p",{className:"text-sm",children:[a.battery_level||0,"%"]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Battery Status"}),x.jsx("p",{className:"text-sm",children:a.battery_status||"N/A"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Signal Strength"}),x.jsxs("p",{className:"text-sm",children:[a.signal_strength||0,"/5"]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Signal DBM"}),x.jsxs("p",{className:"text-sm",children:[a.signal_dbm||0," dBm"]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Network Type"}),x.jsx("p",{className:"text-sm",children:a.network_type||"N/A"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Xt,{className:"h-5 w-5"}),"System Information"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),x.jsx("p",{className:"text-sm",children:new Date(a.created_at).toLocaleString()})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Updated At"}),x.jsx("p",{className:"text-sm",children:new Date(a.updated_at).toLocaleString()})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Record ID"}),x.jsx("p",{className:"text-sm font-mono",children:a.id})]})]})]})]})]})}):x.jsx(Do,{breadcrumbs:c,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx($s,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Alarm Log Not Found"}),x.jsx("p",{className:"text-muted-foreground mb-4",children:"The alarm log you're looking for doesn't exist."}),x.jsx(fe,{to:"/alarm-logs",children:x.jsxs(cr,{variant:"outline",children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Alarm Logs"]})})]})})})})}const tg={getFilters(){return h(this,null,function*(){return Ho.get("/filters")})},getFilter(e){return h(this,null,function*(){return Ho.get(`/filters/${e}`)})},createFilter(e){return h(this,null,function*(){return Ho.post("/filters",e)})},updateFilter(e,t){return h(this,null,function*(){return Ho.put(`/filters/${e}`,t)})},deleteFilter(e){return h(this,null,function*(){return Ho.delete(`/filters/${e}`)})},bulkDeleteFilters(e){return h(this,null,function*(){return Ho.delete(`/filters/bulk?ids=${e.join(",")}`)})},toggleFilterStatus(e){return h(this,null,function*(){return Ho.patch(`/filters/${e}/toggle`)})}},sg=[{title:"Dashboard",href:"/dashboard"},{title:"Filters",href:"/filters"}];function ng(){const{token:e}=dt(),[t,s]=me.useState([]),[n,r]=me.useState(!0),[a,l]=me.useState(""),[i,d]=me.useState("all"),[u,m]=me.useState("all"),f=me.useCallback(()=>h(null,null,function*(){try{r(!0);const e=(yield tg.getFilters()).filters.map(e=>c(o({},e),{id:e.id,created_at:e.created_at,updated_at:e.updated_at}));s(e)}catch(e){console.error("Error fetching filters:",e),Ze.error("Failed to fetch filters")}finally{r(!1)}}),[]);me.useEffect(()=>{f()},[f]);const p=me.useMemo(()=>t.filter(e=>{var t;const s=""===a||e.name.toLowerCase().includes(a.toLowerCase())||(null==(t=e.description)?void 0:t.toLowerCase().includes(a.toLowerCase()))||e.type.toLowerCase().includes(a.toLowerCase()),n="all"===i||e.type===i,r="all"===u||"active"===u&&e.is_active||"inactive"===u&&!e.is_active;return s&&n&&r}),[t,a,i,u]),g=me.useMemo(()=>{const e=t.map(e=>e.type).filter(Boolean);return[...new Set(e)]},[t]),v=me.useMemo(()=>{const e=t.length,s=t.filter(e=>e.is_active).length;return{total:e,active:s,inactive:t.filter(e=>!e.is_active).length,smsFilters:t.filter(e=>"sms"===e.type).length,ussdFilters:t.filter(e=>"ussd"===e.type).length,deviceFilters:t.filter(e=>"device"===e.type).length,activePercentage:e>0?Math.round(s/e*100):0}},[t]),j=me.useCallback(e=>h(null,null,function*(){try{yield tg.deleteFilter(e.id),Ze.success("Filter deleted successfully"),f()}catch(t){console.error("Error deleting filter:",t),Ze.error("Failed to delete filter")}}),[f]),y=me.useCallback(()=>{l(""),d("all"),m("all")},[]),b=me.useMemo(()=>[{accessorKey:"name",header:"Name",cell:({row:e})=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(rs,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"font-medium",children:e.getValue("name")})]})},{accessorKey:"description",header:"Description",cell:({row:e})=>e.getValue("description")||"No description"},{accessorKey:"type",header:"Type",cell:({row:e})=>{const t=e.getValue("type");return x.jsx($l,{variant:(e=>{switch(e){case"sms":return"default";case"ussd":default:return"secondary";case"device":return"outline"}})(t),children:t.toUpperCase()})}},{accessorKey:"is_active",header:"Status",cell:({row:e})=>{const t=e.getValue("is_active");return x.jsx($l,{variant:t?"default":"secondary",children:t?x.jsxs(x.Fragment,{children:[x.jsx(Gt,{className:"h-3 w-3 mr-1"}),"ACTIVE"]}):x.jsxs(x.Fragment,{children:[x.jsx(Kt,{className:"h-3 w-3 mr-1"}),"INACTIVE"]})})}},{accessorKey:"conditions",header:"Conditions",cell:({row:e})=>{const t=e.getValue("conditions"),s=t?Object.keys(t).length:0;return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(kt,{className:"h-4 w-4 text-muted-foreground"}),x.jsxs("span",{className:"text-sm",children:[s," condition",1!==s?"s":""]})]})}},Ym(),Xm({onDelete:j,editPath:e=>`/filters/${e.id}/edit`,deleteConfirmMessage:"Are you sure you want to delete this filter?"})],[j]);return x.jsx(Do,{breadcrumbs:sg,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Filters"}),x.jsx("p",{className:"text-muted-foreground",children:"Manage data filtering rules and conditions"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(cr,{variant:"ghost",size:"sm",onClick:f,disabled:n,children:x.jsx(Ss,{className:"h-4 w-4 "+(n?"animate-spin":"")})}),x.jsx(fe,{to:"/filters/create",children:x.jsxs(cr,{children:[x.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Add Filter"]})})]})]}),x.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:[x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Total Filters"}),x.jsx(rs,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold",children:v.total}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"All filters"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Active Filters"}),x.jsx(Gt,{className:"h-4 w-4 text-green-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-green-600",children:v.active}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"flex-1 min-w-[60px]",children:x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:x.jsx("div",{className:"h-2 rounded-full bg-green-500",style:{width:`${v.activePercentage}%`}})})}),x.jsxs("span",{className:"text-xs text-muted-foreground",children:[v.activePercentage,"%"]})]})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Inactive Filters"}),x.jsx(Kt,{className:"h-4 w-4 text-red-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-red-600",children:v.inactive}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Disabled filters"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"SMS Filters"}),x.jsx(kt,{className:"h-4 w-4 text-blue-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-blue-600",children:v.smsFilters}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"SMS type filters"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"USSD Filters"}),x.jsx(kt,{className:"h-4 w-4 text-purple-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-purple-600",children:v.ussdFilters}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"USSD type filters"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Device Filters"}),x.jsx(kt,{className:"h-4 w-4 text-orange-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-orange-600",children:v.deviceFilters}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Device type filters"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Es,{className:"h-4 w-4"}),"Filters"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[x.jsx("div",{className:"relative min-w-[200px]",children:x.jsx(dr,{placeholder:"Search filters...",value:a,onChange:e=>l(e.target.value),className:"w-full"})}),x.jsxs("select",{value:i,onChange:e=>d(e.target.value),className:"h-8 min-w-[120px] px-3 py-1 border border-input bg-background rounded-md text-sm",children:[x.jsx("option",{value:"all",children:"All Types"}),g.map(e=>x.jsx("option",{value:e,children:e.toUpperCase()},e))]}),x.jsxs("select",{value:u,onChange:e=>m(e.target.value),className:"h-8 min-w-[120px] px-3 py-1 border border-input bg-background rounded-md text-sm",children:[x.jsx("option",{value:"all",children:"All Status"}),x.jsx("option",{value:"active",children:"Active"}),x.jsx("option",{value:"inactive",children:"Inactive"})]}),x.jsx(cr,{variant:"outline",size:"sm",onClick:y,children:"Clear Filters"})]})})]}),x.jsx(lm,{columns:b,data:p,title:"Filters",description:`Showing ${p.length} of ${t.length} filters`,showSearch:!1,showViewOptions:!1,showPagination:!0,pageSize:10})]})})}const rg=[{title:"Dashboard",href:"/dashboard"},{title:"Filters",href:"/filters"},{title:"Create",href:"/filters/create"}],ag=[{value:"TransparentFilter",label:"Transparent Filter",icon:rs,description:"Always matches any message criteria",routes:"All"},{value:"ConnectorFilter",label:"Connector Filter",icon:Cs,description:"Matches the source connector of a message",routes:"MO"},{value:"UserFilter",label:"User Filter",icon:Gs,description:"Matches the owner of a MT message",routes:"MT"},{value:"GroupFilter",label:"Group Filter",icon:Ws,description:"Matches the owner's group of a MT message",routes:"MT"},{value:"SourceAddrFilter",label:"Source Address Filter",icon:fs,description:"Matches the source address of a MO message",routes:"All"},{value:"DestinationAddrFilter",label:"Destination Address Filter",icon:fs,description:"Matches the destination address of a MT message",routes:"All"},{value:"ShortMessageFilter",label:"Short Message Filter",icon:fs,description:"Matches the content of a message",routes:"All"},{value:"DateIntervalFilter",label:"Date Interval Filter",icon:It,description:"Matches the date of a message",routes:"All"},{value:"TimeIntervalFilter",label:"Time Interval Filter",icon:Xt,description:"Matches the time of a message",routes:"All"},{value:"TagFilter",label:"Tag Filter",icon:Vs,description:"Checks if message has a defined tag",routes:"All"},{value:"EvalPyFilter",label:"Python Script Filter",icon:Jt,description:"Passes message to a third party python script for user-defined filtering",routes:"All"}];function lg(){var e,t;const s=pe(),[n,r]=me.useState(!1),[a,l]=me.useState({}),[i,d]=me.useState({name:"",type:"",description:"",is_active:!0,config:{}}),u=()=>ag.find(e=>e.value===i.type);return x.jsx(Do,{breadcrumbs:rg,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(fe,{to:"/filters",children:x.jsxs(cr,{variant:"ghost",size:"sm",children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Filters"]})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Filter"}),x.jsx("p",{className:"text-muted-foreground",children:"Add a new message routing filter"})]})]})}),x.jsx("div",{className:"max-w-2xl",children:x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Filter Details"})}),x.jsx(Vo,{children:x.jsxs("form",{onSubmit:e=>h(null,null,function*(){e.preventDefault(),r(!0),l({});try{yield Ho.post("/filters",i),s("/filters")}catch(t){console.error("Error creating filter:",t),t instanceof Error&&l({general:t.message})}finally{r(!1)}}),className:"space-y-6",children:[a.general&&x.jsxs(Bo,{children:[x.jsx(qt,{className:"h-4 w-4"}),x.jsx($o,{children:a.general})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"name",children:"Filter Name"}),x.jsx(dr,{id:"name",type:"text",value:i.name,onChange:e=>d(c(o({},i),{name:e.target.value})),placeholder:"Enter filter name",required:!0})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"type",children:"Filter Type"}),x.jsxs(Xu,{value:i.type,onValueChange:e=>d(c(o({},i),{type:e})),children:[x.jsx(Zu,{children:x.jsx(Ju,{placeholder:"Select filter type"})}),x.jsx(em,{children:ag.map(e=>{const t=e.icon;return x.jsx(tm,{value:e.value,children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(t,{className:"h-4 w-4"}),x.jsx("span",{children:e.label})]})},e.value)})})]})]}),u()&&x.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[x.jsx("h4",{className:"font-medium mb-2",children:"Filter Information"}),x.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:null==(e=u())?void 0:e.description}),x.jsxs("p",{className:"text-sm",children:[x.jsx("span",{className:"font-medium",children:"Routes:"})," ",null==(t=u())?void 0:t.routes]})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"description",children:"Description"}),x.jsx(xh,{id:"description",value:i.description,onChange:e=>d(c(o({},i),{description:e.target.value})),placeholder:"Enter filter description",rows:3})]}),i.type&&(()=>{if(!u())return null;switch(i.type){case"ConnectorFilter":return x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"connector_id",children:"Connector ID"}),x.jsx(dr,{id:"connector_id",type:"text",value:i.config.connector_id||"",onChange:e=>d(c(o({},i),{config:c(o({},i.config),{connector_id:e.target.value})})),placeholder:"Enter connector ID"})]})});case"UserFilter":return x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"user_id",children:"User ID"}),x.jsx(dr,{id:"user_id",type:"text",value:i.config.user_id||"",onChange:e=>d(c(o({},i),{config:c(o({},i.config),{user_id:e.target.value})})),placeholder:"Enter user ID"})]})});case"GroupFilter":return x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"group_id",children:"Group ID"}),x.jsx(dr,{id:"group_id",type:"text",value:i.config.group_id||"",onChange:e=>d(c(o({},i),{config:c(o({},i.config),{group_id:e.target.value})})),placeholder:"Enter group ID"})]})});case"SourceAddrFilter":case"DestinationAddrFilter":return x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"address",children:"Address Pattern"}),x.jsx(dr,{id:"address",type:"text",value:i.config.address||"",onChange:e=>d(c(o({},i),{config:c(o({},i.config),{address:e.target.value})})),placeholder:"Enter address pattern (e.g., +1234567890 or regex)"})]})});case"ShortMessageFilter":return x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"pattern",children:"Message Pattern"}),x.jsx(xh,{id:"pattern",value:i.config.pattern||"",onChange:e=>d(c(o({},i),{config:c(o({},i.config),{pattern:e.target.value})})),placeholder:"Enter message pattern or regex",rows:3})]})});case"DateIntervalFilter":return x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"start_date",children:"Start Date"}),x.jsx(dr,{id:"start_date",type:"date",value:i.config.start_date||"",onChange:e=>d(c(o({},i),{config:c(o({},i.config),{start_date:e.target.value})}))})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"end_date",children:"End Date"}),x.jsx(dr,{id:"end_date",type:"date",value:i.config.end_date||"",onChange:e=>d(c(o({},i),{config:c(o({},i.config),{end_date:e.target.value})}))})]})]})});case"TimeIntervalFilter":return x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"start_time",children:"Start Time"}),x.jsx(dr,{id:"start_time",type:"time",value:i.config.start_time||"",onChange:e=>d(c(o({},i),{config:c(o({},i.config),{start_time:e.target.value})}))})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"end_time",children:"End Time"}),x.jsx(dr,{id:"end_time",type:"time",value:i.config.end_time||"",onChange:e=>d(c(o({},i),{config:c(o({},i.config),{end_time:e.target.value})}))})]})]})});case"TagFilter":return x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"tag",children:"Tag"}),x.jsx(dr,{id:"tag",type:"text",value:i.config.tag||"",onChange:e=>d(c(o({},i),{config:c(o({},i.config),{tag:e.target.value})})),placeholder:"Enter tag name"})]})});case"EvalPyFilter":return x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"script_path",children:"Python Script Path"}),x.jsx(dr,{id:"script_path",type:"text",value:i.config.script_path||"",onChange:e=>d(c(o({},i),{config:c(o({},i.config),{script_path:e.target.value})})),placeholder:"Enter path to Python script"})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"script_content",children:"Script Content (Optional)"}),x.jsx(xh,{id:"script_content",value:i.config.script_content||"",onChange:e=>d(c(o({},i),{config:c(o({},i.config),{script_content:e.target.value})})),placeholder:"Enter Python script content",rows:10})]})]});default:return null}})(),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"is_active",checked:i.is_active,onCheckedChange:e=>d(c(o({},i),{is_active:e}))}),x.jsx(Io,{htmlFor:"is_active",children:"Active"})]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(cr,{type:"submit",disabled:n,children:n?"Creating...":x.jsxs(x.Fragment,{children:[x.jsx(Ms,{className:"mr-2 h-4 w-4"}),"Create Filter"]})}),x.jsx(fe,{to:"/filters",children:x.jsx(cr,{type:"button",variant:"outline",children:"Cancel"})})]})]})})]})})]})})}const ig=[{title:"Dashboard",href:"/dashboard"},{title:"Filters",href:"/filters"},{title:"Edit",href:"/filters/:id/edit"}],og=[{value:"TransparentFilter",label:"Transparent Filter",icon:rs,description:"Always matches any message criteria",routes:"All"},{value:"ConnectorFilter",label:"Connector Filter",icon:Cs,description:"Matches the source connector of a message",routes:"MO"},{value:"UserFilter",label:"User Filter",icon:Gs,description:"Matches the owner of a MT message",routes:"MT"},{value:"GroupFilter",label:"Group Filter",icon:Ws,description:"Matches the owner's group of a MT message",routes:"MT"},{value:"SourceAddrFilter",label:"Source Address Filter",icon:fs,description:"Matches the source address of a MO message",routes:"All"},{value:"DestinationAddrFilter",label:"Destination Address Filter",icon:fs,description:"Matches the destination address of a MT message",routes:"All"},{value:"ShortMessageFilter",label:"Short Message Filter",icon:fs,description:"Matches the content of a message",routes:"All"},{value:"DateIntervalFilter",label:"Date Interval Filter",icon:It,description:"Matches the date of a message",routes:"All"},{value:"TimeIntervalFilter",label:"Time Interval Filter",icon:Xt,description:"Matches the time of a message",routes:"All"},{value:"TagFilter",label:"Tag Filter",icon:Vs,description:"Checks if message has a defined tag",routes:"All"},{value:"EvalPyFilter",label:"Python Script Filter",icon:Jt,description:"Passes message to a third party python script for user-defined filtering",routes:"All"}];function cg(){var e,t;const{id:s}=ve(),n=pe(),[r,a]=me.useState(!1),[l,i]=me.useState(!0),[d,u]=me.useState({}),[m,f]=me.useState({name:"",type:"",description:"",is_active:!0,config:{}});me.useEffect(()=>{h(null,null,function*(){if(s){i(!0);try{const e=yield Ho.get(`/filters/${s}`);f({name:e.name,type:e.type,description:e.description,is_active:e.is_active,config:e.config||{}})}catch(e){console.error("Error fetching filter:",e),Ze.error("Failed to fetch filter details")}finally{i(!1)}}})},[s]);const p=()=>og.find(e=>e.value===m.type);return l?x.jsx(Do,{breadcrumbs:ig,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{children:"Loading filter details..."})]})})})}):x.jsx(Do,{breadcrumbs:ig,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(fe,{to:`/filters/${s}`,children:x.jsxs(cr,{variant:"ghost",size:"sm",children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Filter"]})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Filter"}),x.jsx("p",{className:"text-muted-foreground",children:"Modify filter configuration"})]})]})}),x.jsx("div",{className:"max-w-2xl",children:x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Filter Details"})}),x.jsx(Vo,{children:x.jsxs("form",{onSubmit:e=>h(null,null,function*(){e.preventDefault(),a(!0),u({});try{yield Ho.put(`/filters/${s}`,m),Ze.success("Filter updated successfully"),n(`/filters/${s}`)}catch(t){console.error("Error updating filter:",t),t instanceof Error&&u({general:t.message})}finally{a(!1)}}),className:"space-y-6",children:[d.general&&x.jsxs(Bo,{children:[x.jsx(qt,{className:"h-4 w-4"}),x.jsx($o,{children:d.general})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"name",children:"Filter Name"}),x.jsx(dr,{id:"name",type:"text",value:m.name,onChange:e=>f(c(o({},m),{name:e.target.value})),placeholder:"Enter filter name",required:!0})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"type",children:"Filter Type"}),x.jsxs(Xu,{value:m.type,onValueChange:e=>f(c(o({},m),{type:e})),children:[x.jsx(Zu,{children:x.jsx(Ju,{placeholder:"Select filter type"})}),x.jsx(em,{children:og.map(e=>{const t=e.icon;return x.jsx(tm,{value:e.value,children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(t,{className:"h-4 w-4"}),x.jsx("span",{children:e.label})]})},e.value)})})]})]}),p()&&x.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[x.jsx("h4",{className:"font-medium mb-2",children:"Filter Information"}),x.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:null==(e=p())?void 0:e.description}),x.jsxs("p",{className:"text-sm",children:[x.jsx("span",{className:"font-medium",children:"Routes:"})," ",null==(t=p())?void 0:t.routes]})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"description",children:"Description"}),x.jsx(xh,{id:"description",value:m.description,onChange:e=>f(c(o({},m),{description:e.target.value})),placeholder:"Enter filter description",rows:3})]}),m.type&&(()=>{if(!p())return null;switch(m.type){case"ConnectorFilter":return x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"connector_id",children:"Connector ID"}),x.jsx(dr,{id:"connector_id",type:"text",value:m.config.connector_id||"",onChange:e=>f(c(o({},m),{config:c(o({},m.config),{connector_id:e.target.value})})),placeholder:"Enter connector ID"})]})});case"UserFilter":return x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"user_id",children:"User ID"}),x.jsx(dr,{id:"user_id",type:"text",value:m.config.user_id||"",onChange:e=>f(c(o({},m),{config:c(o({},m.config),{user_id:e.target.value})})),placeholder:"Enter user ID"})]})});case"GroupFilter":return x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"group_id",children:"Group ID"}),x.jsx(dr,{id:"group_id",type:"text",value:m.config.group_id||"",onChange:e=>f(c(o({},m),{config:c(o({},m.config),{group_id:e.target.value})})),placeholder:"Enter group ID"})]})});case"SourceAddrFilter":case"DestinationAddrFilter":return x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"address",children:"Address Pattern"}),x.jsx(dr,{id:"address",type:"text",value:m.config.address||"",onChange:e=>f(c(o({},m),{config:c(o({},m.config),{address:e.target.value})})),placeholder:"Enter address pattern (e.g., +1234567890 or regex)"})]})});case"ShortMessageFilter":return x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"pattern",children:"Message Pattern"}),x.jsx(xh,{id:"pattern",value:m.config.pattern||"",onChange:e=>f(c(o({},m),{config:c(o({},m.config),{pattern:e.target.value})})),placeholder:"Enter message pattern or regex",rows:3})]})});case"DateIntervalFilter":return x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"start_date",children:"Start Date"}),x.jsx(dr,{id:"start_date",type:"date",value:m.config.start_date||"",onChange:e=>f(c(o({},m),{config:c(o({},m.config),{start_date:e.target.value})}))})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"end_date",children:"End Date"}),x.jsx(dr,{id:"end_date",type:"date",value:m.config.end_date||"",onChange:e=>f(c(o({},m),{config:c(o({},m.config),{end_date:e.target.value})}))})]})]})});case"TimeIntervalFilter":return x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"start_time",children:"Start Time"}),x.jsx(dr,{id:"start_time",type:"time",value:m.config.start_time||"",onChange:e=>f(c(o({},m),{config:c(o({},m.config),{start_time:e.target.value})}))})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"end_time",children:"End Time"}),x.jsx(dr,{id:"end_time",type:"time",value:m.config.end_time||"",onChange:e=>f(c(o({},m),{config:c(o({},m.config),{end_time:e.target.value})}))})]})]})});case"TagFilter":return x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"tag",children:"Tag"}),x.jsx(dr,{id:"tag",type:"text",value:m.config.tag||"",onChange:e=>f(c(o({},m),{config:c(o({},m.config),{tag:e.target.value})})),placeholder:"Enter tag name"})]})});case"EvalPyFilter":return x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"script_path",children:"Python Script Path"}),x.jsx(dr,{id:"script_path",type:"text",value:m.config.script_path||"",onChange:e=>f(c(o({},m),{config:c(o({},m.config),{script_path:e.target.value})})),placeholder:"Enter path to Python script"})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"script_content",children:"Script Content (Optional)"}),x.jsx(xh,{id:"script_content",value:m.config.script_content||"",onChange:e=>f(c(o({},m),{config:c(o({},m.config),{script_content:e.target.value})})),placeholder:"Enter Python script content",rows:10})]})]});default:return null}})(),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"is_active",checked:m.is_active,onCheckedChange:e=>f(c(o({},m),{is_active:e}))}),x.jsx(Io,{htmlFor:"is_active",children:"Active"})]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(cr,{type:"submit",disabled:r,children:r?"Updating...":x.jsxs(x.Fragment,{children:[x.jsx(Ms,{className:"mr-2 h-4 w-4"}),"Update Filter"]})}),x.jsx(fe,{to:`/filters/${s}`,children:x.jsx(cr,{type:"button",variant:"outline",children:"Cancel"})})]})]})})]})})]})})}const dg=[{title:"Dashboard",href:"/dashboard"},{title:"Filters",href:"/filters"},{title:"Details",href:"/filters/:id"}],ug=[{value:"TransparentFilter",label:"Transparent Filter",icon:rs,description:"Always matches any message criteria",routes:"All"},{value:"ConnectorFilter",label:"Connector Filter",icon:Cs,description:"Matches the source connector of a message",routes:"MO"},{value:"UserFilter",label:"User Filter",icon:Gs,description:"Matches the owner of a MT message",routes:"MT"},{value:"GroupFilter",label:"Group Filter",icon:Ws,description:"Matches the owner's group of a MT message",routes:"MT"},{value:"SourceAddrFilter",label:"Source Address Filter",icon:fs,description:"Matches the source address of a MO message",routes:"All"},{value:"DestinationAddrFilter",label:"Destination Address Filter",icon:fs,description:"Matches the destination address of a MT message",routes:"All"},{value:"ShortMessageFilter",label:"Short Message Filter",icon:fs,description:"Matches the content of a message",routes:"All"},{value:"DateIntervalFilter",label:"Date Interval Filter",icon:It,description:"Matches the date of a message",routes:"All"},{value:"TimeIntervalFilter",label:"Time Interval Filter",icon:Xt,description:"Matches the time of a message",routes:"All"},{value:"TagFilter",label:"Tag Filter",icon:Vs,description:"Checks if message has a defined tag",routes:"All"},{value:"EvalPyFilter",label:"Python Script Filter",icon:Jt,description:"Passes message to a third party python script for user-defined filtering",routes:"All"}];function mg(){const{id:e}=ve(),t=pe(),[s,n]=me.useState(null),[r,a]=me.useState(!0),[l,i]=me.useState(null);me.useEffect(()=>{h(null,null,function*(){if(e){a(!0);try{const t=yield Ho.get(`/filters/${e}`);n(t)}catch(t){console.error("Error fetching filter:",t),i("Failed to fetch filter details"),Ze.error("Failed to fetch filter details")}finally{a(!1)}}})},[e]);const o=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});if(r)return x.jsx(Do,{breadcrumbs:dg,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{children:"Loading filter details..."})]})})})});if(l||!s)return x.jsx(Do,{breadcrumbs:dg,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x.jsxs(Bo,{children:[x.jsx(qt,{className:"h-4 w-4"}),x.jsx($o,{children:l||"Filter not found"})]}),x.jsx(fe,{to:"/filters",children:x.jsxs(cr,{variant:"outline",children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Filters"]})})]})});const c=(d=s.type,ug.find(e=>e.value===d)||{label:d,icon:rs,description:"Unknown filter type",routes:"Unknown"});var d;const u=c.icon;return x.jsx(Do,{breadcrumbs:dg,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(fe,{to:"/filters",children:x.jsxs(cr,{variant:"ghost",size:"sm",children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Filters"]})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s.name}),x.jsx("p",{className:"text-muted-foreground",children:"Filter details and configuration"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(fe,{to:`/filters/${s.id}/edit`,children:x.jsxs(cr,{children:[x.jsx(zs,{className:"mr-2 h-4 w-4"}),"Edit Filter"]})}),x.jsxs(cr,{variant:"destructive",onClick:()=>h(null,null,function*(){if(s&&confirm("Are you sure you want to delete this filter?"))try{yield Ho.delete(`/filters/${s.id}`),Ze.success("Filter deleted successfully"),t("/filters")}catch(e){console.error("Error deleting filter:",e),Ze.error("Failed to delete filter")}}),children:[x.jsx(Us,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Basic Information"})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"Name:"}),x.jsx("span",{children:s.name})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"Type:"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(u,{className:"h-4 w-4"}),x.jsx("span",{children:c.label})]})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"Routes:"}),x.jsx($l,{variant:(e=>{switch(e){case"All":default:return"default";case"MO":return"secondary";case"MT":return"outline"}})(c.routes),children:c.routes})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"Status:"}),x.jsx($l,{variant:s.is_active?"default":"secondary",children:s.is_active?"Active":"Inactive"})]}),x.jsx(fr,{}),x.jsxs("div",{children:[x.jsx("span",{className:"font-medium block mb-2",children:"Description:"}),x.jsx("p",{className:"text-muted-foreground",children:s.description||"No description provided"})]}),x.jsxs("div",{children:[x.jsx("span",{className:"font-medium block mb-2",children:"Type Description:"}),x.jsx("p",{className:"text-muted-foreground",children:c.description})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Configuration"})}),x.jsx(Vo,{children:s&&s.config&&0!==Object.keys(s.config).length?x.jsx("div",{className:"space-y-4",children:Object.entries(s.config).map(([e,t])=>x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("span",{className:"font-medium capitalize",children:[e.replace(/_/g," "),":"]}),x.jsx("span",{className:"text-right max-w-xs break-words",children:"string"==typeof t&&t.length>100?x.jsxs("div",{children:[x.jsxs("div",{className:"mb-2",children:[t.substring(0,100),"..."]}),x.jsxs("details",{className:"text-sm",children:[x.jsx("summary",{className:"cursor-pointer text-blue-600 hover:text-blue-800",children:"Show full content"}),x.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-xs whitespace-pre-wrap",children:t})]})]}):x.jsx("span",{children:String(t)})})]},e))}):x.jsx("div",{className:"text-muted-foreground",children:"No configuration details available"})})]}),x.jsxs(To,{className:"lg:col-span-2",children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Timestamps"})}),x.jsx(Vo,{children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("span",{className:"font-medium block mb-2",children:"Created:"}),x.jsx("p",{className:"text-muted-foreground",children:o(s.created_at)})]}),x.jsxs("div",{children:[x.jsx("span",{className:"font-medium block mb-2",children:"Last Updated:"}),x.jsx("p",{className:"text-muted-foreground",children:o(s.updated_at)})]})]})})]})]})]})})}const hg={getScheduleTasks(){return h(this,null,function*(){return Ho.get("/schedule-tasks")})},getScheduleTask(e){return h(this,null,function*(){return Ho.get(`/schedule-tasks/${e}`)})},createScheduleTask(e){return h(this,null,function*(){return Ho.post("/schedule-tasks",e)})},updateScheduleTask(e,t){return h(this,null,function*(){return Ho.put(`/schedule-tasks/${e}`,t)})},deleteScheduleTask(e){return h(this,null,function*(){return Ho.delete(`/schedule-tasks/${e}`)})},executeScheduleTask(e){return h(this,null,function*(){return Ho.post(`/schedule-tasks/${e}/execute`)})},pauseScheduleTask(e){return h(this,null,function*(){return Ho.post(`/schedule-tasks/${e}/pause`)})},resumeScheduleTask(e){return h(this,null,function*(){return Ho.post(`/schedule-tasks/${e}/resume`)})}},xg=[{title:"Dashboard",href:"/dashboard"},{title:"Schedule Tasks",href:"/schedule-tasks"}];function fg(){const{token:e}=dt(),[t,s]=me.useState([]),[n,r]=me.useState(!0),[a,l]=me.useState(""),[i,d]=me.useState("all"),u=me.useCallback(()=>h(null,null,function*(){try{r(!0);const e=(yield hg.getScheduleTasks()).schedule_tasks.map(e=>c(o({},e),{id:e.id,created_at:e.created_at,updated_at:e.updated_at}));s(e)}catch(e){console.error("Error fetching schedule tasks:",e),Ze.error("Failed to fetch schedule tasks")}finally{r(!1)}}),[]);me.useEffect(()=>{u()},[u]);const m=me.useMemo(()=>t.filter(e=>{var t;const s=""===a||e.name.toLowerCase().includes(a.toLowerCase())||(null==(t=e.description)?void 0:t.toLowerCase().includes(a.toLowerCase()))||e.command.toLowerCase().includes(a.toLowerCase()),n="all"===i||e.status===i;return s&&n}),[t,a,i]),f=me.useMemo(()=>{const e=t.map(e=>e.status).filter(Boolean);return[...new Set(e)]},[t]),p=me.useMemo(()=>{const e=t.length,s=t.filter(e=>"active"===e.status).length;return{total:e,active:s,paused:t.filter(e=>"paused"===e.status).length,completed:t.filter(e=>"completed"===e.status).length,failed:t.filter(e=>"failed"===e.status).length,activePercentage:e>0?Math.round(s/e*100):0}},[t]),g=me.useCallback(e=>h(null,null,function*(){try{yield hg.deleteScheduleTask(e.id),Ze.success("Schedule task deleted successfully"),u()}catch(t){console.error("Error deleting schedule task:",t),Ze.error("Failed to delete schedule task")}}),[u]),v=me.useCallback(()=>{l(""),d("all")},[]),j=me.useCallback(e=>e?new Date(e).toLocaleString():"Never",[]),y=me.useMemo(()=>[{accessorKey:"name",header:"Name",cell:({row:e})=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"font-medium",children:e.getValue("name")})]})},{accessorKey:"description",header:"Description",cell:({row:e})=>e.getValue("description")||"No description"},{accessorKey:"cron_expression",header:"Cron Expression",cell:({row:e})=>x.jsx("div",{className:"font-mono text-sm bg-muted px-2 py-1 rounded",children:e.getValue("cron_expression")})},{accessorKey:"command",header:"Command",cell:({row:e})=>x.jsx("div",{className:"max-w-[200px] truncate font-mono text-sm",children:e.getValue("command")})},{accessorKey:"status",header:"Status",cell:({row:e})=>{const t=e.getValue("status");return x.jsxs($l,{variant:(e=>{switch(e){case"active":return"default";case"paused":default:return"secondary";case"completed":return"outline";case"failed":return"destructive"}})(t),children:[(e=>{switch(e){case"active":return x.jsx(bs,{className:"h-3 w-3"});case"paused":return x.jsx(vs,{className:"h-3 w-3"});case"completed":return x.jsx(It,{className:"h-3 w-3"});case"failed":return x.jsx(kt,{className:"h-3 w-3"});default:return x.jsx(Xt,{className:"h-3 w-3"})}})(t),x.jsx("span",{className:"ml-1",children:t.toUpperCase()})]})}},{accessorKey:"last_run_at",header:"Last Run",cell:({row:e})=>x.jsx("div",{className:"text-sm text-muted-foreground",children:j(e.getValue("last_run_at"))})},{accessorKey:"next_run_at",header:"Next Run",cell:({row:e})=>x.jsx("div",{className:"text-sm text-muted-foreground",children:j(e.getValue("next_run_at"))})},Ym(),Xm({onDelete:g,editPath:e=>`/schedule-tasks/${e.id}/edit`,deleteConfirmMessage:"Are you sure you want to delete this schedule task?"})],[g,j]);return x.jsx(Do,{breadcrumbs:xg,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Schedule Tasks"}),x.jsx("p",{className:"text-muted-foreground",children:"Manage automated tasks and scheduling"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(cr,{variant:"ghost",size:"sm",onClick:u,disabled:n,children:x.jsx(Ss,{className:"h-4 w-4 "+(n?"animate-spin":"")})}),x.jsx(fe,{to:"/schedule-tasks/create",children:x.jsxs(cr,{children:[x.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Add Task"]})})]})]}),x.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Total Tasks"}),x.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold",children:p.total}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"All scheduled tasks"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Active Tasks"}),x.jsx(bs,{className:"h-4 w-4 text-green-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.active}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently running"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Paused Tasks"}),x.jsx(vs,{className:"h-4 w-4 text-yellow-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:p.paused}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Temporarily stopped"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Completed Tasks"}),x.jsx(It,{className:"h-4 w-4 text-blue-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p.completed}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Successfully finished"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Failed Tasks"}),x.jsx(kt,{className:"h-4 w-4 text-red-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-red-600",children:p.failed}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Execution errors"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Es,{className:"h-4 w-4"}),"Filters"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[x.jsx("div",{className:"relative min-w-[200px]",children:x.jsx(dr,{placeholder:"Search tasks...",value:a,onChange:e=>l(e.target.value),className:"w-full"})}),x.jsxs("select",{value:i,onChange:e=>d(e.target.value),className:"h-8 min-w-[120px] px-3 py-1 border border-input bg-background rounded-md text-sm",children:[x.jsx("option",{value:"all",children:"All Status"}),f.map(e=>x.jsx("option",{value:e,children:e.toUpperCase()},e))]}),x.jsx(cr,{variant:"outline",size:"sm",onClick:v,children:"Clear Filters"})]})})]}),x.jsx(lm,{columns:y,data:m,title:"Schedule Tasks",description:`Showing ${m.length} of ${t.length} tasks`,showSearch:!1,showViewOptions:!1,showPagination:!0,pageSize:10})]})})}const pg=[{title:"Dashboard",href:"/dashboard"},{title:"Schedule Tasks",href:"/schedule-tasks"},{title:"Create",href:"/schedule-tasks/create"}];function gg(){var e;const t=pe(),[s,n]=me.useState(!1),[r,a]=me.useState([]),[l,i]=me.useState({name:"",description:"",device_group_id:0,task_type:"ussd",command:"",recipient:"",frequency:"hourly",cron_expression:"",time:"00:00",day_of_week:void 0,day_of_month:void 0,month:void 0,interval_minutes:void 0,is_active:!0,dual_sim_support:!1,fallback_to_single_sim:!0,max_retries:3,retry_delay_minutes:5});me.useEffect(()=>{d()},[]);const d=()=>h(null,null,function*(){try{const e=yield fetch("/api/device-groups");if(e.ok){const t=yield e.json();a(t.data||[])}}catch(e){console.error("Error fetching device groups:",e)}});return x.jsx(Do,{breadcrumbs:pg,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsx(fe,{to:"/schedule-tasks",children:x.jsx(cr,{variant:"ghost",size:"icon",children:x.jsx(Mt,{className:"h-4 w-4"})})}),x.jsx("div",{children:x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Schedule Task"})})]})}),x.jsxs("form",{onSubmit:e=>h(null,null,function*(){if(e.preventDefault(),l.name&&l.device_group_id&&l.command)try{n(!0),yield hg.createScheduleTask(l),Ze.success("Schedule task created successfully"),t("/schedule-tasks")}catch(s){Ze.error("Failed to create schedule task"),console.error("Error creating schedule task:",s)}finally{n(!1)}else Ze.error("Please fill in all required fields")}),children:[x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Basic Information"})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"name",children:"Name *"}),x.jsx(dr,{id:"name",value:l.name,onChange:e=>i(t=>c(o({},t),{name:e.target.value})),placeholder:"Enter task name",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"description",children:"Description"}),x.jsx(xh,{id:"description",value:l.description,onChange:e=>i(t=>c(o({},t),{description:e.target.value})),placeholder:"Enter task description",rows:3})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"device_group",children:"Device Group *"}),x.jsxs(Xu,{value:l.device_group_id.toString(),onValueChange:e=>i(t=>c(o({},t),{device_group_id:parseInt(e)})),children:[x.jsx(Zu,{children:x.jsx(Ju,{placeholder:"Select device group"})}),x.jsx(em,{children:r.map(e=>x.jsx(tm,{value:e.id.toString(),children:e.name},e.id))})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"task_type",children:"Task Type *"}),x.jsxs(Xu,{value:l.task_type,onValueChange:e=>i(t=>c(o({},t),{task_type:e})),children:[x.jsx(Zu,{children:x.jsx(Ju,{})}),x.jsxs(em,{children:[x.jsx(tm,{value:"ussd",children:"USSD"}),x.jsx(tm,{value:"sms",children:"SMS"})]})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"command",children:"Command *"}),x.jsx(xh,{id:"command",value:l.command,onChange:e=>i(t=>c(o({},t),{command:e.target.value})),placeholder:"Enter USSD code or SMS message",rows:3,required:!0})]}),"sms"===l.task_type&&x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"recipient",children:"Recipient Number"}),x.jsx(dr,{id:"recipient",value:l.recipient||"",onChange:e=>i(t=>c(o({},t),{recipient:e.target.value})),placeholder:"Enter recipient phone number"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Schedule Configuration"})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"frequency",children:"Frequency *"}),x.jsxs(Xu,{value:l.frequency,onValueChange:e=>{i(t=>c(o({},t),{frequency:e,day_of_week:void 0,day_of_month:void 0,month:void 0,interval_minutes:void 0,cron_expression:""}))},children:[x.jsx(Zu,{children:x.jsx(Ju,{})}),x.jsxs(em,{children:[x.jsx(tm,{value:"hourly",children:"Hourly"}),x.jsx(tm,{value:"daily",children:"Daily"}),x.jsx(tm,{value:"weekly",children:"Weekly"}),x.jsx(tm,{value:"monthly",children:"Monthly"}),x.jsx(tm,{value:"custom",children:"Custom"})]})]})]}),"daily"===l.frequency&&x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"time",children:"Time"}),x.jsx(dr,{id:"time",type:"time",value:l.time,onChange:e=>i(t=>c(o({},t),{time:e.target.value}))})]}),"weekly"===l.frequency&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"day_of_week",children:"Day of Week"}),x.jsxs(Xu,{value:(null==(e=l.day_of_week)?void 0:e.toString())||"",onValueChange:e=>i(t=>c(o({},t),{day_of_week:parseInt(e)})),children:[x.jsx(Zu,{children:x.jsx(Ju,{placeholder:"Select day"})}),x.jsx(em,{children:[{value:0,label:"Sunday"},{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"}].map(e=>x.jsx(tm,{value:e.value.toString(),children:e.label},e.value))})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"time",children:"Time"}),x.jsx(dr,{id:"time",type:"time",value:l.time,onChange:e=>i(t=>c(o({},t),{time:e.target.value}))})]})]}),"monthly"===l.frequency&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"day_of_month",children:"Day of Month"}),x.jsx(dr,{id:"day_of_month",type:"number",min:"1",max:"31",value:l.day_of_month||"",onChange:e=>i(t=>c(o({},t),{day_of_month:parseInt(e.target.value)})),placeholder:"1-31"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"time",children:"Time"}),x.jsx(dr,{id:"time",type:"time",value:l.time,onChange:e=>i(t=>c(o({},t),{time:e.target.value}))})]})]}),"custom"===l.frequency&&x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"interval_minutes",children:"Interval (minutes)"}),x.jsx(dr,{id:"interval_minutes",type:"number",min:"1",value:l.interval_minutes||"",onChange:e=>i(t=>c(o({},t),{interval_minutes:parseInt(e.target.value)})),placeholder:"Enter interval in minutes"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"max_retries",children:"Max Retries"}),x.jsx(dr,{id:"max_retries",type:"number",min:"0",value:l.max_retries,onChange:e=>i(t=>c(o({},t),{max_retries:parseInt(e.target.value)}))})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"retry_delay_minutes",children:"Retry Delay (minutes)"}),x.jsx(dr,{id:"retry_delay_minutes",type:"number",min:"1",value:l.retry_delay_minutes,onChange:e=>i(t=>c(o({},t),{retry_delay_minutes:parseInt(e.target.value)}))})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Advanced Settings"})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"is_active",checked:l.is_active,onCheckedChange:e=>i(t=>c(o({},t),{is_active:e}))}),x.jsx(Io,{htmlFor:"is_active",children:"Active"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"dual_sim_support",checked:l.dual_sim_support,onCheckedChange:e=>i(t=>c(o({},t),{dual_sim_support:e}))}),x.jsx(Io,{htmlFor:"dual_sim_support",children:"Dual SIM Support"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"fallback_to_single_sim",checked:l.fallback_to_single_sim,onCheckedChange:e=>i(t=>c(o({},t),{fallback_to_single_sim:e}))}),x.jsx(Io,{htmlFor:"fallback_to_single_sim",children:"Fallback to Single SIM"})]})]})]})]}),x.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[x.jsx(fe,{to:"/schedule-tasks",children:x.jsx(cr,{variant:"outline",type:"button",children:"Cancel"})}),x.jsxs(cr,{type:"submit",disabled:s,children:[x.jsx(Ms,{className:"mr-2 h-4 w-4"}),s?"Creating...":"Create Task"]})]})]})]})})}const vg=[{title:"Dashboard",href:"/dashboard"},{title:"Schedule Tasks",href:"/schedule-tasks"},{title:"Details",href:"/schedule-tasks/:id"}];function jg(){var e;const{id:t}=ve(),s=pe(),[n,r]=me.useState(null),[a,l]=me.useState(!0),[i,o]=me.useState(!1);me.useEffect(()=>{t&&c()},[t]);const c=()=>h(null,null,function*(){try{l(!0);const e=yield hg.getScheduleTask(parseInt(t));r(e)}catch(e){Ze.error("Failed to fetch schedule task"),console.error("Error fetching task:",e),s("/schedule-tasks")}finally{l(!1)}}),d=e=>h(null,null,function*(){if(n)try{let t;switch(e){case"execute":t=yield hg.executeScheduleTask(n.id);break;case"pause":t=yield hg.pauseScheduleTask(n.id);break;case"resume":t=yield hg.resumeScheduleTask(n.id);break;default:throw new Error("Invalid action")}Ze.success(t.message),c()}catch(t){Ze.error("An error occurred while performing the action."),console.error("Error performing task action:",t)}}),u=e=>e?new Date(e).toLocaleString():"Never";return a?x.jsx(Do,{breadcrumbs:vg,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"text-center py-8",children:x.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})})}):n?x.jsx(Do,{breadcrumbs:vg,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsx(fe,{to:"/schedule-tasks",children:x.jsx(cr,{variant:"ghost",size:"icon",children:x.jsx(Mt,{className:"h-4 w-4"})})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n.name}),n.description&&x.jsx("p",{className:"text-muted-foreground",children:n.description})]})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[n.can_execute&&x.jsxs(cr,{onClick:()=>d("execute"),size:"sm",children:[x.jsx(bs,{className:"mr-2 h-4 w-4"}),"Execute Now"]}),n.can_pause&&x.jsxs(cr,{onClick:()=>d("pause"),variant:"outline",size:"sm",children:[x.jsx(vs,{className:"mr-2 h-4 w-4"}),"Pause"]}),n.can_resume&&x.jsxs(cr,{onClick:()=>d("resume"),variant:"outline",size:"sm",children:[x.jsx(ks,{className:"mr-2 h-4 w-4"}),"Resume"]}),x.jsx(fe,{to:`/schedule-tasks/${n.id}/edit`,children:x.jsxs(cr,{variant:"outline",size:"sm",children:[x.jsx(zs,{className:"mr-2 h-4 w-4"}),"Edit"]})}),x.jsxs(cr,{onClick:()=>h(null,null,function*(){n&&o(!0)}),variant:"destructive",size:"sm",children:[x.jsx(Us,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Basic Information"})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Status"}),(p=n.status,x.jsx($l,{variant:{active:"default",paused:"secondary",completed:"outline",failed:"destructive"}[p]||"secondary",children:p.charAt(0).toUpperCase()+p.slice(1)}))]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Task Type"}),(f=n.task_type,x.jsx($l,{variant:{ussd:"default",sms:"outline"}[f]||"secondary",children:f.toUpperCase()}))]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Frequency"}),(m=n.frequency,x.jsx($l,{variant:{hourly:"default",daily:"outline",weekly:"secondary",monthly:"outline",custom:"destructive"}[m]||"secondary",children:m.charAt(0).toUpperCase()+m.slice(1)}))]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Device Group"}),x.jsx("span",{className:"text-sm",children:(null==(e=n.device_group_data)?void 0:e.name)||"Unknown Group"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Active"}),x.jsx("span",{className:"text-sm",children:n.is_active?"Yes":"No"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Execution Statistics"})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Total Executions"}),x.jsx("span",{className:"text-sm",children:n.execution_count})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Successful"}),x.jsx("span",{className:"text-sm",children:n.success_count})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Failed"}),x.jsx("span",{className:"text-sm",children:n.failure_count})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Success Rate"}),x.jsxs("span",{className:"text-sm",children:[n.success_rate,"%"]})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Last Execution"}),x.jsx("span",{className:"text-sm",children:u(n.last_executed_at)})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Next Execution"}),x.jsx("span",{className:"text-sm",children:u(n.next_execution_at)})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Task Configuration"})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("span",{className:"text-sm font-medium",children:"Command"}),x.jsx("p",{className:"text-sm mt-1 p-2 bg-muted rounded",children:n.command})]}),n.recipient&&x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Recipient"}),x.jsx("span",{className:"text-sm",children:n.recipient})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Max Retries"}),x.jsx("span",{className:"text-sm",children:n.max_retries})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Retry Delay"}),x.jsxs("span",{className:"text-sm",children:[n.retry_delay_minutes," minutes"]})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Dual SIM Support"}),x.jsx("span",{className:"text-sm",children:n.dual_sim_support?"Yes":"No"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Fallback to Single SIM"}),x.jsx("span",{className:"text-sm",children:n.fallback_to_single_sim?"Yes":"No"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Schedule Details"})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Human Readable"}),x.jsx("span",{className:"text-sm",children:n.human_readable_frequency})]}),"daily"===n.frequency&&x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Time"}),x.jsx("span",{className:"text-sm",children:n.time})]}),"weekly"===n.frequency&&null!==n.day_of_week&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Day of Week"}),x.jsx("span",{className:"text-sm",children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.day_of_week]})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Time"}),x.jsx("span",{className:"text-sm",children:n.time})]})]}),"monthly"===n.frequency&&null!==n.day_of_month&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Day of Month"}),x.jsx("span",{className:"text-sm",children:n.day_of_month})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Time"}),x.jsx("span",{className:"text-sm",children:n.time})]})]}),"custom"===n.frequency&&null!==n.interval_minutes&&x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Interval"}),x.jsxs("span",{className:"text-sm",children:[n.interval_minutes," minutes"]})]}),n.cron_expression&&x.jsxs("div",{children:[x.jsx("span",{className:"text-sm font-medium",children:"Cron Expression"}),x.jsx("p",{className:"text-sm mt-1 p-2 bg-muted rounded",children:n.cron_expression})]})]})]})]}),n.last_error&&x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Last Error"})}),x.jsx(Vo,{children:x.jsx("p",{className:"text-sm text-destructive p-2 bg-destructive/10 rounded",children:n.last_error})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Timestamps"})}),x.jsxs(Vo,{className:"space-y-2",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Created"}),x.jsx("span",{className:"text-sm",children:u(n.created_at)})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-sm font-medium",children:"Last Updated"}),x.jsx("span",{className:"text-sm",children:u(n.updated_at)})]})]})]}),x.jsx(Lm,{open:i,onOpenChange:o,children:x.jsxs(Um,{children:[x.jsxs(Bm,{children:[x.jsx(Hm,{children:"Delete Schedule Task"}),x.jsx(qm,{children:"Are you sure you want to delete this schedule task? This action cannot be undone."})]}),x.jsxs($m,{children:[x.jsx(Wm,{children:"Cancel"}),x.jsx(Gm,{onClick:()=>h(null,null,function*(){if(n)try{yield hg.deleteScheduleTask(n.id),Ze.success("Schedule task deleted successfully"),s("/schedule-tasks")}catch(e){Ze.error("Failed to delete schedule task"),console.error("Error deleting task:",e)}}),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}):x.jsx(Do,{breadcrumbs:vg,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"text-center py-8",children:x.jsx("p",{className:"text-muted-foreground",children:"Schedule task not found."})})})});var m,f,p}const yg=[{title:"Dashboard",href:"/dashboard"},{title:"Schedule Tasks",href:"/schedule-tasks"},{title:"Edit",href:"/schedule-tasks/:id/edit"}];function bg(){var e;const{id:t}=ve(),s=pe(),[n,r]=me.useState(!1),[a,l]=me.useState(!0),[i,d]=me.useState([]),[u,m]=me.useState({name:"",description:"",device_group_id:0,task_type:"ussd",command:"",recipient:"",frequency:"hourly",cron_expression:"",time:"00:00",day_of_week:void 0,day_of_month:void 0,month:void 0,interval_minutes:void 0,is_active:!0,dual_sim_support:!1,fallback_to_single_sim:!0,max_retries:3,retry_delay_minutes:5});me.useEffect(()=>{t&&(f(),p())},[t]);const f=()=>h(null,null,function*(){try{l(!0);const e=yield hg.getScheduleTask(parseInt(t));m({name:e.name,description:e.description||"",device_group_id:e.device_group_id,task_type:e.task_type,command:e.command,recipient:e.recipient||"",frequency:e.frequency,cron_expression:e.cron_expression||"",time:e.time,day_of_week:e.day_of_week||void 0,day_of_month:e.day_of_month||void 0,month:e.month||void 0,interval_minutes:e.interval_minutes||void 0,is_active:e.is_active,dual_sim_support:e.dual_sim_support,fallback_to_single_sim:e.fallback_to_single_sim,max_retries:e.max_retries,retry_delay_minutes:e.retry_delay_minutes})}catch(e){Ze.error("Failed to fetch schedule task"),console.error("Error fetching task:",e),s("/schedule-tasks")}finally{l(!1)}}),p=()=>h(null,null,function*(){try{const e=yield fetch("/api/device-groups");if(e.ok){const t=yield e.json();d(t.data||[])}}catch(e){console.error("Error fetching device groups:",e)}});return a?x.jsx(Do,{breadcrumbs:yg,children:x.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:x.jsx("div",{className:"text-center py-8",children:x.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})})}):x.jsx(Do,{breadcrumbs:yg,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsx(fe,{to:`/schedule-tasks/${t}`,children:x.jsx(cr,{variant:"ghost",size:"icon",children:x.jsx(Mt,{className:"h-4 w-4"})})}),x.jsx("div",{children:x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Schedule Task"})})]})}),x.jsxs("form",{onSubmit:e=>h(null,null,function*(){if(e.preventDefault(),u.name&&u.device_group_id&&u.command)try{r(!0),yield hg.updateScheduleTask(parseInt(t),u),Ze.success("Schedule task updated successfully"),s(`/schedule-tasks/${t}`)}catch(n){Ze.error("Failed to update schedule task"),console.error("Error updating schedule task:",n)}finally{r(!1)}else Ze.error("Please fill in all required fields")}),children:[x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Basic Information"})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"name",children:"Name *"}),x.jsx(dr,{id:"name",value:u.name,onChange:e=>m(t=>c(o({},t),{name:e.target.value})),placeholder:"Enter task name",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"description",children:"Description"}),x.jsx(xh,{id:"description",value:u.description,onChange:e=>m(t=>c(o({},t),{description:e.target.value})),placeholder:"Enter task description",rows:3})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"device_group",children:"Device Group *"}),x.jsxs(Xu,{value:u.device_group_id.toString(),onValueChange:e=>m(t=>c(o({},t),{device_group_id:parseInt(e)})),children:[x.jsx(Zu,{children:x.jsx(Ju,{placeholder:"Select device group"})}),x.jsx(em,{children:i.map(e=>x.jsx(tm,{value:e.id.toString(),children:e.name},e.id))})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"task_type",children:"Task Type *"}),x.jsxs(Xu,{value:u.task_type,onValueChange:e=>m(t=>c(o({},t),{task_type:e})),children:[x.jsx(Zu,{children:x.jsx(Ju,{})}),x.jsxs(em,{children:[x.jsx(tm,{value:"ussd",children:"USSD"}),x.jsx(tm,{value:"sms",children:"SMS"})]})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"command",children:"Command *"}),x.jsx(xh,{id:"command",value:u.command,onChange:e=>m(t=>c(o({},t),{command:e.target.value})),placeholder:"Enter USSD code or SMS message",rows:3,required:!0})]}),"sms"===u.task_type&&x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"recipient",children:"Recipient Number"}),x.jsx(dr,{id:"recipient",value:u.recipient||"",onChange:e=>m(t=>c(o({},t),{recipient:e.target.value})),placeholder:"Enter recipient phone number"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Schedule Configuration"})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"frequency",children:"Frequency *"}),x.jsxs(Xu,{value:u.frequency,onValueChange:e=>{m(t=>c(o({},t),{frequency:e,day_of_week:void 0,day_of_month:void 0,month:void 0,interval_minutes:void 0,cron_expression:""}))},children:[x.jsx(Zu,{children:x.jsx(Ju,{})}),x.jsxs(em,{children:[x.jsx(tm,{value:"hourly",children:"Hourly"}),x.jsx(tm,{value:"daily",children:"Daily"}),x.jsx(tm,{value:"weekly",children:"Weekly"}),x.jsx(tm,{value:"monthly",children:"Monthly"}),x.jsx(tm,{value:"custom",children:"Custom"})]})]})]}),"daily"===u.frequency&&x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"time",children:"Time"}),x.jsx(dr,{id:"time",type:"time",value:u.time,onChange:e=>m(t=>c(o({},t),{time:e.target.value}))})]}),"weekly"===u.frequency&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"day_of_week",children:"Day of Week"}),x.jsxs(Xu,{value:(null==(e=u.day_of_week)?void 0:e.toString())||"",onValueChange:e=>m(t=>c(o({},t),{day_of_week:parseInt(e)})),children:[x.jsx(Zu,{children:x.jsx(Ju,{placeholder:"Select day"})}),x.jsx(em,{children:[{value:0,label:"Sunday"},{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"}].map(e=>x.jsx(tm,{value:e.value.toString(),children:e.label},e.value))})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"time",children:"Time"}),x.jsx(dr,{id:"time",type:"time",value:u.time,onChange:e=>m(t=>c(o({},t),{time:e.target.value}))})]})]}),"monthly"===u.frequency&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"day_of_month",children:"Day of Month"}),x.jsx(dr,{id:"day_of_month",type:"number",min:"1",max:"31",value:u.day_of_month||"",onChange:e=>m(t=>c(o({},t),{day_of_month:parseInt(e.target.value)})),placeholder:"1-31"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"time",children:"Time"}),x.jsx(dr,{id:"time",type:"time",value:u.time,onChange:e=>m(t=>c(o({},t),{time:e.target.value}))})]})]}),"custom"===u.frequency&&x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"interval_minutes",children:"Interval (minutes)"}),x.jsx(dr,{id:"interval_minutes",type:"number",min:"1",value:u.interval_minutes||"",onChange:e=>m(t=>c(o({},t),{interval_minutes:parseInt(e.target.value)})),placeholder:"Enter interval in minutes"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"max_retries",children:"Max Retries"}),x.jsx(dr,{id:"max_retries",type:"number",min:"0",value:u.max_retries,onChange:e=>m(t=>c(o({},t),{max_retries:parseInt(e.target.value)}))})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"retry_delay_minutes",children:"Retry Delay (minutes)"}),x.jsx(dr,{id:"retry_delay_minutes",type:"number",min:"1",value:u.retry_delay_minutes,onChange:e=>m(t=>c(o({},t),{retry_delay_minutes:parseInt(e.target.value)}))})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Advanced Settings"})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"is_active",checked:u.is_active,onCheckedChange:e=>m(t=>c(o({},t),{is_active:e}))}),x.jsx(Io,{htmlFor:"is_active",children:"Active"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"dual_sim_support",checked:u.dual_sim_support,onCheckedChange:e=>m(t=>c(o({},t),{dual_sim_support:e}))}),x.jsx(Io,{htmlFor:"dual_sim_support",children:"Dual SIM Support"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Fc,{id:"fallback_to_single_sim",checked:u.fallback_to_single_sim,onCheckedChange:e=>m(t=>c(o({},t),{fallback_to_single_sim:e}))}),x.jsx(Io,{htmlFor:"fallback_to_single_sim",children:"Fallback to Single SIM"})]})]})]})]}),x.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[x.jsx(fe,{to:`/schedule-tasks/${t}`,children:x.jsx(cr,{variant:"outline",type:"button",children:"Cancel"})}),x.jsxs(cr,{type:"submit",disabled:n,children:[x.jsx(Ms,{className:"mr-2 h-4 w-4"}),n?"Updating...":"Update Task"]})]})]})]})})}const Ng={getUssdLogs(){return h(this,null,function*(){return Ho.get("/ussd-logs")})},getUssdLog(e){return h(this,null,function*(){return Ho.get(`/ussd-logs/${e}`)})},deleteUssdLog(e){return h(this,null,function*(){return Ho.delete(`/ussd-logs/${e}`)})}},_g=[{title:"Dashboard",href:"/dashboard"},{title:"USSD Logs",href:"/ussd-logs"}];function wg(){const{token:e}=dt(),[t,s]=me.useState([]),[n,r]=me.useState(!0),[a,l]=me.useState(""),[i,d]=me.useState("all"),u=me.useCallback(()=>h(null,null,function*(){try{r(!0);const e=(yield Ng.getUssdLogs()).data.map(e=>c(o({},e),{id:e.id,created_at:e.created_at,updated_at:e.updated_at}));s(e)}catch(e){console.error("Error fetching USSD logs:",e),Ze.error("Failed to fetch USSD logs")}finally{r(!1)}}),[]);me.useEffect(()=>{u()},[u]);const m=me.useMemo(()=>t.filter(e=>{var t,s;const n=""===a||e.device_id.toLowerCase().includes(a.toLowerCase())||(null==(t=e.device_name)?void 0:t.toLowerCase().includes(a.toLowerCase()))||e.ussd_code.toLowerCase().includes(a.toLowerCase())||(null==(s=e.response_message)?void 0:s.toLowerCase().includes(a.toLowerCase()))||!1,r="all"===i||e.status===i;return n&&r}),[t,a,i]),f=me.useMemo(()=>{const e=t.map(e=>e.status).filter(Boolean);return[...new Set(e)]},[t]),p=me.useMemo(()=>{const e=t.length,s=t.filter(e=>"success"===e.status).length,n=t.filter(e=>"failed"===e.status).length,r=t.filter(e=>"pending"===e.status).length,a=t.reduce((e,t)=>{if(t.sent_at&&t.received_at){const s=new Date(t.sent_at).getTime();return e+(new Date(t.received_at).getTime()-s)}return e},0);return{total:e,success:s,failed:n,pending:r,avgDuration:e>0?Math.round(a/e):0,successRate:e>0?Math.round(s/e*100):0}},[t]),g=me.useCallback(e=>h(null,null,function*(){try{yield Ng.deleteUssdLog(e.id),Ze.success("USSD log deleted successfully"),u()}catch(t){console.error("Error deleting USSD log:",t),Ze.error("Failed to delete USSD log")}}),[u]),v=me.useCallback(()=>{l(""),d("all")},[]),j=me.useCallback(e=>e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`,[]),y=me.useMemo(()=>[{accessorKey:"device_id",header:"Device ID",cell:({row:e})=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Ts,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"font-mono text-sm",children:e.getValue("device_id")})]})},{accessorKey:"device_name",header:"Device Name",cell:({row:e})=>e.getValue("device_name")||"N/A"},{accessorKey:"ussd_code",header:"USSD Code",cell:({row:e})=>x.jsx("div",{className:"font-mono text-sm bg-muted px-2 py-1 rounded",children:e.getValue("ussd_code")})},{accessorKey:"response_message",header:"Response",cell:({row:e})=>x.jsx("div",{className:"max-w-[200px] truncate text-sm",children:e.getValue("response_message")||"N/A"})},{accessorKey:"status",header:"Status",cell:({row:e})=>{const t=e.getValue("status");return x.jsxs($l,{variant:(e=>{switch(e){case"success":return"default";case"failed":return"destructive";default:return"secondary"}})(t),children:[(e=>{switch(e){case"success":return x.jsx(Gt,{className:"h-3 w-3"});case"failed":return x.jsx(Kt,{className:"h-3 w-3"});case"pending":return x.jsx(Xt,{className:"h-3 w-3"});default:return x.jsx(kt,{className:"h-3 w-3"})}})(t),x.jsx("span",{className:"ml-1",children:t.toUpperCase()})]})}},{accessorKey:"duration",header:"Duration",cell:({row:e})=>{const t=e.original;let s=0;if(t.sent_at&&t.received_at){const e=new Date(t.sent_at).getTime();s=new Date(t.received_at).getTime()-e}return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"text-sm",children:j(s)})]})}},Ym(),Xm({onDelete:g,editPath:e=>`/ussd-logs/${e.id}/edit`,deleteConfirmMessage:"Are you sure you want to delete this USSD log?"})],[g,j]);return x.jsx(Do,{breadcrumbs:_g,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"USSD Logs"}),x.jsx("p",{className:"text-muted-foreground",children:"Monitor USSD session logs and responses"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(cr,{variant:"ghost",size:"sm",onClick:u,disabled:n,children:x.jsx(Ss,{className:"h-4 w-4 "+(n?"animate-spin":"")})}),x.jsx(fe,{to:"/ussd-logs/create",children:x.jsxs(cr,{children:[x.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Add USSD Log"]})})]})]}),x.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Total Logs"}),x.jsx(Ts,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold",children:p.total}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"All USSD session logs"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Successful"}),x.jsx(Gt,{className:"h-4 w-4 text-green-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.success}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"flex-1 min-w-[60px]",children:x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:x.jsx("div",{className:"h-2 rounded-full bg-green-500",style:{width:`${p.successRate}%`}})})}),x.jsxs("span",{className:"text-xs text-muted-foreground",children:[p.successRate,"%"]})]})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Failed"}),x.jsx(Kt,{className:"h-4 w-4 text-red-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-red-600",children:p.failed}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Failed USSD sessions"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Pending"}),x.jsx(Xt,{className:"h-4 w-4 text-yellow-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:p.pending}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending sessions"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Avg Duration"}),x.jsx(kt,{className:"h-4 w-4 text-blue-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j(p.avgDuration)}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Average session time"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Es,{className:"h-4 w-4"}),"Filters"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[x.jsx("div",{className:"relative min-w-[200px]",children:x.jsx(dr,{placeholder:"Search USSD logs...",value:a,onChange:e=>l(e.target.value),className:"w-full"})}),x.jsxs("select",{value:i,onChange:e=>d(e.target.value),className:"h-8 min-w-[120px] px-3 py-1 border border-input bg-background rounded-md text-sm",children:[x.jsx("option",{value:"all",children:"All Status"}),f.map(e=>x.jsx("option",{value:e,children:e.toUpperCase()},e))]}),x.jsx(cr,{variant:"outline",size:"sm",onClick:v,children:"Clear Filters"})]})})]}),x.jsx(lm,{columns:y,data:m,title:"USSD Logs",description:`Showing ${m.length} of ${t.length} USSD logs`,showSearch:!1,showViewOptions:!1,showPagination:!0,pageSize:10})]})})}function Sg(){const{id:e}=ve(),t=pe(),[s,n]=me.useState(null),[r,a]=me.useState(!0),l=[{title:"Dashboard",href:"/dashboard"},{title:"USSD Logs",href:"/ussd-logs"},{title:"Details",href:"#"}];me.useEffect(()=>{h(null,null,function*(){if(e)try{a(!0);const t=yield Ng.getUssdLog(parseInt(e));n(t)}catch(s){console.error("Error fetching USSD log:",s),Ze.error("Failed to fetch USSD log details"),t("/ussd-logs")}finally{a(!1)}})},[e,t]);const i=e=>e?new Date(e).toLocaleString():"Not available";return r?x.jsx(Do,{breadcrumbs:l,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),x.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading USSD log details..."})]})})}):s?x.jsx(Do,{breadcrumbs:l,children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(fe,{to:"/ussd-logs",children:x.jsxs(cr,{variant:"outline",size:"sm",children:[x.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back to USSD Logs"]})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"USSD Log Details"}),x.jsxs("p",{className:"text-muted-foreground",children:["Session ID: ",s.session_id]})]})]}),x.jsx($l,{variant:(e=>{switch(e){case"completed":return"default";case"pending":return"secondary";case"failed":return"destructive";default:return"outline"}})(s.status),className:"text-sm",children:s.status})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(fs,{className:"h-5 w-5"}),"Basic Information"]})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"ID"}),x.jsx("p",{className:"text-sm",children:s.id})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Session ID"}),x.jsx("p",{className:"text-sm font-mono",children:s.session_id})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Device ID"}),x.jsx("p",{className:"text-sm",children:s.device_id})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Device Name"}),x.jsx("p",{className:"text-sm",children:s.device_name||"Not available"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"SIM Slot"}),x.jsx("p",{className:"text-sm",children:s.sim_slot||"Not available"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"USSD Code"}),x.jsx("p",{className:"text-sm font-mono",children:s.ussd_code})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(ys,{className:"h-5 w-5"}),"Device Information"]})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Device IMEI"}),x.jsx("p",{className:"text-sm font-mono",children:s.device_imei||"Not available"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Device IMSI"}),x.jsx("p",{className:"text-sm font-mono",children:s.device_imsi||"Not available"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Device Group"}),x.jsx("p",{className:"text-sm",children:s.device_group||"Not available"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Country Site"}),x.jsx("p",{className:"text-sm",children:s.country_site||"Not available"})]})]})})]}),x.jsxs(To,{className:"lg:col-span-2",children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(fs,{className:"h-5 w-5"}),"USSD Messages"]})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Request Message"}),x.jsx("div",{className:"mt-1 p-3 bg-muted rounded-md",children:x.jsx("p",{className:"text-sm font-mono whitespace-pre-wrap",children:s.request_message||"No request message"})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Response Message"}),x.jsx("div",{className:"mt-1 p-3 bg-muted rounded-md",children:x.jsx("p",{className:"text-sm font-mono whitespace-pre-wrap",children:s.response_message||"No response message"})})]}),s.error_message&&x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Error Message"}),x.jsx("div",{className:"mt-1 p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:x.jsx("p",{className:"text-sm text-destructive",children:s.error_message})})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(It,{className:"h-5 w-5"}),"Timestamps"]})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),x.jsx("p",{className:"text-sm",children:i(s.created_at)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Updated At"}),x.jsx("p",{className:"text-sm",children:i(s.updated_at)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Sent At"}),x.jsx("p",{className:"text-sm",children:i(s.sent_at)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Received At"}),x.jsx("p",{className:"text-sm",children:i(s.received_at)})]})]})})]}),s.metadata&&x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(ls,{className:"h-5 w-5"}),"Metadata"]})}),x.jsx(Vo,{children:x.jsx("div",{className:"p-3 bg-muted rounded-md",children:x.jsx("pre",{className:"text-sm font-mono whitespace-pre-wrap",children:JSON.stringify(s.metadata,null,2)})})})]})]})]})}):x.jsx(Do,{breadcrumbs:l,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx($s,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"USSD log not found"}),x.jsx(cr,{onClick:()=>t("/ussd-logs"),className:"mt-4",children:"Back to USSD Logs"})]})})})}const kg={getSimCards(){return h(this,null,function*(){return Ho.get("/sim-cards")})},getSimCard(e){return h(this,null,function*(){return Ho.get(`/sim-cards/${e}`)})},createSimCard(e){return h(this,null,function*(){return Ho.post("/sim-cards",e)})},updateSimCard(e,t){return h(this,null,function*(){return Ho.put(`/sim-cards/${e}`,t)})},deleteSimCard(e){return h(this,null,function*(){return Ho.delete(`/sim-cards/${e}`)})}},Cg=[{title:"Dashboard",href:"/dashboard"},{title:"SIM Cards",href:"/sim-cards"}];function Mg(){const{token:e}=dt(),[t,s]=me.useState([]),[n,r]=me.useState(!0),[a,l]=me.useState(""),[i,d]=me.useState("all"),[u,m]=me.useState("all"),[f,p]=me.useState("all"),g=me.useCallback(()=>h(null,null,function*(){try{r(!0);const e=yield kg.getSimCards(),t=(e.data||[]).map(e=>c(o({},e),{id:e.id,created_at:e.created_at,updated_at:e.updated_at}));s(t)}catch(e){console.error("Error fetching SIM cards:",e),Ze.error("Failed to fetch SIM cards")}finally{r(!1)}}),[]);me.useEffect(()=>{g()},[g]);const v=me.useMemo(()=>t.filter(e=>{const t=""===a||e.imei.toLowerCase().includes(a.toLowerCase())||e.iccid.toLowerCase().includes(a.toLowerCase())||e.number.toLowerCase().includes(a.toLowerCase())||e.carrier_name.toLowerCase().includes(a.toLowerCase())||e.network_operator_name.toLowerCase().includes(a.toLowerCase())||e.device_name&&e.device_name.toLowerCase().includes(a.toLowerCase())||e.device_model&&e.device_model.toLowerCase().includes(a.toLowerCase())||e.device_group_name&&e.device_group_name.toLowerCase().includes(a.toLowerCase())||e.country_site&&e.country_site.toLowerCase().includes(a.toLowerCase()),s="all"===i||("active"===i?e.is_active:!e.is_active),n="all"===u||e.carrier_name===u,r="all"===f||e.sim_card_status===f;return t&&s&&n&&r}),[t,a,i,u,f]),j=me.useMemo(()=>["active","inactive"],[]),y=me.useMemo(()=>{const e=t.map(e=>e.carrier_name).filter(Boolean);return[...new Set(e)]},[t]),b=me.useMemo(()=>{const e=t.map(e=>e.sim_card_status).filter(Boolean);return[...new Set(e)]},[t]),N=me.useMemo(()=>{const e=t.length,s=t.filter(e=>"Active"===e.sim_card_status).length;return{total:e,active:s,good:t.filter(e=>"Good"===e.sim_card_status).length,noBalance:t.filter(e=>"No Balance"===e.sim_card_status).length,blocked:t.filter(e=>"Blocked"===e.sim_card_status).length,totalBalance:t.reduce((e,t)=>e+(t.main_balance||0),0),totalSmsBalance:t.reduce((e,t)=>e+(t.sms_balance||0),0),totalSmsSent:t.reduce((e,t)=>e+(t.total_sent||0),0),activePercentage:e>0?Math.round(s/e*100):0}},[t]),_=me.useCallback(e=>h(null,null,function*(){try{yield kg.deleteSimCard(e.id),Ze.success("SIM card deleted successfully"),g()}catch(t){console.error("Error deleting SIM card:",t),Ze.error("Failed to delete SIM card")}}),[g]),w=me.useCallback(()=>{l(""),d("all"),m("all"),p("all")},[]),S=me.useMemo(()=>[{accessorKey:"imei",header:"IMEI",cell:({row:e})=>x.jsx("div",{className:"font-mono text-sm",children:e.getValue("imei")})},{accessorKey:"iccid",header:"ICCID",cell:({row:e})=>x.jsx("div",{className:"font-mono text-sm",children:e.getValue("iccid")})},{accessorKey:"number",header:"Number",cell:({row:e})=>x.jsx("div",{className:"font-mono text-sm",children:e.getValue("number")})},{accessorKey:"device_name",header:"Device Name",cell:({row:e})=>{const t=e.getValue("device_name");return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Ts,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{className:"font-medium",children:t||"N/A"})]})}},{accessorKey:"device_model",header:"Model",cell:({row:e})=>{const t=e.getValue("device_model");return x.jsx("div",{className:"text-sm text-muted-foreground",children:t||"N/A"})}},{accessorKey:"device_group_name",header:"Device Group",cell:({row:e})=>{const t=e.getValue("device_group_name");return x.jsx("div",{className:"text-sm",children:t||"N/A"})}},{accessorKey:"country_iso",header:"Country",cell:({row:e})=>e.getValue("country_iso")},{accessorKey:"country_site",header:"Site",cell:({row:e})=>{const t=e.getValue("country_site");return x.jsx("div",{className:"text-sm",children:t||"N/A"})}},{accessorKey:"carrier_name",header:"Carrier",cell:({row:e})=>x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Is,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{children:e.getValue("carrier_name")})]})},{accessorKey:"sim_card_status",header:"SIM Card Status",cell:({row:e})=>{const t=e.getValue("sim_card_status");return e.original.status_badge_variant,x.jsx($l,{variant:(e=>{switch(e){case"Active":return"default";case"Good":return"outline";case"No Balance":case"Blocked":return"destructive";default:return"secondary"}})(t),children:t||"Unknown"})}},{accessorKey:"main_balance",header:"Balance",cell:({row:e})=>{const t=e.getValue("main_balance");return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"}),x.jsxs("span",{className:"font-mono",children:["$",t.toFixed(2)]})]})}},{accessorKey:"sms_balance",header:"SMS Balance",cell:({row:e})=>{const t=e.getValue("sms_balance");return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Ts,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{children:t})]})}},{accessorKey:"total_sent",header:"SMS Sent",cell:({row:e})=>{const t=e.getValue("total_sent");return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Ts,{className:"h-4 w-4 text-muted-foreground"}),x.jsx("span",{children:t})]})}},Ym(),Xm({onDelete:_,deleteConfirmMessage:"Are you sure you want to delete this SIM card?"})],[_]);return x.jsx(Do,{breadcrumbs:Cg,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"SIM Cards"}),x.jsx("p",{className:"text-muted-foreground",children:"Manage and monitor SIM card usage"})]}),x.jsx("div",{className:"flex items-center gap-2",children:x.jsx(cr,{variant:"ghost",size:"sm",onClick:g,disabled:n,children:x.jsx(Ss,{className:"h-4 w-4 "+(n?"animate-spin":"")})})})]}),x.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-8",children:[x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Total SIM Cards"}),x.jsx(Ts,{className:"h-4 w-4 text-muted-foreground"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold",children:N.total}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"All registered SIM cards"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Active SIM Cards"}),x.jsx(Is,{className:"h-4 w-4 text-green-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-green-600",children:N.active}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(dc,{value:N.activePercentage,className:"h-2 flex-1"}),x.jsxs("span",{className:"text-xs text-muted-foreground",children:[N.activePercentage,"%"]})]})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Good SIM Cards"}),x.jsx(Is,{className:"h-4 w-4 text-blue-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-blue-600",children:N.good}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Operational but offline"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"No Balance"}),x.jsx(Zt,{className:"h-4 w-4 text-orange-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-orange-600",children:N.noBalance}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"SMS limit reached"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Blocked SIM Cards"}),x.jsx(Is,{className:"h-4 w-4 text-red-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-red-600",children:N.blocked}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Unable to send/receive"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Total Balance"}),x.jsx(Zt,{className:"h-4 w-4 text-blue-500"})]}),x.jsxs(Vo,{children:[x.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",N.totalBalance.toFixed(2)]}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Combined balance across all SIM cards"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Total SMS Balance"}),x.jsx(Ts,{className:"h-4 w-4 text-purple-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-purple-600",children:N.totalSmsBalance}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Combined SMS balance"})]})]}),x.jsxs(To,{children:[x.jsxs(Lo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[x.jsx(zo,{className:"text-sm font-medium",children:"Total SMS Sent"}),x.jsx(Ts,{className:"h-4 w-4 text-orange-500"})]}),x.jsxs(Vo,{children:[x.jsx("div",{className:"text-2xl font-bold text-orange-600",children:N.totalSmsSent}),x.jsx("p",{className:"text-xs text-muted-foreground",children:"Combined SMS sent"})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Es,{className:"h-4 w-4"}),"Filters"]})}),x.jsx(Vo,{children:x.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[x.jsx("div",{className:"relative min-w-[200px]",children:x.jsx(dr,{placeholder:"Search SIM cards...",value:a,onChange:e=>l(e.target.value),className:"w-full"})}),x.jsxs(Xu,{value:i,onValueChange:d,children:[x.jsx(Zu,{className:"h-8 min-w-[120px]",children:x.jsx(Ju,{placeholder:"All Status"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"all",children:"All Status"}),j.map(e=>x.jsx(tm,{value:e,children:e.toUpperCase()},e))]})]}),x.jsxs(Xu,{value:u,onValueChange:m,children:[x.jsx(Zu,{className:"h-8 min-w-[150px]",children:x.jsx(Ju,{placeholder:"All Operators"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"all",children:"All Operators"}),y.map(e=>x.jsx(tm,{value:e,children:e},e))]})]}),x.jsxs(Xu,{value:f,onValueChange:p,children:[x.jsx(Zu,{className:"h-8 min-w-[150px]",children:x.jsx(Ju,{placeholder:"All SIM Status"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"all",children:"All SIM Status"}),b.map(e=>x.jsx(tm,{value:e,children:e},e))]})]}),x.jsx(cr,{variant:"outline",size:"sm",onClick:w,children:"Clear Filters"})]})})]}),x.jsx(lm,{columns:S,data:v,title:"SIM Cards",description:`Showing ${v.length} of ${t.length} SIM cards`,showSearch:!1,showViewOptions:!1,showPagination:!0,pageSize:10})]})})}const Eg=[{title:"Dashboard",href:"/dashboard"},{title:"SIM Cards",href:"/sim-cards"},{title:"Details",href:"#"}];function Fg(){const{id:e}=ve(),t=pe(),[s,n]=me.useState(null),[r,a]=me.useState(!0);if(me.useEffect(()=>{h(null,null,function*(){if(e)try{a(!0);const t=yield kg.getSimCard(parseInt(e));n(t)}catch(s){console.error("Error fetching SIM card:",s),Ze.error("Failed to fetch SIM card details"),t("/sim-cards")}finally{a(!1)}})},[e,t]),r)return x.jsx(Do,{breadcrumbs:Eg,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),x.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading SIM card details..."})]})})});if(!s)return x.jsx(Do,{breadcrumbs:Eg,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-muted-foreground",children:"SIM card not found"}),x.jsx(fe,{to:"/sim-cards",children:x.jsx(cr,{className:"mt-4",children:"Back to SIM Cards"})})]})})});const l=e=>new Date(e).toLocaleString();return x.jsx(Do,{breadcrumbs:Eg,children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(fe,{to:"/sim-cards",children:x.jsxs(cr,{variant:"outline",size:"sm",children:[x.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back to SIM Cards"]})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"SIM Card Details"}),x.jsxs("p",{className:"text-muted-foreground",children:[s.display_name," - Slot ",s.slot_index]})]})]}),x.jsx(fe,{to:`/sim-cards/${s.id}/edit`,children:x.jsxs(cr,{children:[x.jsx(zs,{className:"h-4 w-4 mr-2"}),"Edit SIM Card"]})})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Ts,{className:"h-5 w-5"}),"Basic Information"]})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"ID"}),x.jsx("p",{className:"text-sm",children:s.id})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Slot Index"}),x.jsxs("p",{className:"text-sm",children:["Slot ",s.slot_index]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Subscription ID"}),x.jsx("p",{className:"text-sm",children:s.subscription_id})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Display Name"}),x.jsx("p",{className:"text-sm",children:s.display_name||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Carrier"}),x.jsx("p",{className:"text-sm",children:s.carrier_name||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Country"}),x.jsx("p",{className:"text-sm",children:s.country_iso||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone Number"}),x.jsx("p",{className:"text-sm font-mono",children:s.number||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),x.jsx($l,{variant:(c=s.is_active,c?"default":"destructive"),children:s.is_active?"Active":"Inactive"})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Qs,{className:"h-5 w-5"}),"Network Information"]})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Network Type"}),x.jsx($l,{variant:(e=>{switch(e){case"5G":return"default";case"4G":return"outline";case"3G":default:return"secondary";case"2G":return"destructive"}})(s.network_type),children:s.network_type||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Roaming"}),x.jsx($l,{variant:(o=s.roaming,o?"destructive":"default"),children:s.roaming?"Roaming":"Local"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Network Operator"}),x.jsx("p",{className:"text-sm",children:s.network_operator_name||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"SIM Operator"}),x.jsx("p",{className:"text-sm",children:s.sim_operator_name||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Network MCC"}),x.jsx("p",{className:"text-sm",children:s.network_mcc||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Network MNC"}),x.jsx("p",{className:"text-sm",children:s.network_mnc||"N/A"})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(As,{className:"h-5 w-5"}),"Technical Details"]})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"IMEI"}),x.jsx("p",{className:"text-sm font-mono",children:s.imei||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"ICCID"}),x.jsx("p",{className:"text-sm font-mono",children:s.iccid||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"IMSI"}),x.jsx("p",{className:"text-sm font-mono",children:s.imsi||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"SIM MCC"}),x.jsx("p",{className:"text-sm",children:s.sim_mcc||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"SIM MNC"}),x.jsx("p",{className:"text-sm",children:s.sim_mnc||"N/A"})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Is,{className:"h-5 w-5"}),"Signal Information"]})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Signal Strength"}),x.jsxs($l,{variant:(i=s.signal_strength,i>=75?"default":i>=50?"outline":"destructive"),children:[s.signal_strength,"%"]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Signal DBM"}),x.jsxs("p",{className:"text-sm",children:[s.signal_dbm," dBm"]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Signal Type"}),x.jsx("p",{className:"text-sm",children:s.signal_type||"N/A"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"RSRP"}),x.jsxs("p",{className:"text-sm",children:[s.rsrp," dBm"]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"RSRQ"}),x.jsxs("p",{className:"text-sm",children:[s.rsrq," dB"]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"RSSNR"}),x.jsxs("p",{className:"text-sm",children:[s.rssnr," dB"]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"CQI"}),x.jsx("p",{className:"text-sm",children:s.cqi})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Zt,{className:"h-5 w-5"}),"Balance and Limits"]})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Main Balance"}),x.jsx("p",{className:"text-sm font-medium",children:s.formatted_main_balance})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"SMS Balance"}),x.jsxs("p",{className:"text-sm",children:[s.formatted_sms_balance," SMS"]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"SMS Limit"}),x.jsxs("p",{className:"text-sm",children:[s.formatted_sms_limit," SMS"]})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(as,{className:"h-5 w-5"}),"SMS Statistics"]})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Total Sent"}),x.jsx("p",{className:"text-sm font-medium",children:s.total_sent.toLocaleString()})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Total Delivered"}),x.jsx("p",{className:"text-sm font-medium text-green-600",children:s.total_delivered.toLocaleString()})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Total Waiting"}),x.jsx("p",{className:"text-sm font-medium text-yellow-600",children:s.total_waiting.toLocaleString()})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),x.jsxs("p",{className:"text-sm font-medium",children:[s.success_rate.toFixed(1),"%"]})]})]})})]})]}),(s.device_name||s.country_site||s.device_group_name)&&x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Device Information"})}),x.jsx(Vo,{children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.device_name&&x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Device Name"}),x.jsx("p",{className:"text-sm",children:s.device_name})]}),s.country_site&&x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Country Site"}),x.jsx("p",{className:"text-sm",children:s.country_site})]}),s.device_group_name&&x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Device Group"}),x.jsx("p",{className:"text-sm",children:s.device_group_name})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Timestamps"})}),x.jsx(Vo,{children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),x.jsx("p",{className:"text-sm",children:l(s.created_at)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Updated At"}),x.jsx("p",{className:"text-sm",children:l(s.updated_at)})]})]})})]})]})});var i,o,c}const Pg=e=>h(null,null,function*(){const t=new URLSearchParams;return(null==e?void 0:e.search)&&t.append("search",e.search),(null==e?void 0:e.country)&&"all"!==e.country&&t.append("country",e.country),(null==e?void 0:e.network)&&"all"!==e.network&&t.append("network",e.network),(null==e?void 0:e.iso)&&"all"!==e.iso&&t.append("iso",e.iso),(null==e?void 0:e.sort_by)&&t.append("sort_by",e.sort_by),(null==e?void 0:e.sort_order)&&t.append("sort_order",e.sort_order),(null==e?void 0:e.page)&&t.append("page",e.page.toString()),(null==e?void 0:e.per_page)&&t.append("per_page",e.per_page.toString()),yield Ho.get(`/mcc-mnc?${t.toString()}`)}),Dg=e=>h(null,null,function*(){return yield Ho.get(`/mcc-mnc/${e}`)}),Ag=e=>h(null,null,function*(){return yield Ho.post("/mcc-mnc",e)}),Rg=(e,t)=>h(null,null,function*(){return yield Ho.put(`/mcc-mnc/${e}`,t)}),Ig=e=>h(null,null,function*(){yield Ho.delete(`/mcc-mnc/${e}`)}),Tg=[{title:"Dashboard",href:"/dashboard"},{title:"MCC-MNC",href:"/mcc-mnc"}];function Lg(){const{user:e}=dt(),[t,s]=me.useState([]),[n,r]=me.useState(!0),[a,l]=me.useState(null),[i,o]=me.useState(1),[c,d]=me.useState(15),[u,m]=me.useState(0),[f,p]=me.useState(0),[g,v]=me.useState(""),[j,y]=me.useState(""),b=me.useCallback((...e)=>h(null,[...e],function*(e=i,t=c,n=g){try{r(!0),l(null),console.log("Fetching MCC-MNC data...",{page:e,perPage:t,search:n});const a=yield Pg({page:e,per_page:t,search:n||void 0});if(console.log("MCC-MNC data response:",a),!a)throw new Error("No response received from API");if(!a.data)throw new Error("Invalid response structure: missing data field");if(!a.pagination)throw new Error("Invalid response structure: missing pagination field");console.log("Setting MCC-MNC list with",a.data.length,"records"),console.log("Pagination info:",a.pagination),s(a.data),m(a.pagination.total),p(a.pagination.total_pages),o(a.pagination.page),d(a.pagination.per_page)}catch(a){console.error("Error fetching MCC-MNC data:",a),l(a instanceof Error?a.message:"Failed to fetch MCC-MNC data"),Ze.error("Failed to fetch MCC-MNC data"),s([]),m(0),p(0)}finally{r(!1)}}),[i,c,g]);me.useEffect(()=>{b()},[b]),me.useEffect(()=>{console.log("MCC-MNC list updated:",t.length,"records"),console.log("Pagination state:",{currentPage:i,pageSize:c,totalRecords:u,totalPages:f})},[t,i,c,u,f]);const N=e=>h(null,null,function*(){try{yield Ig(e.id),Ze.success("MCC-MNC record deleted successfully"),b()}catch(t){console.error("Error deleting MCC-MNC record:",t),Ze.error("Failed to delete MCC-MNC record")}}),_=e=>{o(e),b(e,c,g)},w=me.useCallback(e=>{v(e),o(1),b(1,c,e)},[b,c]),S=me.useMemo(()=>[Qm(),{accessorKey:"mcc",header:({column:e})=>x.jsx(Km,{column:e,icon:x.jsx(ls,{className:"h-4 w-4"}),children:"MCC"}),cell:({row:e})=>x.jsx("span",{className:"font-mono font-medium",children:e.getValue("mcc")})},{accessorKey:"mnc",header:({column:e})=>x.jsx(Km,{column:e,icon:x.jsx(ls,{className:"h-4 w-4"}),children:"MNC"}),cell:({row:e})=>x.jsx("span",{className:"font-mono",children:e.getValue("mnc")})},{accessorKey:"country",header:({column:e})=>x.jsx(Km,{column:e,icon:x.jsx(as,{className:"h-4 w-4"}),children:"Country"}),cell:({row:e})=>x.jsx("span",{children:e.getValue("country")})},{accessorKey:"network",header:({column:e})=>x.jsx(Km,{column:e,icon:x.jsx(Is,{className:"h-4 w-4"}),children:"Network"}),cell:({row:e})=>x.jsx("span",{children:e.getValue("network")})},{accessorKey:"iso",header:"ISO",cell:({row:e})=>{const t=e.getValue("iso");return x.jsx($l,{variant:"outline",children:t.toUpperCase()})}},{accessorKey:"country_code",header:"Country Code",cell:({row:e})=>x.jsx("span",{children:e.getValue("country_code")})},Ym(),Xm({editPath:e=>`/mcc-mnc/${e.id}/edit`,onDelete:N,deleteConfirmMessage:"Are you sure you want to delete this MCC-MNC record? This action cannot be undone."})],[]);if(!e)return x.jsx(Do,{breadcrumbs:Tg,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"text-center",children:x.jsx("p",{className:"text-muted-foreground",children:"Please log in to view MCC-MNC data."})})})});if(n)return x.jsx(Do,{breadcrumbs:Tg,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading MCC-MNC data..."})]})})});if(a)return x.jsx(Do,{breadcrumbs:Tg,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsxs("p",{className:"text-destructive",children:["Error loading MCC-MNC data: ",a]}),x.jsxs(cr,{onClick:()=>b(),className:"mt-4",children:[x.jsx(Ss,{className:"mr-2 h-4 w-4"}),"Retry"]})]})})});const k=x.jsx("div",{className:"flex items-center justify-center py-8",children:x.jsxs("div",{className:"text-center",children:[x.jsx(as,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),x.jsx("h3",{className:"text-sm font-semibold",children:"No MCC-MNC records found"}),x.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Get started by creating a new MCC-MNC record."}),x.jsx(fe,{to:"/mcc-mnc/create",children:x.jsxs(cr,{className:"mt-4",children:[x.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Add MCC-MNC"]})})]})});return x.jsx(Do,{breadcrumbs:Tg,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-x-auto",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"MCC-MNC Management"}),x.jsxs("p",{className:"text-muted-foreground",children:["Manage Mobile Country Code and Mobile Network Code data (",u," total records)"]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>b(),disabled:n,children:x.jsx(Ss,{className:"h-4 w-4 "+(n?"animate-spin":"")})}),x.jsx(fe,{to:"/mcc-mnc/create",children:x.jsxs(cr,{children:[x.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Add MCC-MNC"]})})]})]}),x.jsx(To,{children:x.jsx(Vo,{className:"p-4",children:x.jsxs("form",{onSubmit:e=>{e.preventDefault(),w(j)},className:"flex items-center gap-4",children:[x.jsxs("div",{className:"relative flex-1 max-w-sm",children:[x.jsx("input",{type:"text",placeholder:"Search MCC-MNC records...",value:j,onChange:e=>{y(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),w(j))},className:"w-full pl-10 pr-4 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"}),x.jsx(as,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}),x.jsx(cr,{type:"submit",disabled:n,children:"Search"}),g&&x.jsx(cr,{type:"button",variant:"outline",onClick:()=>{y(""),v(""),b(1,c,"")},children:"Clear"})]})})}),x.jsx(lm,{columns:S,data:t,title:`MCC-MNC Records (Page ${i} of ${f})`,description:`Showing ${t.length} of ${u} total records`,emptyState:k,pageSize:c,showSearch:!1,showViewOptions:!1,showPagination:!1,className:"space-y-4"}),f>1&&x.jsx(To,{children:x.jsx(Vo,{className:"p-4",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(i-1)*c+1," to ",Math.min(i*c,u)," of ",u," records"]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("span",{className:"text-sm font-medium",children:"Rows per page:"}),x.jsx("select",{value:c,onChange:e=>{return t=Number(e.target.value),d(t),o(1),void b(1,t,g);var t},className:"border rounded px-2 py-1 text-sm",children:[5,10,15,20,25,30,40,50,100].map(e=>x.jsx("option",{value:e,children:e},e))})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>_(1),disabled:1===i,children:"First"}),x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>_(i-1),disabled:1===i,children:"Previous"}),x.jsxs("span",{className:"text-sm",children:["Page ",i," of ",f]}),x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>_(i+1),disabled:i===f,children:"Next"}),x.jsx(cr,{variant:"outline",size:"sm",onClick:()=>_(f),disabled:i===f,children:"Last"})]})]})]})})})]})})}const zg=[{title:"Dashboard",href:"/dashboard"},{title:"MCC-MNC",href:"/mcc-mnc"},{title:"Create",href:"/mcc-mnc/create"}];function Og(){const e=pe(),[t,s]=me.useState(!1),[n,r]=me.useState({mcc:"",mnc:"",iso:"",country:"",country_code:"",network:""}),a=(e,t)=>{r(s=>c(o({},s),{[e]:t}))};return x.jsx(Do,{breadcrumbs:zg,children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create MCC-MNC Record"}),x.jsx("p",{className:"text-muted-foreground",children:"Add a new Mobile Country Code and Mobile Network Code record"})]}),x.jsxs(cr,{variant:"outline",onClick:()=>e("/mcc-mnc"),children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to List"]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"MCC-MNC Information"})}),x.jsx(Vo,{children:x.jsxs("form",{onSubmit:t=>h(null,null,function*(){t.preventDefault();try{s(!0),yield Ag(n),Ze.success("MCC-MNC record created successfully"),e("/mcc-mnc")}catch(r){console.error("Error creating MCC-MNC record:",r),Ze.error("Failed to create MCC-MNC record")}finally{s(!1)}}),className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mcc",children:"MCC (Mobile Country Code)"}),x.jsx(dr,{id:"mcc",placeholder:"e.g., 234",value:n.mcc,onChange:e=>a("mcc",e.target.value),required:!0,maxLength:10})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mnc",children:"MNC (Mobile Network Code)"}),x.jsx(dr,{id:"mnc",placeholder:"e.g., 15",value:n.mnc,onChange:e=>a("mnc",e.target.value),required:!0,maxLength:10})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"iso",children:"ISO Code"}),x.jsx(dr,{id:"iso",placeholder:"e.g., gb",value:n.iso,onChange:e=>a("iso",e.target.value),required:!0,maxLength:10})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"country_code",children:"Country Code"}),x.jsx(dr,{id:"country_code",placeholder:"e.g., 44",value:n.country_code,onChange:e=>a("country_code",e.target.value),required:!0,maxLength:10})]}),x.jsxs("div",{className:"space-y-2 md:col-span-2",children:[x.jsx(Io,{htmlFor:"country",children:"Country Name"}),x.jsx(dr,{id:"country",placeholder:"e.g., United Kingdom",value:n.country,onChange:e=>a("country",e.target.value),required:!0,maxLength:100})]}),x.jsxs("div",{className:"space-y-2 md:col-span-2",children:[x.jsx(Io,{htmlFor:"network",children:"Network Name"}),x.jsx(dr,{id:"network",placeholder:"e.g., Vodafone",value:n.network,onChange:e=>a("network",e.target.value),required:!0,maxLength:200})]})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx(cr,{type:"submit",disabled:t,children:t?"Creating...":"Create MCC-MNC Record"}),x.jsx(cr,{type:"button",variant:"outline",onClick:()=>e("/mcc-mnc"),disabled:t,children:"Cancel"})]})]})})]})]})})}const Vg=[{title:"Dashboard",href:"/dashboard"},{title:"MCC-MNC",href:"/mcc-mnc"},{title:"Details",href:"/mcc-mnc/:id"}];function Ug(){const{id:e}=ve(),t=pe(),[s,n]=me.useState(null),[r,a]=me.useState(!0),[l,i]=me.useState(!1);me.useEffect(()=>{h(null,null,function*(){if(e)try{a(!0);const t=yield Dg(parseInt(e));n(t)}catch(s){console.error("Error fetching MCC-MNC record:",s),Ze.error("Failed to fetch MCC-MNC record"),t("/mcc-mnc")}finally{a(!1)}})},[e,t]);const o=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?x.jsx(Do,{breadcrumbs:Vg,children:x.jsx("div",{className:"flex items-center justify-center py-8",children:x.jsx("div",{className:"text-muted-foreground",children:"Loading..."})})}):s?x.jsx(Do,{breadcrumbs:Vg,children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"MCC-MNC Details"}),x.jsx("p",{className:"text-muted-foreground",children:"View details for MCC-MNC record"})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs(cr,{variant:"outline",onClick:()=>t("/mcc-mnc"),children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to List"]}),x.jsxs(cr,{onClick:()=>t(`/mcc-mnc/${s.id}/edit`),children:[x.jsx(zs,{className:"mr-2 h-4 w-4"}),"Edit"]}),x.jsxs(cr,{variant:"destructive",onClick:()=>h(null,null,function*(){if(s&&confirm("Are you sure you want to delete this MCC-MNC record?"))try{i(!0),yield Ig(s.id),Ze.success("MCC-MNC record deleted successfully"),t("/mcc-mnc")}catch(e){console.error("Error deleting MCC-MNC record:",e),Ze.error("Failed to delete MCC-MNC record")}finally{i(!1)}}),disabled:l,children:[x.jsx(Us,{className:"mr-2 h-4 w-4"}),l?"Deleting...":"Delete"]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"MCC-MNC Information"})}),x.jsx(Vo,{children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"MCC (Mobile Country Code)"}),x.jsx("p",{className:"text-lg font-mono",children:s.mcc})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"MNC (Mobile Network Code)"}),x.jsx("p",{className:"text-lg font-mono",children:s.mnc})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"ISO Code"}),x.jsx("p",{className:"text-lg",children:x.jsx($l,{variant:"outline",children:s.iso.toUpperCase()})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Country Code"}),x.jsx("p",{className:"text-lg",children:s.country_code})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Country"}),x.jsx("p",{className:"text-lg",children:s.country})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Network"}),x.jsx("p",{className:"text-lg",children:s.network})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Record ID"}),x.jsxs("p",{className:"text-lg font-mono text-muted-foreground",children:["#",s.id]})]})]})]})})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Timestamps"})}),x.jsx(Vo,{children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),x.jsx("p",{className:"text-sm",children:o(s.created_at)})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Updated At"}),x.jsx("p",{className:"text-sm",children:o(s.updated_at)})]})]})})]})]})}):x.jsx(Do,{breadcrumbs:Vg,children:x.jsx("div",{className:"flex items-center justify-center py-8",children:x.jsx("div",{className:"text-muted-foreground",children:"MCC-MNC record not found"})})})}const Bg=[{title:"Dashboard",href:"/dashboard"},{title:"MCC-MNC",href:"/mcc-mnc"},{title:"Edit",href:"/mcc-mnc/:id/edit"}];function $g(){const{id:e}=ve(),t=pe(),[s,n]=me.useState(!0),[r,a]=me.useState(!1),[l,i]=me.useState({mcc:"",mnc:"",iso:"",country:"",country_code:"",network:""});me.useEffect(()=>{h(null,null,function*(){if(e)try{n(!0);const t=yield Dg(parseInt(e));i({mcc:t.mcc,mnc:t.mnc,iso:t.iso,country:t.country,country_code:t.country_code,network:t.network})}catch(s){console.error("Error fetching MCC-MNC record:",s),Ze.error("Failed to fetch MCC-MNC record"),t("/mcc-mnc")}finally{n(!1)}})},[e,t]);const d=(e,t)=>{i(s=>c(o({},s),{[e]:t}))};return s?x.jsx(Do,{breadcrumbs:Bg,children:x.jsx("div",{className:"flex items-center justify-center py-8",children:x.jsx("div",{className:"text-muted-foreground",children:"Loading..."})})}):x.jsx(Do,{breadcrumbs:Bg,children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit MCC-MNC Record"}),x.jsx("p",{className:"text-muted-foreground",children:"Update Mobile Country Code and Mobile Network Code record"})]}),x.jsxs(cr,{variant:"outline",onClick:()=>t(`/mcc-mnc/${e}`),children:[x.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Back to Details"]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"MCC-MNC Information"})}),x.jsx(Vo,{children:x.jsxs("form",{onSubmit:s=>h(null,null,function*(){if(s.preventDefault(),e)try{a(!0),yield Rg(parseInt(e),l),Ze.success("MCC-MNC record updated successfully"),t(`/mcc-mnc/${e}`)}catch(n){console.error("Error updating MCC-MNC record:",n),Ze.error("Failed to update MCC-MNC record")}finally{a(!1)}}),className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mcc",children:"MCC (Mobile Country Code)"}),x.jsx(dr,{id:"mcc",placeholder:"e.g., 234",value:l.mcc,onChange:e=>d("mcc",e.target.value),required:!0,maxLength:10})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"mnc",children:"MNC (Mobile Network Code)"}),x.jsx(dr,{id:"mnc",placeholder:"e.g., 15",value:l.mnc,onChange:e=>d("mnc",e.target.value),required:!0,maxLength:10})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"iso",children:"ISO Code"}),x.jsx(dr,{id:"iso",placeholder:"e.g., gb",value:l.iso,onChange:e=>d("iso",e.target.value),required:!0,maxLength:10})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Io,{htmlFor:"country_code",children:"Country Code"}),x.jsx(dr,{id:"country_code",placeholder:"e.g., 44",value:l.country_code,onChange:e=>d("country_code",e.target.value),required:!0,maxLength:10})]}),x.jsxs("div",{className:"space-y-2 md:col-span-2",children:[x.jsx(Io,{htmlFor:"country",children:"Country Name"}),x.jsx(dr,{id:"country",placeholder:"e.g., United Kingdom",value:l.country,onChange:e=>d("country",e.target.value),required:!0,maxLength:100})]}),x.jsxs("div",{className:"space-y-2 md:col-span-2",children:[x.jsx(Io,{htmlFor:"network",children:"Network Name"}),x.jsx(dr,{id:"network",placeholder:"e.g., Vodafone",value:l.network,onChange:e=>d("network",e.target.value),required:!0,maxLength:200})]})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx(cr,{type:"submit",disabled:r,children:r?"Saving...":"Update MCC-MNC Record"}),x.jsx(cr,{type:"button",variant:"outline",onClick:()=>t(`/mcc-mnc/${e}`),disabled:r,children:"Cancel"})]})]})})]})]})})}const Hg=new class{constructor(){m(this,"baseUrl","/smpp-routings")}getAll(e){return h(this,null,function*(){const t=new URLSearchParams;return e&&Object.entries(e).forEach(([e,s])=>{null!=s&&""!==s&&t.append(e,s.toString())}),yield Ho.get(`${this.baseUrl}?${t.toString()}`)})}getById(e){return h(this,null,function*(){return(yield Ho.get(`${this.baseUrl}/${e}`)).data})}create(e){return h(this,null,function*(){return yield Ho.post(this.baseUrl,e)})}update(e,t){return h(this,null,function*(){return(yield Ho.put(`${this.baseUrl}/${e}`,t)).data})}delete(e){return h(this,null,function*(){yield Ho.delete(`${this.baseUrl}/${e}`)})}getFilterOptions(){return h(this,null,function*(){return yield Ho.get(`${this.baseUrl}/filter-options`)})}},qg=[{title:"Dashboard",href:"/dashboard"},{title:"SMPP Routings",href:"/smpp-routings"}];function Gg(){var e;const t=pe(),[s,n]=me.useState({data:[],meta:{current_page:1,last_page:1,per_page:15,total:0}}),[r,a]=me.useState(!0),[l,i]=me.useState(null),[o,c]=me.useState(""),[d,u]=me.useState("all"),[m,f]=me.useState("all"),[p,g]=me.useState("all"),[v,j]=me.useState("all"),[y,b]=me.useState("priority"),[N,_]=me.useState("desc"),w=()=>h(null,null,function*(){try{a(!0),i(null);const e={search:o||void 0,source_type:"all"!==d?d:void 0,direction:"all"!==m?m:void 0,target_type:"all"!==p?p:void 0,is_active:"all"!==v?v:void 0,sort_by:y,sort_order:N},t=yield Hg.getAll(e);n(t)}catch(e){console.error("Error fetching SMPP routings:",e),i(e instanceof Error?e.message:"Failed to fetch SMPP routings"),Ze.error("Failed to fetch SMPP routings")}finally{a(!1)}});me.useEffect(()=>{w()},[o,d,m,p,v,y,N]);const S=()=>{w()};return r?x.jsx(Do,{breadcrumbs:qg,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading SMPP routings..."})]})})}):l?x.jsx(Do,{breadcrumbs:qg,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsxs("p",{className:"text-destructive",children:["Error loading SMPP routings: ",l]}),x.jsx(cr,{onClick:w,className:"mt-4",children:"Retry"})]})})}):x.jsx(Do,{breadcrumbs:qg,children:x.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"SMPP Routings"}),x.jsxs("p",{className:"text-muted-foreground",children:["Total records: ",(null==(e=null==s?void 0:s.meta)?void 0:e.total)||0]})]}),x.jsxs(cr,{onClick:()=>t("/smpp-routings/create"),children:[x.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Add Routing"]})]}),x.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[x.jsx("div",{className:"flex-1 min-w-64",children:x.jsx(dr,{placeholder:"Search by name, description, or addresses...",value:o,onChange:e=>c(e.target.value),onKeyPress:e=>"Enter"===e.key&&S()})}),x.jsxs(Xu,{value:d,onValueChange:u,children:[x.jsx(Zu,{className:"w-32",children:x.jsx(Ju,{placeholder:"Source"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"all",children:"All Sources"}),x.jsx(tm,{value:"smpp",children:"SMPP"}),x.jsx(tm,{value:"http",children:"HTTP"})]})]}),x.jsxs(Xu,{value:m,onValueChange:f,children:[x.jsx(Zu,{className:"w-32",children:x.jsx(Ju,{placeholder:"Direction"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"all",children:"All Directions"}),x.jsx(tm,{value:"inbound",children:"Inbound"}),x.jsx(tm,{value:"outbound",children:"Outbound"})]})]}),x.jsxs(Xu,{value:p,onValueChange:g,children:[x.jsx(Zu,{className:"w-36",children:x.jsx(Ju,{placeholder:"Target"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"all",children:"All Targets"}),x.jsx(tm,{value:"device_group",children:"Device Group"})]})]}),x.jsxs(Xu,{value:v,onValueChange:j,children:[x.jsx(Zu,{className:"w-24",children:x.jsx(Ju,{placeholder:"Status"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"all",children:"All"}),x.jsx(tm,{value:"true",children:"Active"}),x.jsx(tm,{value:"false",children:"Inactive"})]})]}),x.jsxs(cr,{variant:"outline",onClick:S,children:[x.jsx(Es,{className:"mr-2 h-4 w-4"}),"Search"]}),x.jsx(cr,{variant:"outline",onClick:()=>{c(""),u("all"),f("all"),g("all"),j("all"),b("priority"),_("desc")},children:"Clear"})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsxs(zo,{className:"flex items-center gap-2",children:[x.jsx(Cs,{className:"h-5 w-5"}),"SMPP Routings"]})}),x.jsxs(Vo,{className:"p-0",children:[x.jsx("div",{className:"overflow-x-auto",children:x.jsxs(Dd,{children:[x.jsx(Ad,{children:x.jsxs(Id,{children:[x.jsx(Td,{children:x.jsxs("button",{onClick:()=>(e=>{const t=y===e&&"asc"===N?"desc":"asc";b(e),_(t)})("name"),className:"flex items-center gap-1 hover:text-primary text-xs",children:["Name",x.jsx(Ft,{className:"h-3 w-3"})]})}),x.jsx(Td,{children:"Source"}),x.jsx(Td,{children:"Direction"}),x.jsx(Td,{children:"Destination"}),x.jsx(Td,{children:"Target"}),x.jsx(Td,{children:"Strategy"}),x.jsx(Td,{children:"Priority"}),x.jsx(Td,{children:"Status"}),x.jsx(Td,{className:"hidden lg:table-cell",children:"Summary"}),x.jsx(Td,{children:"Actions"})]})}),x.jsx(Rd,{children:(null==s?void 0:s.data)&&Array.isArray(s.data)&&s.data.length>0?s.data.map(e=>x.jsxs(Id,{children:[x.jsx(Ld,{children:x.jsxs("div",{className:"space-y-1",children:[x.jsx("div",{className:"text-sm font-medium",children:e.name}),x.jsx("div",{className:"text-xs text-muted-foreground",children:e.description})]})}),x.jsx(Ld,{children:x.jsxs("div",{className:"space-y-1",children:[x.jsx($l,{variant:e.source_type_badge_variant,className:"text-xs",children:e.source_type.toUpperCase()}),e.system_id&&x.jsx("div",{className:"text-xs text-muted-foreground",children:e.system_id})]})}),x.jsx(Ld,{children:x.jsx($l,{variant:e.direction_badge_variant,className:"text-xs",children:e.direction})}),x.jsx(Ld,{children:x.jsx("div",{className:"text-xs",children:e.destination_address||x.jsx("span",{className:"text-muted-foreground",children:"N/A"})})}),x.jsx(Ld,{children:x.jsxs("div",{className:"space-y-1",children:[x.jsx($l,{variant:e.target_type_badge_variant,className:"text-xs",children:e.target_type.replace("_"," ")}),x.jsx("div",{className:"text-xs text-muted-foreground",children:e.target_display_name})]})}),x.jsx(Ld,{children:x.jsxs("div",{className:"space-y-1",children:[x.jsx($l,{variant:"outline",className:"text-xs",children:e.device_selection_strategy||"round_robin"}),e.sim_slot_preference&&x.jsxs("div",{className:"text-xs text-muted-foreground",children:["SIM ",e.sim_slot_preference]})]})}),x.jsx(Ld,{children:x.jsx($l,{variant:"outline",className:"text-xs",children:e.priority})}),x.jsx(Ld,{children:x.jsx($l,{variant:e.status_badge_variant,className:"text-xs",children:e.is_active?"Active":"Inactive"})}),x.jsx(Ld,{className:"hidden lg:table-cell",children:x.jsx("div",{className:"text-xs text-muted-foreground max-w-48 truncate",children:e.routing_summary})}),x.jsx(Ld,{children:x.jsxs("div",{className:"flex gap-1",children:[x.jsx(cr,{variant:"outline",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>t(`/smpp-routings/${e.id}`),children:x.jsx(ns,{className:"h-3 w-3"})}),x.jsx(cr,{variant:"outline",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>t(`/smpp-routings/${e.id}/edit`),children:x.jsx(zs,{className:"h-3 w-3"})}),x.jsx(cr,{variant:"outline",size:"sm",className:"h-7 px-2 text-xs text-destructive hover:text-destructive",onClick:()=>{return t=e,h(null,null,function*(){if(confirm(`Are you sure you want to delete "${t.name}"?`))try{yield Hg.delete(t.id),Ze.success("SMPP routing deleted successfully"),w()}catch(e){console.error("Error deleting SMPP routing:",e),Ze.error("Failed to delete SMPP routing")}});var t},children:x.jsx(Us,{className:"h-3 w-3"})})]})})]},e.id)):x.jsx(Id,{children:x.jsx(Ld,{colSpan:10,className:"text-center py-8",children:x.jsx("div",{className:"text-muted-foreground",children:r?"Loading...":"No SMPP routings found"})})})})]})}),(null==s?void 0:s.meta)&&s.meta.last_page>1&&x.jsxs("div",{className:"flex items-center justify-between p-4 border-t bg-muted/30",children:[x.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(s.meta.current_page-1)*s.meta.per_page+1," to"," ",Math.min(s.meta.current_page*s.meta.per_page,s.meta.total)," of"," ",s.meta.total," results"]}),x.jsx("div",{className:"flex gap-1",children:Array.from({length:s.meta.last_page},(e,t)=>t+1).map(e=>x.jsx("button",{onClick:()=>{},className:"px-3 py-2 text-sm rounded-md border transition-colors "+(e===s.meta.current_page?"bg-primary text-primary-foreground border-primary":"hover:bg-muted hover:text-foreground"),children:e},e))})]})]})]})]})})}const Wg=[{title:"Dashboard",href:"/dashboard"},{title:"SMPP Routings",href:"/smpp-routings"},{title:"Create",href:"/smpp-routings/create"}];function Kg(){const e=pe(),[t,s]=me.useState(!1),[n,r]=me.useState(null),[a,l]=me.useState({}),[i,d]=me.useState({name:"",description:"",source_type:"smpp",direction:"inbound",system_id:"",destination_address:"",target_type:"device_group",device_group_ids:[],user_id:"",is_active:!0});me.useEffect(()=>{h(null,null,function*(){try{const e=yield Hg.getFilterOptions();r(e)}catch(e){console.error("Error fetching filter options:",e),Ze.error("Failed to fetch filter options")}})},[]);const u=e=>{const{name:t,value:s,type:n,checked:r}=e.target;d(e=>c(o({},e),{[t]:"checkbox"===n?r:s}))},m=(e,t)=>{d(s=>c(o({},s),"source_type"===e?{source_type:t,user_id:"http"===t?s.user_id:""}:{[e]:t}))};return n?x.jsx(Do,{breadcrumbs:Wg,children:x.jsx("div",{className:"max-w-4xl mx-auto p-4",children:x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Create SMPP Routing"})}),x.jsx(Vo,{children:x.jsxs("form",{onSubmit:t=>h(null,null,function*(){var n,r;t.preventDefault(),s(!0),l({});try{const t={name:i.name,description:i.description,source_type:i.source_type,direction:i.direction,destination_address:i.destination_address,target_type:i.target_type,is_active:i.is_active};"smpp"===i.source_type&&i.system_id&&(t.system_id=i.system_id),"http"===i.source_type&&i.user_id&&(t.user_id=parseInt(i.user_id)),"device_group"===i.target_type&&i.device_group_ids.length>0&&(t.device_group_ids=i.device_group_ids),yield Hg.create(t),Ze.success("SMPP routing created successfully"),e("/smpp-routings")}catch(a){console.error("Error creating SMPP routing:",a),(null==(r=null==(n=a.response)?void 0:n.data)?void 0:r.errors)?l(a.response.data.errors):Ze.error(a.message||"Failed to create SMPP routing")}finally{s(!1)}}),className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"name",children:"Name"}),x.jsx(dr,{id:"name",name:"name",placeholder:"Routing name",value:i.name,onChange:u,required:!0}),a.name&&x.jsx("p",{className:"text-sm text-destructive mt-1",children:a.name})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"source_type",children:"Source Type"}),x.jsxs(Xu,{value:i.source_type,onValueChange:e=>m("source_type",e),children:[x.jsx(Zu,{id:"source_type",className:"w-full",children:x.jsx(Ju,{placeholder:"Source Type"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"smpp",children:"SMPP"}),x.jsx(tm,{value:"http",children:"HTTP"})]})]})]}),"smpp"===i.source_type&&x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"system_id",children:"System ID"}),x.jsxs(Xu,{value:i.system_id,onValueChange:e=>m("system_id",e),children:[x.jsx(Zu,{id:"system_id",className:"w-full",children:x.jsx(Ju,{placeholder:"Select System ID"})}),x.jsx(em,{children:n.smpp_users.map(e=>x.jsx(tm,{value:e,children:e},e))})]})]}),"http"===i.source_type&&x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"user_id",children:"User"}),x.jsxs(Xu,{value:i.user_id,onValueChange:e=>m("user_id",e),children:[x.jsx(Zu,{id:"user_id",className:"w-full",children:x.jsx(Ju,{placeholder:"Select User"})}),x.jsx(em,{children:n.users.map(e=>x.jsx(tm,{value:String(e.id),children:e.username},e.id))})]})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"direction",children:"Direction"}),x.jsxs(Xu,{value:i.direction,onValueChange:e=>m("direction",e),children:[x.jsx(Zu,{id:"direction",className:"w-full",children:x.jsx(Ju,{placeholder:"Direction"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"inbound",children:"Inbound"}),x.jsx(tm,{value:"outbound",children:"Outbound"})]})]})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"description",children:"Description"}),x.jsx(dr,{id:"description",name:"description",placeholder:"Description",value:i.description,onChange:u})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"target_type",children:"Target Type"}),x.jsxs(Xu,{value:i.target_type,onValueChange:e=>m("target_type",e),children:[x.jsx(Zu,{id:"target_type",className:"w-full",children:x.jsx(Ju,{placeholder:"Target Type"})}),x.jsx(em,{children:x.jsx(tm,{value:"device_group",children:"Device Group"})})]})]}),"device_group"===i.target_type&&x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"device_groups",children:"Device Groups"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs(Xu,{onValueChange:e=>{const t=parseInt(e);i.device_group_ids.includes(t)||d(e=>c(o({},e),{device_group_ids:[...e.device_group_ids,t]}))},children:[x.jsx(Zu,{id:"device_groups",className:"w-full",children:x.jsx(Ju,{placeholder:"Select Device Groups"})}),x.jsx(em,{children:n.device_groups.filter(e=>!i.device_group_ids.includes(e.id)).map(e=>x.jsxs(tm,{value:e.id.toString(),children:[e.name," ",e.queue_name&&`(${e.queue_name})`]},e.id))})]}),i.device_group_ids.length>0&&x.jsx("div",{className:"space-y-2",children:i.device_group_ids.map(e=>{const t=n.device_groups.find(t=>t.id===e);return t?x.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded-md",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:"font-medium text-sm",children:t.name}),t.queue_name&&x.jsx("div",{className:"text-xs text-muted-foreground",children:t.queue_name})]}),x.jsx(cr,{type:"button",variant:"ghost",size:"sm",onClick:()=>{d(t=>c(o({},t),{device_group_ids:t.device_group_ids.filter(t=>t!==e)}))},children:x.jsx(Xs,{className:"h-3 w-3"})})]},e):null})})]})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"destination_address",children:"Destination Address Pattern"}),x.jsx(dr,{id:"destination_address",name:"destination_address",placeholder:"* (all addresses), +90* (starting with 90), *123 (ending with 123)",value:i.destination_address,onChange:u,required:!0}),x.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[x.jsx("strong",{children:"Examples:"}),x.jsx("br",{})," ",x.jsx("code",{children:"*"})," - All phone numbers",x.jsx("br",{})," ",x.jsx("code",{children:"+90*"})," - Numbers starting with 90",x.jsx("br",{})," ",x.jsx("code",{children:"*123"})," - Numbers ending with 123",x.jsx("br",{})," ",x.jsx("code",{children:"+905551234567"})," - Specific number"]}),a.destination_address&&x.jsx("p",{className:"text-sm text-destructive mt-1",children:a.destination_address})]})]})]}),"device_group"===i.target_type&&i.device_group_ids.length>0&&x.jsx("div",{className:"border-t pt-6",children:x.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[x.jsxs("div",{className:"bg-muted px-6 py-3 border-b",children:[x.jsx("h4",{className:"font-medium",children:"Device Group Configurations"}),x.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure individual settings for each selected device group"})]}),x.jsx("div",{className:"divide-y",children:i.device_group_ids.map(e=>{const t=n.device_groups.find(t=>t.id===e);return t?x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:"font-medium text-base",children:t.name}),t.queue_name&&x.jsx("div",{className:"text-sm text-muted-foreground",children:t.queue_name})]}),x.jsx(cr,{type:"button",variant:"ghost",size:"sm",onClick:()=>{d(t=>c(o({},t),{device_group_ids:t.device_group_ids.filter(t=>t!==e)}))},children:x.jsx(Xs,{className:"h-4 w-4"})})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:`priority_${e}`,className:"text-sm font-medium",children:"Priority"}),x.jsx(dr,{id:`priority_${e}`,type:"number",min:0,max:100,defaultValue:t.priority||50,className:"mt-1"}),x.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Priority level (0-100)"})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:`total_sms_${e}`,className:"text-sm font-medium",children:"Total SMS"}),x.jsx(dr,{id:`total_sms_${e}`,type:"number",min:1,defaultValue:t.total_sms||1e3,className:"mt-1"}),x.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Total SMS count"})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:`strategy_${e}`,className:"text-sm font-medium",children:"Strategy"}),x.jsxs(Xu,{defaultValue:"round_robin",children:[x.jsx(Zu,{className:"mt-1",children:x.jsx(Ju,{})}),x.jsxs(em,{children:[x.jsx(tm,{value:"round_robin",children:"Round Robin"}),x.jsx(tm,{value:"least_used",children:"Least Used"}),x.jsx(tm,{value:"random",children:"Random"}),x.jsx(tm,{value:"specific",children:"Specific"})]})]}),x.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Device selection method"})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:`sim_${e}`,className:"text-sm font-medium",children:"SIM Config"}),x.jsxs(Xu,{defaultValue:"sim1_preferred",children:[x.jsx(Zu,{className:"mt-1",children:x.jsx(Ju,{})}),x.jsxs(em,{children:[x.jsx(tm,{value:"sim1_preferred",children:"SIM1 Preferred"}),x.jsx(tm,{value:"sim2_preferred",children:"SIM2 Preferred"}),x.jsx(tm,{value:"round_robin",children:"Round Robin"}),x.jsx(tm,{value:"least_used",children:"Least Used"})]})]}),x.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"SIM card selection"})]})]})]},e):null})})]})}),x.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[x.jsx("input",{type:"checkbox",name:"is_active",checked:i.is_active,onChange:u,id:"is_active"}),x.jsx(Io,{htmlFor:"is_active",children:"Active"})]}),Object.keys(a).length>0&&x.jsx("div",{className:"text-destructive text-sm",children:Object.values(a).map((e,t)=>x.jsx("div",{children:e},t))}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(cr,{type:"submit",className:"flex-1",disabled:t,children:t?"Creating...":"Create Routing"}),x.jsx(cr,{type:"button",variant:"outline",onClick:()=>e("/smpp-routings"),disabled:t,children:"Cancel"})]})]})})]})})}):x.jsx(Do,{breadcrumbs:Wg,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})})}const Qg=[{title:"Dashboard",href:"/dashboard"},{title:"SMPP Routings",href:"/smpp-routings"},{title:"Show",href:"#"}];function Yg(){var e,t;const s=pe(),{id:n}=ve(),[r,a]=me.useState(null),[l,i]=me.useState(!0),[o,c]=me.useState(null);return me.useEffect(()=>{h(null,null,function*(){if(n)try{i(!0),c(null);const e=yield Hg.getById(parseInt(n));a(e)}catch(e){console.error("Error fetching routing:",e),c(e instanceof Error?e.message:"Failed to fetch routing"),Ze.error("Failed to fetch routing data")}finally{i(!1)}})},[n]),l?x.jsx(Do,{breadcrumbs:Qg,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading routing..."})]})})}):o||!r?x.jsx(Do,{breadcrumbs:Qg,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsxs("p",{className:"text-destructive",children:["Error loading routing: ",o]}),x.jsx(cr,{onClick:()=>s("/smpp-routings"),className:"mt-4",children:"Back to List"})]})})}):x.jsx(Do,{breadcrumbs:Qg,children:x.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r.name}),x.jsx("p",{className:"text-muted-foreground",children:r.description})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(cr,{variant:"outline",onClick:()=>s(`/smpp-routings/${r.id}/edit`),children:"Edit"}),x.jsx(cr,{variant:"outline",onClick:()=>s("/smpp-routings"),children:"Back to List"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Basic Information"})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"Status:"}),x.jsx($l,{variant:r.status_badge_variant,children:r.is_active?"Active":"Inactive"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"Priority:"}),x.jsx($l,{variant:"outline",children:r.priority})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"Total SMS Count:"}),x.jsx($l,{variant:"outline",children:r.total_sms_count||"N/A"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"Source Type:"}),x.jsx($l,{variant:r.source_type_badge_variant,children:(null==(e=r.source_type)?void 0:e.toUpperCase())||"N/A"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"Direction:"}),x.jsx($l,{variant:r.direction_badge_variant,children:r.direction||"N/A"})]}),r.system_id&&x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"System ID:"}),x.jsx("span",{className:"text-sm",children:r.system_id})]}),r.destination_address&&x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"Destination Pattern:"}),x.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:r.destination_address})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Target Configuration"})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"Target Type:"}),x.jsx($l,{variant:r.target_type_badge_variant,children:(null==(t=r.target_type)?void 0:t.replace("_"," "))||"N/A"})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"Device Groups:"}),x.jsxs("div",{className:"text-sm text-right",children:[r.device_group_ids?(()=>{try{const e=JSON.parse(r.device_group_ids);return Array.isArray(e)?e.length:0}catch(e){return 0}})():0," groups selected"]})]}),r.device_group_ids&&x.jsxs("div",{className:"mt-2",children:[x.jsx("span",{className:"font-medium text-xs",children:"Selected Groups:"}),x.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:(()=>{try{const e=JSON.parse(r.device_group_ids);return Array.isArray(e)?e.join(", "):"N/A"}catch(e){return"N/A"}})()})]}),r.device_group_configs&&Array.isArray(r.device_group_configs)&&r.device_group_configs.length>0&&x.jsxs("div",{className:"mt-4",children:[x.jsx("span",{className:"font-medium text-xs",children:"Device Group Configurations:"}),x.jsx("div",{className:"mt-2 space-y-2",children:r.device_group_configs.map((e,t)=>x.jsxs("div",{className:"text-xs bg-muted p-2 rounded",children:[x.jsxs("div",{className:"font-medium",children:["Group ID: ",e.device_group_id]}),x.jsxs("div",{children:["Priority: ",e.priority||"N/A"]}),x.jsxs("div",{children:["Total SMS: ",e.total_sms_count||"N/A"]}),x.jsxs("div",{children:["Strategy: ",e.device_selection_strategy||"N/A"]}),x.jsxs("div",{children:["SIM Config: ",e.sim_card_selection_strategy||"N/A"]})]},t))})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Device Selection Strategy"})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"Strategy:"}),x.jsx($l,{variant:"outline",children:r.device_selection_strategy||"N/A"})]}),r.target_device_ids&&x.jsxs("div",{children:[x.jsx("span",{className:"font-medium",children:"Target Devices:"}),x.jsx("div",{className:"mt-2",children:JSON.parse(r.target_device_ids).map((e,t)=>x.jsx($l,{variant:"secondary",className:"mr-1 mb-1",children:e},t))})]})]})]}),x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"SIM Card Configuration"})}),x.jsxs(Vo,{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"SIM Slot Preference:"}),x.jsxs($l,{variant:"outline",children:["SIM ",r.sim_slot_preference||1]})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"SIM Selection Strategy:"}),x.jsx($l,{variant:"outline",children:r.sim_card_selection_strategy||"N/A"})]})]})]}),x.jsxs(To,{className:"md:col-span-2",children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Timestamps"})}),x.jsx(Vo,{className:"space-y-4",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"Created At:"}),x.jsx("span",{className:"text-sm",children:new Date(r.created_at).toLocaleString()})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-medium",children:"Updated At:"}),x.jsx("span",{className:"text-sm",children:new Date(r.updated_at).toLocaleString()})]})]})})]})]})]})})}const Xg=[{title:"Dashboard",href:"/dashboard"},{title:"SMPP Routings",href:"/smpp-routings"},{title:"Edit",href:"/smpp-routings/edit"}];function Jg(){const e=pe(),{id:t}=ve(),[s,n]=me.useState(!1),[r,a]=me.useState(null),[l,i]=me.useState({}),[d,u]=me.useState({name:"",description:"",source_type:"smpp",direction:"inbound",system_id:"",destination_address:"",target_type:"device_group",device_group_ids:[],user_id:"",is_active:!0}),[m,f]=me.useState({});me.useEffect(()=>{t&&h(null,null,function*(){try{const[s,n]=yield Promise.all([Hg.getById(parseInt(t)),Hg.getFilterOptions()]);console.log("Routing data received:",s),console.log("Filter options received:",n),a(n);let r=[];if(s.device_group_ids)try{r=JSON.parse(s.device_group_ids)}catch(e){console.error("Error parsing device_group_ids:",e)}u({name:s.name,description:s.description,source_type:s.source_type,direction:s.direction,system_id:s.system_id||"",destination_address:s.destination_address||"",target_type:s.target_type,device_group_ids:r,user_id:s.user_id?String(s.user_id):"",is_active:s.is_active});const l={};console.log("Device group configs from backend:",s.device_group_configs),s.device_group_configs&&Array.isArray(s.device_group_configs)&&s.device_group_configs.forEach(e=>{console.log("Processing config:",e),l[e.device_group_id]={priority:e.priority||50,total_sms_count:e.total_sms_count||1e3,device_selection_strategy:e.device_selection_strategy||"round_robin",sim_card_selection_strategy:e.sim_card_selection_strategy||"preferred",sim_slot_preference:e.sim_slot_preference||1}}),r.forEach(e=>{l[e]||(l[e]={priority:50,total_sms_count:1e3,device_selection_strategy:"round_robin",sim_card_selection_strategy:"preferred",sim_slot_preference:1})}),console.log("Final device group configs:",l),f(l)}catch(s){console.error("Error fetching data:",s),Ze.error("Failed to fetch routing data")}})},[t]);const p=e=>{const{name:t,value:s,type:n,checked:r}=e.target;u(e=>c(o({},e),{[t]:"checkbox"===n?r:s}))},g=(e,t)=>{u(s=>c(o({},s),"source_type"===e?{source_type:t,user_id:"http"===t?s.user_id:""}:{[e]:t}))};return r?x.jsx(Do,{breadcrumbs:Xg,children:x.jsx("div",{className:"max-w-4xl mx-auto p-4",children:x.jsxs(To,{children:[x.jsx(Lo,{children:x.jsx(zo,{children:"Edit SMPP Routing"})}),x.jsx(Vo,{children:x.jsxs("form",{onSubmit:s=>h(null,null,function*(){var r,a;s.preventDefault(),n(!0),i({});try{const s={name:d.name,description:d.description,source_type:d.source_type,direction:d.direction,destination_address:d.destination_address,target_type:d.target_type,is_active:d.is_active};"smpp"===d.source_type&&d.system_id&&(s.system_id=d.system_id),"http"===d.source_type&&d.user_id&&(s.user_id=parseInt(d.user_id)),"device_group"===d.target_type&&d.device_group_ids.length>0&&(s.device_group_ids=d.device_group_ids,s.device_group_configs=d.device_group_ids.map(e=>o({device_group_id:e},m[e]))),yield Hg.update(parseInt(t),s),Ze.success("SMPP routing updated successfully"),e("/smpp-routings")}catch(l){console.error("Error updating SMPP routing:",l),(null==(a=null==(r=l.response)?void 0:r.data)?void 0:a.errors)?i(l.response.data.errors):Ze.error(l.message||"Failed to update SMPP routing")}finally{n(!1)}}),className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"name",children:"Name"}),x.jsx(dr,{id:"name",name:"name",placeholder:"Routing name",value:d.name,onChange:p,required:!0}),l.name&&x.jsx("p",{className:"text-sm text-destructive mt-1",children:l.name})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"source_type",children:"Source Type"}),x.jsxs(Xu,{value:d.source_type,onValueChange:e=>g("source_type",e),children:[x.jsx(Zu,{id:"source_type",className:"w-full",children:x.jsx(Ju,{placeholder:"Source Type"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"smpp",children:"SMPP"}),x.jsx(tm,{value:"http",children:"HTTP"})]})]})]}),"smpp"===d.source_type&&x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"system_id",children:"System ID"}),x.jsxs(Xu,{value:d.system_id||void 0,onValueChange:e=>g("system_id",e),children:[x.jsx(Zu,{id:"system_id",className:"w-full",children:x.jsx(Ju,{placeholder:"Select System ID"})}),x.jsx(em,{children:r.smpp_users.map(e=>x.jsx(tm,{value:e,children:e},e))})]})]}),"http"===d.source_type&&x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"user_id",children:"User"}),x.jsxs(Xu,{value:d.user_id||void 0,onValueChange:e=>g("user_id",e),children:[x.jsx(Zu,{id:"user_id",className:"w-full",children:x.jsx(Ju,{placeholder:"Select User"})}),x.jsx(em,{children:r.users.map(e=>x.jsx(tm,{value:String(e.id),children:e.username},e.id))})]})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"direction",children:"Direction"}),x.jsxs(Xu,{value:d.direction,onValueChange:e=>g("direction",e),children:[x.jsx(Zu,{id:"direction",className:"w-full",children:x.jsx(Ju,{placeholder:"Direction"})}),x.jsxs(em,{children:[x.jsx(tm,{value:"inbound",children:"Inbound"}),x.jsx(tm,{value:"outbound",children:"Outbound"})]})]})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"description",children:"Description"}),x.jsx(dr,{id:"description",name:"description",placeholder:"Description",value:d.description,onChange:p})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"target_type",children:"Target Type"}),x.jsxs(Xu,{value:d.target_type,onValueChange:e=>g("target_type",e),children:[x.jsx(Zu,{id:"target_type",className:"w-full",children:x.jsx(Ju,{placeholder:"Target Type"})}),x.jsx(em,{children:x.jsx(tm,{value:"device_group",children:"Device Group"})})]})]}),"device_group"===d.target_type&&x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"device_groups",children:"Device Groups"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs(Xu,{onValueChange:e=>{const t=parseInt(e);d.device_group_ids.includes(t)||(u(e=>c(o({},e),{device_group_ids:[...e.device_group_ids,t]})),f(e=>c(o({},e),{[t]:{priority:50,total_sms_count:1e3,device_selection_strategy:"round_robin",sim_card_selection_strategy:"preferred",sim_slot_preference:1}})))},children:[x.jsx(Zu,{id:"device_groups",className:"w-full",children:x.jsx(Ju,{placeholder:"Select Device Groups"})}),x.jsx(em,{children:r.device_groups.filter(e=>!d.device_group_ids.includes(e.id)).map(e=>x.jsxs(tm,{value:e.id.toString(),children:[e.name," ",e.queue_name&&`(${e.queue_name})`]},e.id))})]}),d.device_group_ids.length>0&&x.jsx("div",{className:"space-y-2",children:d.device_group_ids.map(e=>{const t=r.device_groups.find(t=>t.id===e);return t?x.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded-md",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:"font-medium text-sm",children:t.name}),t.queue_name&&x.jsx("div",{className:"text-xs text-muted-foreground",children:t.queue_name})]}),x.jsx(cr,{type:"button",variant:"ghost",size:"sm",onClick:()=>{u(t=>c(o({},t),{device_group_ids:t.device_group_ids.filter(t=>t!==e)})),f(t=>{const s=o({},t);return delete s[e],s})},children:x.jsx(Xs,{className:"h-3 w-3"})})]},e):null})})]})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:"destination_address",children:"Destination Address Pattern"}),x.jsx(dr,{id:"destination_address",name:"destination_address",placeholder:"* (all addresses), +90* (starting with 90), *123 (ending with 123)",value:d.destination_address,onChange:p,required:!0}),x.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[x.jsx("strong",{children:"Examples:"}),x.jsx("br",{})," ",x.jsx("code",{children:"*"})," - All phone numbers",x.jsx("br",{})," ",x.jsx("code",{children:"+90*"})," - Numbers starting with 90",x.jsx("br",{})," ",x.jsx("code",{children:"*123"})," - Numbers ending with 123",x.jsx("br",{})," ",x.jsx("code",{children:"+905551234567"})," - Specific number"]}),l.destination_address&&x.jsx("p",{className:"text-sm text-destructive mt-1",children:l.destination_address})]})]})]}),"device_group"===d.target_type&&d.device_group_ids.length>0&&x.jsx("div",{className:"border-t pt-6",children:x.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[x.jsxs("div",{className:"bg-muted px-6 py-3 border-b",children:[x.jsx("h4",{className:"font-medium",children:"Device Group Configurations"}),x.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure individual settings for each selected device group"})]}),x.jsx("div",{className:"divide-y",children:d.device_group_ids.map(e=>{var t,s,n,a;const l=r.device_groups.find(t=>t.id===e);return l?x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:"font-medium text-base",children:l.name}),l.queue_name&&x.jsx("div",{className:"text-sm text-muted-foreground",children:l.queue_name})]}),x.jsx(cr,{type:"button",variant:"ghost",size:"sm",onClick:()=>{u(t=>c(o({},t),{device_group_ids:t.device_group_ids.filter(t=>t!==e)})),f(t=>{const s=o({},t);return delete s[e],s})},children:x.jsx(Xs,{className:"h-4 w-4"})})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsxs("div",{children:[x.jsx(Io,{htmlFor:`priority_${e}`,className:"text-sm font-medium",children:"Priority"}),x.jsx(dr,{id:`priority_${e}`,type:"number",min:0,max:100,value:(null==(t=m[e])?void 0:t.priority)||50,onChange:t=>{f(s=>c(o({},s),{[e]:c(o({},s[e]),{priority:parseInt(t.target.value)||50})}))},className:"mt-1"}),x.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Priority level (0-100)"})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:`total_sms_${e}`,className:"text-sm font-medium",children:"Total SMS"}),x.jsx(dr,{id:`total_sms_${e}`,type:"number",min:1,value:(null==(s=m[e])?void 0:s.total_sms_count)||1e3,onChange:t=>{f(s=>c(o({},s),{[e]:c(o({},s[e]),{total_sms_count:parseInt(t.target.value)||1e3})}))},className:"mt-1"}),x.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Total SMS count"})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:`strategy_${e}`,className:"text-sm font-medium",children:"Strategy"}),x.jsxs(Xu,{value:(null==(n=m[e])?void 0:n.device_selection_strategy)||"round_robin",onValueChange:t=>{f(s=>c(o({},s),{[e]:c(o({},s[e]),{device_selection_strategy:t})}))},children:[x.jsx(Zu,{className:"mt-1",children:x.jsx(Ju,{})}),x.jsxs(em,{children:[x.jsx(tm,{value:"round_robin",children:"Round Robin"}),x.jsx(tm,{value:"least_used",children:"Least Used"}),x.jsx(tm,{value:"random",children:"Random"}),x.jsx(tm,{value:"specific",children:"Specific"})]})]}),x.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Device selection method"})]}),x.jsxs("div",{children:[x.jsx(Io,{htmlFor:`sim_${e}`,className:"text-sm font-medium",children:"SIM Config"}),x.jsxs(Xu,{value:(null==(a=m[e])?void 0:a.sim_card_selection_strategy)||"preferred",onValueChange:t=>{f(s=>c(o({},s),{[e]:c(o({},s[e]),{sim_card_selection_strategy:t,sim_slot_preference:"sim1_preferred"===t?1:"sim2_preferred"===t?2:1})}))},children:[x.jsx(Zu,{className:"mt-1",children:x.jsx(Ju,{})}),x.jsxs(em,{children:[x.jsx(tm,{value:"preferred",children:"Preferred"}),x.jsx(tm,{value:"round_robin",children:"Round Robin"}),x.jsx(tm,{value:"least_used",children:"Least Used"})]})]}),x.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"SIM card selection"})]})]})]},e):null})})]})}),x.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[x.jsx("input",{type:"checkbox",name:"is_active",checked:d.is_active,onChange:p,id:"is_active"}),x.jsx(Io,{htmlFor:"is_active",children:"Active"})]}),Object.keys(l).length>0&&x.jsx("div",{className:"text-destructive text-sm",children:Object.values(l).map((e,t)=>x.jsx("div",{children:e},t))}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(cr,{type:"submit",className:"flex-1",disabled:s,children:s?"Updating...":"Update Routing"}),x.jsx(cr,{type:"button",variant:"outline",onClick:()=>e("/smpp-routings"),disabled:s,children:"Cancel"})]})]})})]})})}):x.jsx(Do,{breadcrumbs:Xg,children:x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})})}function Zg(){const{checkAuth:e,token:t,isAuthenticated:s}=dt();return me.useEffect(()=>{e()},[e]),me.useEffect(()=>{if(s&&t){if(ct(t))return console.log("JWT token is expired on app startup, logging out user"),dt.getState().logout(),localStorage.removeItem("token"),localStorage.removeItem("user"),void(window.location.href="/login");const e=setInterval(()=>{ct(t)&&(console.log("JWT token is expired, logging out user"),dt.getState().logout(),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login")},3e5);return()=>clearInterval(e)}},[s,t]),x.jsx(Ue,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:x.jsx(ft,{children:x.jsx(ye,{children:x.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[x.jsxs(be,{children:[x.jsx(Ne,{path:"/login",element:x.jsx(Rc,{})}),x.jsx(Ne,{path:"/register",element:x.jsx(Lc,{})}),x.jsx(Ne,{path:"/forgot-password",element:x.jsx(zc,{})}),x.jsx(Ne,{path:"/dashboard",element:x.jsx(ut,{children:x.jsx(mc,{})})}),x.jsx(Ne,{path:"/devices",element:x.jsx(ut,{children:x.jsx(Mx,{})})}),x.jsx(Ne,{path:"/devices/:imei",element:x.jsx(ut,{children:x.jsx(zx,{})})}),x.jsx(Ne,{path:"/settings",element:x.jsx(ut,{children:x.jsx(Wo,{})})}),x.jsx(Ne,{path:"/users",element:x.jsx(ut,{children:x.jsx(eh,{})})}),x.jsx(Ne,{path:"/users/create",element:x.jsx(ut,{children:x.jsx(ah,{})})}),x.jsx(Ne,{path:"/users/:id",element:x.jsx(ut,{children:x.jsx(sh,{})})}),x.jsx(Ne,{path:"/users/:id/edit",element:x.jsx(ut,{children:x.jsx(oh,{})})}),x.jsx(Ne,{path:"/roles",element:x.jsx(ut,{children:x.jsx(uh,{})})}),x.jsx(Ne,{path:"/roles/create",element:x.jsx(ut,{children:x.jsx(ph,{})})}),x.jsx(Ne,{path:"/roles/:id",element:x.jsx(ut,{children:x.jsx(hh,{})})}),x.jsx(Ne,{path:"/roles/:id/edit",element:x.jsx(ut,{children:x.jsx(vh,{})})}),x.jsx(Ne,{path:"/permissions",element:x.jsx(ut,{children:x.jsx(bh,{})})}),x.jsx(Ne,{path:"/permissions/create",element:x.jsx(ut,{children:x.jsx(Sh,{})})}),x.jsx(Ne,{path:"/permissions/:id",element:x.jsx(ut,{children:x.jsx(_h,{})})}),x.jsx(Ne,{path:"/permissions/:id/edit",element:x.jsx(ut,{children:x.jsx(Ch,{})})}),x.jsx(Ne,{path:"/country-sites",element:x.jsx(ut,{children:x.jsx(Ux,{})})}),x.jsx(Ne,{path:"/country-sites/create",element:x.jsx(ut,{children:x.jsx(Bx,{})})}),x.jsx(Ne,{path:"/country-sites/:id/edit",element:x.jsx(ut,{children:x.jsx($x,{})})}),x.jsx(Ne,{path:"/device-groups",element:x.jsx(ut,{children:x.jsx(up,{})})}),x.jsx(Ne,{path:"/device-groups/create",element:x.jsx(ut,{children:x.jsx(Cp,{})})}),x.jsx(Ne,{path:"/device-groups/:id/edit",element:x.jsx(ut,{children:x.jsx(Mp,{})})}),x.jsx(Ne,{path:"/qr-generator",element:x.jsx(ut,{children:x.jsx(Ep,{})})}),x.jsx(Ne,{path:"/blacklist-numbers",element:x.jsx(ut,{children:x.jsx(Dp,{})})}),x.jsx(Ne,{path:"/blacklist-numbers/create",element:x.jsx(ut,{children:x.jsx(Rp,{})})}),x.jsx(Ne,{path:"/blacklist-numbers/:id",element:x.jsx(ut,{children:x.jsx(zp,{})})}),x.jsx(Ne,{path:"/blacklist-numbers/:id/edit",element:x.jsx(ut,{children:x.jsx(Tp,{})})}),x.jsx(Ne,{path:"/smpp-users",element:x.jsx(ut,{children:x.jsx(Up,{})})}),x.jsx(Ne,{path:"/smpp-users/create",element:x.jsx(ut,{children:x.jsx($p,{})})}),x.jsx(Ne,{path:"/smpp-users/:id",element:x.jsx(ut,{children:x.jsx(qp,{})})}),x.jsx(Ne,{path:"/smpp-users/:id/edit",element:x.jsx(ut,{children:x.jsx(Hp,{})})}),x.jsx(Ne,{path:"/sms-logs",element:x.jsx(ut,{children:x.jsx(Qp,{})})}),x.jsx(Ne,{path:"/sms-logs/:id",element:x.jsx(ut,{children:x.jsx(Yp,{})})}),x.jsx(Ne,{path:"/alarm-logs",element:x.jsx(ut,{children:x.jsx(Zp,{})})}),x.jsx(Ne,{path:"/alarm-logs/:id",element:x.jsx(ut,{children:x.jsx(eg,{})})}),x.jsx(Ne,{path:"/filters",element:x.jsx(ut,{children:x.jsx(ng,{})})}),x.jsx(Ne,{path:"/filters/create",element:x.jsx(ut,{children:x.jsx(lg,{})})}),x.jsx(Ne,{path:"/filters/:id",element:x.jsx(ut,{children:x.jsx(mg,{})})}),x.jsx(Ne,{path:"/filters/:id/edit",element:x.jsx(ut,{children:x.jsx(cg,{})})}),x.jsx(Ne,{path:"/schedule-tasks",element:x.jsx(ut,{children:x.jsx(fg,{})})}),x.jsx(Ne,{path:"/schedule-tasks/create",element:x.jsx(ut,{children:x.jsx(gg,{})})}),x.jsx(Ne,{path:"/schedule-tasks/:id",element:x.jsx(ut,{children:x.jsx(jg,{})})}),x.jsx(Ne,{path:"/schedule-tasks/:id/edit",element:x.jsx(ut,{children:x.jsx(bg,{})})}),x.jsx(Ne,{path:"/ussd-logs",element:x.jsx(ut,{children:x.jsx(wg,{})})}),x.jsx(Ne,{path:"/ussd-logs/:id",element:x.jsx(ut,{children:x.jsx(Sg,{})})}),x.jsx(Ne,{path:"/sim-cards",element:x.jsx(ut,{children:x.jsx(Mg,{})})}),x.jsx(Ne,{path:"/sim-cards/:id",element:x.jsx(ut,{children:x.jsx(Fg,{})})}),x.jsx(Ne,{path:"/mcc-mnc",element:x.jsx(ut,{children:x.jsx(Lg,{})})}),x.jsx(Ne,{path:"/mcc-mnc/create",element:x.jsx(ut,{children:x.jsx(Og,{})})}),x.jsx(Ne,{path:"/mcc-mnc/:id",element:x.jsx(ut,{children:x.jsx(Ug,{})})}),x.jsx(Ne,{path:"/mcc-mnc/:id/edit",element:x.jsx(ut,{children:x.jsx($g,{})})}),x.jsx(Ne,{path:"/smpp-routings",element:x.jsx(ut,{children:x.jsx(Gg,{})})}),x.jsx(Ne,{path:"/smpp-routings/create",element:x.jsx(ut,{children:x.jsx(Kg,{})})}),x.jsx(Ne,{path:"/smpp-routings/:id",element:x.jsx(ut,{children:x.jsx(Yg,{})})}),x.jsx(Ne,{path:"/smpp-routings/:id/edit",element:x.jsx(ut,{children:x.jsx(Jg,{})})}),x.jsx(Ne,{path:"/",element:x.jsx(xe,{to:"/login",replace:!0})})]}),x.jsx(it,{})]})})})})}const ev=e=>{const t="dark"===e||"system"===e&&"undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",t)},tv=()=>{const e=localStorage.getItem("appearance");ev(e||"system")};!function(){var e;const t=localStorage.getItem("appearance")||"system";ev(t),null==(e="undefined"==typeof window?null:window.matchMedia("(prefers-color-scheme: dark)"))||e.addEventListener("change",tv)}(),Fe.createRoot(document.getElementById("root")).render(x.jsxs(ue.StrictMode,{children:[x.jsx(Zg,{}),x.jsx(it,{})]}))}},function(){return Ce||(0,ke[n(ke)[0]])((Ce={exports:{}}).exports,Ce),Ce.exports});export default Me();
